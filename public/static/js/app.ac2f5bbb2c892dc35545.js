webpackJsonp([2],{"+clz":function(e,t){},"+gSl":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("X2Oc"),n={name:"melt",components:{dialogForm:a("Y2Uw").default},data:function(){return{castId:6,searchForm:{melter:"",date:[]},loading:!1,tableData:[],dialogVisible:!1,formType:"create",rowData:{},pageConfig:{total:1,current:1,pageSize:10}}},beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData()},methods:{dateFormat:function(e,t){return Object(o.a)(e.createdAt)},dateTimeFormat:function(e,t){return Object(o.b)(e.updatedAt)},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={melter:"",date:[]};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],melter:this.searchForm.melter};i()(t,a),this.$http("get",l.a.queryMelt,t).then(function(t){e.pageConfig.total=t.count,e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},createMelt:function(){this.dialogVisible=!0,this.formType="create"},edit:function(e){this.rowData=e,this.dialogVisible=!0,this.formType="edit"},del:function(e){var t=this,a=e._id,r=e.furnace;this.$confirm("删除后数据无法恢复，确定删除 "+r+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",l.a.delMelt,{_id:a}).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.pageConfig.current=1,this.getTableData()},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("化钢记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"冶炼日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"冶炼人："}},[a("el-input",{attrs:{placeholder:"请输入冶炼人姓名"},model:{value:e.searchForm.melter,callback:function(t){e.$set(e.searchForm,"melter",t)},expression:"searchForm.melter"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createMelt}},[e._v("创建化钢记录")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"createdAt",label:"冶炼日期",align:"center",width:"110px",formatter:e.dateFormat,fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"80px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center",width:"170px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bucket",label:"桶号",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"melter",label:"化钢人",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"meltFurnace",label:"冶炼炉",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"newAlloyNumber",label:"新料炉号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"newAlloyWeight",label:"新料重量(kg)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oldAlloyNumber",label:"加工料炉号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oldAlloyWeight",label:"加工料重量(kg)",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mixAlloyNumber",label:"回炉锭炉号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mixAlloyWeight",label:"回炉锭重量(kg)",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"highNbNumber",label:"高铌料炉号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Si",label:"硅(g)",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Ni",label:"镍(g)",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Cu",label:"铜(g)",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"BFe",label:"硼铁(g)",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"NbFe",label:"铌铁(g)",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyTotalWeight",label:"总重量(kg)",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyOutWeight",label:"放钢重量(kg)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyFixWeight",label:"修正重量(kg)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"100px","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",align:"center",width:"170px",formatter:e.dateTimeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var c=a("VU/8")(n,s,!1,function(e){a("HCnR")},"data-v-697d0252",null);t.default=c.exports},"0vds":function(e,t){},"2AnY":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("2LmT"),i=a("g7mi"),l={name:"user",components:{dialogForm:r.default},data:function(){return{dialogVisible:!1,formType:"create",rowData:{},tableData:[],loading:!0}},created:function(){this.getUserList()},methods:{getUserList:function(){var e=this;this.$http("GET",i.a.queryUser,{roleId:1}).then(function(t){e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},createUser:function(){this.dialogVisible=!0,this.formType="create"},delUser:function(e){var t=this,a=e.username,r=e.adminname;this.$confirm("删除后数据无法恢复，确定要删除 "+r+"-"+a+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",i.a.delUser,{username:a}).then(function(e){t.getUserList()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.getUserList()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("账号管理")])],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createUser}},[e._v("新增用户")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"账号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleId",label:"角色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.roleId?a("span",[e._v("厂长")]):e._e(),e._v(" "),2===t.row.roleId?a("span",[e._v("生产计划")]):e._e(),e._v(" "),3===t.row.roleId?a("span",[e._v("普通管理员")]):e._e(),e._v(" "),4===t.row.roleId?a("span",[e._v("重卷")]):e._e(),e._v(" "),5===t.row.roleId?a("span",[e._v("检测")]):e._e(),e._v(" "),6===t.row.roleId?a("span",[e._v("库房")]):e._e(),e._v(" "),7===t.row.roleId?a("span",[e._v("6号机组-喷带")]):e._e(),e._v(" "),8===t.row.roleId?a("span",[e._v("6号机组-化钢")]):e._e(),e._v(" "),9===t.row.roleId?a("span",[e._v("7号机组-喷带")]):e._e(),e._v(" "),10===t.row.roleId?a("span",[e._v("7号机组-化钢")]):e._e(),e._v(" "),11===t.row.roleId?a("span",[e._v("8号机组-喷带")]):e._e(),e._v(" "),12===t.row.roleId?a("span",[e._v("8号机组-化钢")]):e._e(),e._v(" "),13===t.row.roleId?a("span",[e._v("9号机组-喷带")]):e._e(),e._v(" "),14===t.row.roleId?a("span",[e._v("9号机组-化钢")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"adminname",label:"姓名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"注册时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"loginTime",label:"最后登录时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delUser(t.row)}}},[e._v("删除账户")])]}}])})],1)],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var n=a("VU/8")(l,o,!1,function(e){a("GO/p")},"data-v-2e9850e6",null);t.default=n.exports},"2LmT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o={roleId:"",username:"",adminname:""},n=[{id:2,name:"生产计划"},{id:3,name:"普通管理员"},{id:4,name:"重卷"},{id:5,name:"检测"},{id:6,name:"库房"},{id:7,name:"6号机组-喷带"},{id:8,name:"6号机组-化钢"},{id:9,name:"7号机组-喷带"},{id:10,name:"7号机组-化钢"},{id:11,name:"8号机组-喷带"},{id:12,name:"8号机组-化钢"},{id:13,name:"9号机组-喷带"},{id:14,name:"9号机组-化钢"}],s={props:{dialogData:{type:Object,required:!0}},data:function(){return{formData:{roleId:"",username:"",adminname:""},roleList:n,rules:{roleId:[{required:!0,message:"请选择角色",trigger:"blur"}],username:[{required:!0,message:"请填写账号",trigger:"blur"},{max:20,message:"账号长度在6-20位之间",trigger:"blur"},{min:6,message:"账号长度在6-20位之间",trigger:"blur"}],adminname:[{required:!0,message:"请填写姓名",trigger:"blur"},{max:10,message:"姓名长度在2-10位之间",trigger:"blur"},{min:2,message:"姓名长度在2-10位之间",trigger:"blur"},{pattern:/^[\u4e00-\u9fa5]+$/,message:"只能输入中文汉字",trigger:"blur"}]},loading:!1}},created:function(){"create"===this.dialogData.formType?this.formData=i()({},o):this.formData=i()(this.formData,this.dialogData.rowData)},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.$http("POST",l.a.addUser,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增用户":"修改用户",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"30%","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"角色：",prop:"roleId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.roleId,callback:function(t){e.$set(e.formData,"roleId",t)},expression:"formData.roleId"}},e._l(e.roleList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账号：",prop:"username"}},[a("el-input",{model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"adminname"}},[a("el-input",{model:{value:e.formData.adminname,callback:function(t){e.$set(e.formData,"adminname",t)},expression:"formData.adminname"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("YtDc")},"data-v-31b1c7da",null);t.default=u.exports},"53b/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),l=a("NYxO"),o=a("g2Lu"),n=a("g7mi"),s={name:"ribbon",components:{dialogForm:o.default},data:function(){return{dialogVisible:!1,formType:"create",rowData:{},tableData:[],loading:!1}},computed:i()({},Object(l.c)(["laminationLevelList"])),created:function(){this.getLaminationLevelList()},methods:i()({},Object(l.b)(["getLaminationLevelList"]),{add:function(){this.dialogVisible=!0,this.formType="create"},edit:function(e){this.dialogVisible=!0,this.formType="edit",this.rowData=e},del:function(e){var t=this,a=(e.laminationLevelId,e.laminationLevel);this.$confirm("删除后数据无法恢复，确定要删除 "+a+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",n.a.delLaminationLevel,{ribbonTypeId:ribbonTypeId}).then(function(e){t.getLaminationLevelList()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.getLaminationLevelList()}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("带材叠片等级管理")])],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("新增带材叠片等级")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.laminationLevelList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"laminationLevel",label:"带材叠片等级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"laminationFactorRange",label:"对应叠片系数范围",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("WMsK")},"data-v-0a7a0a54",null);t.default=u.exports},"5fnc":function(e,t){},"6xz9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("X2Oc"),n={name:"melt",data:function(){return{castId:6,searchForm:{caster:"",furnace:"",date:[]},loading:!1,tableData:[],pageConfig:{total:1,current:1,pageSize:10}}},beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData()},methods:{dateFormat:function(e,t){return Object(o.a)(e.castDate)},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={caster:"",furnace:"",date:[]};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],caster:this.searchForm.caster,furnace:this.searchForm.furnace};i()(t,a),this.$http("get",l.a.queryMeasure,t).then(function(t){e.pageConfig.total=t.count,t.list&&t.list.forEach(function(e){e.isEditing=!1}),e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},edit:function(e){e.isEditing=!0},del:function(e){var t=this,a=e._id,r=e.furnace,i=e.coilNumber;this.$confirm("删除后数据无法恢复，确定删除 "+r+" 的第 "+i+" 盘吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",l.a.delMeasure,{_id:a}).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},save:function(e){e.isEditing=!1,e.laminationFactor=((e.coilWeight-.09)/(Math.PI*(e.diameter*e.diameter/4-9025/4)*7.2)*Math.pow(10,6)/e.realRibbonWidth).toFixed(2),e.laminationLevel=this.calcLaminationLevel(e.laminationFactor),e.ribbonThickness1="string"==typeof e.ribbonThickness1?Number(e.ribbonThickness1.trim()):e.ribbonThickness1,e.ribbonThickness2="string"==typeof e.ribbonThickness2?Number(e.ribbonThickness2.trim()):e.ribbonThickness2,e.ribbonThickness3="string"==typeof e.ribbonThickness3?Number(e.ribbonThickness3.trim()):e.ribbonThickness3,e.ribbonThickness4="string"==typeof e.ribbonThickness4?Number(e.ribbonThickness4.trim()):e.ribbonThickness4,e.ribbonThickness5="string"==typeof e.ribbonThickness5?Number(e.ribbonThickness5.trim()):e.ribbonThickness5,e.ribbonThickness6="string"==typeof e.ribbonThickness6?Number(e.ribbonThickness6.trim()):e.ribbonThickness6,e.ribbonThickness7="string"==typeof e.ribbonThickness7?Number(e.ribbonThickness7.trim()):e.ribbonThickness7,e.ribbonThickness8="string"==typeof e.ribbonThickness8?Number(e.ribbonThickness8.trim()):e.ribbonThickness8,e.ribbonThickness9="string"==typeof e.ribbonThickness9?Number(e.ribbonThickness9.trim()):e.ribbonThickness9,e.ribbonThicknessDeviation=this.calcMaxDeviation([e.ribbonThickness1,e.ribbonThickness2,e.ribbonThickness3,e.ribbonThickness4,e.ribbonThickness5,e.ribbonThickness6,e.ribbonThickness7,e.ribbonThickness8,e.ribbonThickness9]),e.ribbonThickness=((e.ribbonThickness1+e.ribbonThickness2+e.ribbonThickness3+e.ribbonThickness4+e.ribbonThickness5+e.ribbonThickness6+e.ribbonThickness7+e.ribbonThickness8+e.ribbonThickness9)/9).toFixed(2),e.ribbonThicknessLevel=this.calcribbonThicknessLevel(e.ribbonThickness),e.ribbonTotalLevel="不合格"===e.laminationLevel?"不合格":e.ribbonThicknessLevel+e.laminationLevel+e.ribbonToughnessLevel+e.appearenceLevel,"不合格"===e.ribbonTotalLevel&&(e.isStored="否"),this.$http("PUT",l.a.updateMeasure,e).then(function(e){}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)},calcLaminationLevel:function(e){return e?e>=.84?"4":e>=.82&&e<.84?"3":e>=.8&&e<.82?"2":e>=.78&&e<.8?"1":e>=.75&&e<.78?"0":"不合格":""},calcMaxDeviation:function(e){return e.sort(function(e,t){return e-t}),e[e.length-1]-e[0]},calcribbonThicknessLevel:function(e){if(e)return e>26?1:e>23&&e<=26?2:e>20&&e<=23?3:e>18&&e<=20?4:e>16&&e<=18?5:e>14&&e<=16?6:e>12&&e<=14?7:e<=12?8:void 0}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("检测记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"生产日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"喷带手："}},[a("el-input",{attrs:{placeholder:"请输入喷带手姓名"},model:{value:e.searchForm.caster,callback:function(t){e.$set(e.searchForm,"caster",t)},expression:"searchForm.caster"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"炉号："}},[a("el-input",{attrs:{placeholder:"请输入炉号"},model:{value:e.searchForm.furnace,callback:function(t){e.$set(e.searchForm,"furnace",t)},expression:"searchForm.furnace"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center",width:"170px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilNumber",label:"盘号",align:"center",width:"50px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"规格",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castDate",label:"生产日期",align:"center",formatter:e.dateFormat,width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"caster",label:"喷带手",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"diameter",label:"外径(mm)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilWeight",label:"重量(kg)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"laminationFactor",label:"叠片系数",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"laminationLevel",label:"叠片等级",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realRibbonWidth",label:"实际带宽",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.realRibbonWidth)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.realRibbonWidth,callback:function(a){e.$set(t.row,"realRibbonWidth",a)},expression:"scope.row.realRibbonWidth"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness1",label:"带厚1(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness1)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness1,callback:function(a){e.$set(t.row,"ribbonThickness1",a)},expression:"scope.row.ribbonThickness1"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness2",label:"带厚2(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness2)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness2,callback:function(a){e.$set(t.row,"ribbonThickness2",a)},expression:"scope.row.ribbonThickness2"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness3",label:"带厚3(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness3)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness3,callback:function(a){e.$set(t.row,"ribbonThickness3",a)},expression:"scope.row.ribbonThickness3"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness4",label:"带厚4(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness4)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness4,callback:function(a){e.$set(t.row,"ribbonThickness4",a)},expression:"scope.row.ribbonThickness4"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness5",label:"带厚5(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness5)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness5,callback:function(a){e.$set(t.row,"ribbonThickness5",a)},expression:"scope.row.ribbonThickness5"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness6",label:"带厚6(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness6)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness6,callback:function(a){e.$set(t.row,"ribbonThickness6",a)},expression:"scope.row.ribbonThickness6"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness7",label:"带厚7(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness7)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness7,callback:function(a){e.$set(t.row,"ribbonThickness7",a)},expression:"scope.row.ribbonThickness7"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness8",label:"带厚8(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness8)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness8,callback:function(a){e.$set(t.row,"ribbonThickness8",a)},expression:"scope.row.ribbonThickness8"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness9",label:"带厚9(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonThickness9)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonThickness9,callback:function(a){e.$set(t.row,"ribbonThickness9",a)},expression:"scope.row.ribbonThickness9"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThicknessDeviation",label:"厚度偏差(μm)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThickness",label:"平均厚度(μm)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThicknessLevel",label:"厚度级别",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonToughness",label:"韧性",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonToughness)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonToughness,callback:function(a){e.$set(t.row,"ribbonToughness",a)},expression:"scope.row.ribbonToughness"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonToughnessLevel",label:"韧性等级",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.ribbonToughnessLevel)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.ribbonToughnessLevel,callback:function(a){e.$set(t.row,"ribbonToughnessLevel",a)},expression:"scope.row.ribbonToughnessLevel"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"appearence",label:"外观",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.appearence)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.appearence,callback:function(a){e.$set(t.row,"appearence",a)},expression:"scope.row.appearence"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"appearenceLevel",label:"外观等级",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.appearenceLevel)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.appearenceLevel,callback:function(a){e.$set(t.row,"appearenceLevel",a)},expression:"scope.row.appearenceLevel"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTotalLevel",label:"综合级别",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"不合格"===t.row.ribbonTotalLevel?"text_danger":""},[e._v(e._s(t.row.ribbonTotalLevel))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"storageRule",label:"入库规则",align:"center",width:"90px","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"isStored",label:"是否入库",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",{class:"否"===t.row.isStored?"text_danger":""},[e._v("\n            "+e._s(t.row.isStored)+"\n          ")]):a("div",[a("el-select",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.isStored,callback:function(a){e.$set(t.row,"isStored",a)},expression:"scope.row.isStored"}},[a("el-option",{attrs:{label:"是",value:"是"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"否"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"unStoreReason",label:"不入库原因",align:"center",width:"100px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",{staticClass:"text_danger"},[e._v("\n            "+e._s(t.row.unStoreReason)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.unStoreReason,callback:function(a){e.$set(t.row,"unStoreReason",a)},expression:"scope.row.unStoreReason"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"clients",label:"去向",align:"center",width:"90px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.clients)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.clients,callback:function(a){e.$set(t.row,"clients",a)},expression:"scope.row.clients"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]):a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.save(t.row)}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},c=a("VU/8")(n,s,!1,null,null,null);t.default=c.exports},"7xYs":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("E4LH"),n={ribbonWidthId:"",ribbonWidth:""},s={props:{dialogData:{type:Object,required:!0}},data:function(){return{formData:{ribbonWidthId:"",ribbonWidth:""},rules:{ribbonWidth:[{required:!0,message:"请填写带材规格",trigger:"blur"},{validator:o.f,trigger:"blur"}]},loading:!1}},created:function(){"create"===this.dialogData.formType?this.formData=i()({},n):this.formData=i()(this.formData,this.dialogData.rowData)},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var a="create"===e.dialogData.formType?{method:"post",url:l.a.addRibbonWidth}:{method:"put",url:l.a.updateRibbonWidth},r=a.method,i=a.url;e.$http(r,i,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增带材规格":"修改带材规格",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,"element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"带材规格：",prop:"ribbonWidth"}},[a("el-input",{model:{value:e.formData.ribbonWidth,callback:function(t){e.$set(e.formData,"ribbonWidth",t)},expression:"formData.ribbonWidth"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("esFK")},"data-v-46aaaf8a",null);t.default=u.exports},A14c:function(e,t,a){var r={"./cast/cast.1.vue":["xaHD",0],"./cast/cast.vue":["xhBu"],"./cast/components/dialogForm.vue":["vMcP"],"./laminationLevel/components/dialogForm.vue":["g2Lu"],"./laminationLevel/laminationLevel.vue":["53b/"],"./layout.vue":["m/fZ"],"./login.vue":["Luci"],"./measure/measure.vue":["6xz9"],"./melt/components/dialogForm.vue":["Y2Uw"],"./melt/melt.vue":["+gSl"],"./plan/components/dialogForm.vue":["kQZU"],"./plan/plan.vue":["YjKU"],"./ribbonThicknessLevel/components/dialogForm.vue":["gqef"],"./ribbonThicknessLevel/ribbonThicknessLevel.vue":["fOIB"],"./ribbonType/components/dialogForm.vue":["zYgA"],"./ribbonType/ribbonType.vue":["cTP9"],"./ribbonWidth/components/dialogForm.vue":["7xYs"],"./ribbonWidth/ribbonWidth.vue":["lNwb"],"./roll/components/dialogForm.vue":["KE1z"],"./roll/roll.vue":["vS98"],"./statisticsOder/statisticsOder.vue":["UVuG"],"./statisticsStorage/statisticsStorage.vue":["UHxT"],"./statisticsWeiht/statisticsWeiht.vue":["sdxM"],"./storage/storage.vue":["RfFB"],"./user/components/dialogForm.vue":["2LmT"],"./user/user.vue":["2AnY"]};function i(e){var t=r[e];return t?Promise.all(t.slice(1).map(a.e)).then(function(){return a(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}i.keys=function(){return Object.keys(r)},i.id="A14c",e.exports=i},AMlQ:function(e,t){},AtVb:function(e,t){},DP3C:function(e,t){},E4LH:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"f",function(){return i}),a.d(t,"e",function(){return l}),a.d(t,"b",function(){return o}),a.d(t,"d",function(){return n}),a.d(t,"a",function(){return s});var r=function(e,t,a){/^(0|-?[1-9]\d*)$/.test(t)?a():a(new Error("请输入整数, 如 -2,-1,0,1,2,..."))},i=function(e,t,a){/^[1-9]\d*$/.test(t)?a():a(new Error("请输入正整数, 如 1,2,3,..."))},l=function(e,t,a){/^(0|[1-9]\d*)$/.test(t)?a():a(new Error("请输入自然数, 如 0,1,2,3,..."))},o=function(e,t,a){/^(\-?)\d+(?:\.\d{1,2})?$/.test(t)?a():a(new Error("最多保留两位小数, 如 15, 15.7, 15.75,..."))},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:99999999;return function(t,a,r){"number"!=typeof a&&(a=Number(a)),a<=e?r():r(new Error("请输入不大于"+e+"的数值"))}},s=function(e,t,a){if(!t)return a(new Error("炉号不能为空"));/^0[1-9]-[0-9]{8}-[0-9]{2}\/[0-9]{2}$/.test(t)?a():a(new Error("炉号格式错误"))}},"F+AS":function(e,t){},FV3c:function(e,t){},"GO/p":function(e,t){},HCnR:function(e,t){},I7fm:function(e,t){},KE1z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),l=a("woOf"),o=a.n(l),n=a("E4LH"),s=a("g7mi"),c={castId:6,furnace:"",coilNumber:"",diameter:"",coilWeight:""},u={data:function(){return{visible:!1,loading:!1,formData:{castId:6,furnace:"",coilNumber:"",diameter:"",coilWeight:""},rules:{furnace:[{required:!0,message:"请填写炉号",trigger:"blur"},{max:20,message:"最多20位字符",trigger:"blur"},{validator:n.a,trigger:"blur"}],coilNumber:[{required:!0,message:"请填写盘号",trigger:"blur"},{validator:n.f,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],diameter:[{required:!0,message:"请填写外径",trigger:"blur"},{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],coilWeight:[{required:!0,message:"请填写重量",trigger:"blur"},{validator:n.b,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}]}}},props:{dialogData:{type:Object,required:!0}},created:function(){"add"===this.dialogData.formType?this.formData=o()({},c,{castId:Number(this.$route.params.castId)}):this.formData=o()(this.formData,this.dialogData.rowData)},mounted:function(){},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.$http("GET",s.a.queryCast,{castId:e.formData.castId,furnace:e.formData.furnace}).then(function(t){var a=t.list[0],r=a.ribbonTypeName,l=a.ribbonWidth,o=a.createdAt,n=a.caster,c=i()({ribbonTypeName:r,ribbonWidth:l,castDate:o,caster:n},e.formData),u="add"===e.dialogData.formType?{method:"POST",url:s.a.addMeasure}:{method:"PUT",url:s.a.updateMeasure},d=u.method,m=u.url;e.$http(d,m,c).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})}).catch(function(t){e.loading=!1,console.log(t)})})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"add"===e.dialogData.formType?"新增重卷记录-"+e.$route.params.castId+"号机组":"修改重卷记录-"+e.$route.params.castId+"号机组",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"380px","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{},attrs:{model:e.formData,rules:e.rules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"炉号：",prop:"furnace"}},[a("el-input",{model:{value:e.formData.furnace,callback:function(t){e.$set(e.formData,"furnace",t)},expression:"formData.furnace"}})],1),e._v(" "),a("el-form-item",{staticClass:"dialog_field",attrs:{label:"盘号：",prop:"coilNumber"}},[a("el-input",{model:{value:e.formData.coilNumber,callback:function(t){e.$set(e.formData,"coilNumber",t)},expression:"formData.coilNumber"}})],1),e._v(" "),a("el-form-item",{staticClass:"dialog_field",attrs:{label:"外径：",prop:"diameter"}},[a("el-input",{model:{value:e.formData.diameter,callback:function(t){e.$set(e.formData,"diameter",t)},expression:"formData.diameter"}})],1),e._v(" "),a("el-form-item",{staticClass:"dialog_field",attrs:{label:"重量：",prop:"coilWeight"}},[a("el-input",{model:{value:e.formData.coilWeight,callback:function(t){e.$set(e.formData,"coilWeight",t)},expression:"formData.coilWeight"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]},m=a("VU/8")(u,d,!1,null,null,null);t.default=m.exports},Luci:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),i=a.n(r),l=a("g7mi"),o={data:function(){return{form:{username:"",password:"",disabled:!1},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:0,max:20,message:"长度在 0 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs.ruleForm.validate(function(t){t&&(e.disabled=!0,e.$http("POST",l.a.login,e.form).then(function(t){var a=i()({username:e.form.username,roleId:t.roleId,adminname:t.adminname});localStorage.setItem("userinfo",a),e.$router.push({path:"/plan/6"})}).catch(function(e){console.log(e)}).finally(function(){e.disabled=!1}))})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_bg"},[a("div",{staticClass:"login_form"},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px","label-position":"top"}},[a("el-row",{staticClass:"login_hd"},[a("h3",[e._v("生产数据管理系统")])]),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"login_btn",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var s=a("VU/8")(o,n,!1,function(e){a("TGBX")},null,null);t.default=s.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),i=(a("uMhA"),a("zL8q")),l=a.n(i),o=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var n=a("VU/8")({name:"App"},o,!1,function(e){a("FV3c")},null,null).exports,s=a("/ocq"),c=a("m/fZ"),u=a("Luci"),d=a("YjKU"),m=a("+gSl"),b=a("xhBu"),p=a("cTP9"),f=a("lNwb"),g=a("fOIB"),h=a("53b/"),v=a("2AnY"),_=a("vS98"),T=a("6xz9"),y=a("RfFB"),k=a("sdxM"),w=a("UHxT"),D=a("UVuG");r.default.use(s.a);var x=new s.a({routes:[{path:"/login",name:"login",component:u.default},{path:"/",component:c.default,redirect:"/login",children:[{path:"plan/:castId",name:"plan",component:d.default,meta:{title:"生产计划",icon:"plan"}},{path:"melt/:castId",name:"melt",component:m.default,meta:{title:"化钢记录表",icon:"melt"}},{path:"cast/:castId",name:"cast",component:b.default,meta:{title:"喷带记录表",icon:"cast"}},{path:"ribbonType",name:"ribbonType",component:p.default,meta:{title:"带材牌号管理",icon:"ribbonType"}},{path:"ribbonWidth",name:"ribbonWidth",component:f.default,meta:{title:"带材规格管理",icon:"ribbonWidth"}},{path:"ribbonThicknessLevel",name:"ribbonThicknessLevel",component:g.default,meta:{title:"带材厚度等级管理",icon:"ribbonThicknessLevel"}},{path:"laminationLevel",name:"laminationLevel",component:h.default,meta:{title:"带材叠片等级管理",icon:"laminationLevel"}},{path:"user",name:"user",component:v.default,meta:{title:"用户管理",icon:"user"}},{path:"roll/:castId",name:"roll",component:_.default,meta:{title:"重卷记录表",icon:"roll"}},{path:"measure/:castId",name:"measure",component:T.default,meta:{title:"检测记录表",icon:"measure"}},{path:"storage/:castId",name:"storage",component:y.default,meta:{title:"库房记录表",icon:"storage"}},{path:"/data",redirect:"/data/statisticsWeiht",meta:{title:"统计中心",icon:"data"},children:[{path:"statisticsWeiht",name:"statisticsWeiht",component:k.default,meta:{title:"大盘毛重统计表",icon:"statisticsWeiht"}},{path:"statisticsStorage",name:"statisticsStorage",component:w.default,meta:{title:"带材库存统计表",icon:"statisticsStorage"}},{path:"statisticsOder",name:"statisticsOder",component:D.default,meta:{title:"订单统计表",icon:"statisticsOder"}}]}]}]}),L=a("NYxO"),C=a("pFYg"),F=a.n(C),$=a("//Fk"),N=a.n($),j=a("hKoQ"),I=a.n(j),W=a("mtWM"),O=a.n(W),R=a("mw3O"),S=a.n(R);function z(e,t,a){e=e.toLowerCase(),a=a&&"object"===(void 0===a?"undefined":F()(a))?a:{};var r={url:t,method:e,transformRequest:[function(){return S.a.stringify(a)}],headers:{"X-Requested-With":"XMLHttpRequest"}};return"post"===e||"put"===e||"delete"===e?(r.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",r.data=a):"get"===e&&(r.params=a),O()(r)}I.a.polyfill(),a("puN1").shim(),O.a.interceptors.response.use(function(e){var t=e.config.method.toUpperCase(),a=e.data;return 0!=a.status?Object(i.Message)({message:a.message,type:"error"}):(a.data&&302===a.data.access&&x.push({path:"/login"}),"GET"!==t&&Object(i.Message)({message:a.message,type:"success"}),a.data||{})},function(e){return i.MessageBox.alert(e.message,"系统提示",{confirmButtonText:"确定"}),N.a.reject(e)});var V=a("g7mi");r.default.use(L.a);var E=new L.a.Store({strict:!0,state:{ribbonTypeList:[],ribbonWidthList:[],ribbonThicknessLevelList:[],laminationLevelList:[]},mutations:{SET_RIBBONTYPELIST:function(e,t){e.ribbonTypeList=t},SET_RIBBONWIDTHLIST:function(e,t){e.ribbonWidthList=t},SET_RIBBONTHICKNESSLEVELLIST:function(e,t){e.ribbonThicknessLevelList=t},SET_LAMINATIONLEVELLIST:function(e,t){e.laminationLevelList=t}},actions:{getRibbonTypeList:function(e){var t=e.commit;z("get",V.a.queryRibbonType).then(function(e){e.list&&e.list.forEach(function(e){e.ribbonTypeId=e._id}),t("SET_RIBBONTYPELIST",e.list)}).catch(function(e){console.log(e)})},getRibbonWidthList:function(e){var t=e.commit;z("get",V.a.queryRibbonWidth).then(function(e){e.list&&e.list.forEach(function(e){e.ribbonWidthId=e._id}),t("SET_RIBBONWIDTHLIST",e.list)}).catch(function(e){console.log(e)})},getRibbonThicknessLevelList:function(e){var t=e.commit;z("get",V.a.queryRibbonThicknessLevel).then(function(e){e.list&&e.list.forEach(function(e){e.ribbonThicknessLevelId=e._id}),t("SET_RIBBONTHICKNESSLEVELLIST",e.list)}).catch(function(e){console.log(e)})},getLaminationLevelList:function(e){var t=e.commit;z("get",V.a.queryLaminationLevel).then(function(e){e.list&&e.list.forEach(function(e){e.laminationLevelId=e._id}),t("SET_LAMINATIONLEVELLIST",e.list)}).catch(function(e){console.log(e)})}}});r.default.config.productionTip=!1,r.default.use(l.a),r.default.prototype.$http=z,new r.default({el:"#app",router:x,store:E,components:{App:n},template:"<App/>"})},RfFB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("mvHQ"),o=a.n(l),n=a("Dd8w"),s=a.n(n),c=a("g7mi"),u=a("X2Oc"),d=a("NYxO"),m={name:"melt",data:function(){return{castId:6,searchForm:{caster:"",furnace:"",date:[],ribbonTypeNames:[],ribbonWidths:[],ribbonTotalLevels:"",ribbonThicknessLevels:[],laminationLevels:[],place:""},loading:!1,tableData:[],pageConfig:{total:1,current:1,pageSize:10}}},computed:s()({},Object(d.c)(["ribbonTypeList","ribbonWidthList","ribbonThicknessLevelList","laminationLevelList"])),beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData(),this.getRibbonTypeList(),this.getRibbonWidthList(),this.getRibbonThicknessLevelList(),this.getLaminationLevelList()},methods:s()({},Object(d.b)(["getRibbonTypeList","getRibbonWidthList","getRibbonThicknessLevelList","getLaminationLevelList"]),{dateFormat:function(e,t){return Object(u.a)(e.inStoreDate)},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={caster:"",furnace:"",date:[],ribbonTypeNames:[],ribbonWidths:[],ribbonTotalLevels:"",ribbonThicknessLevels:[],laminationLevels:[],place:""};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],caster:this.searchForm.caster,furnace:this.searchForm.furnace,ribbonTypeNameJson:o()(this.searchForm.ribbonTypeNames),ribbonWidthJson:o()(this.searchForm.ribbonWidths),ribbonThicknessLevelJson:o()(this.searchForm.ribbonThicknessLevels),laminationLevelJson:o()(this.searchForm.laminationLevels),ribbonTotalLevels:this.searchForm.ribbonTotalLevels,place:this.searchForm.place};i()(t,a),this.$http("get",c.a.queryMeasure,t).then(function(t){e.pageConfig.total=t.count,t.list&&t.list.forEach(function(e){e.isEditing=!1}),e.tableData=t.list&&t.list.filter(function(e){return"是"===e.isStored})}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},edit:function(e){e.isEditing=!0},del:function(e){var t=this,a=(e._id,e.furnace),r=e.coilNumber;this.$confirm("确定删除 "+a+" 的第 "+r+" 盘吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.isStored="否",t.$http("PUT",c.a.updateMeasure,e).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},save:function(e){e.isEditing=!1,e.takeBy&&(e.remainWeight=0),this.$http("PUT",c.a.updateMeasure,e).then(function(e){}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)}})},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("库存记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"入库日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"炉号："}},[a("el-input",{attrs:{placeholder:"请输入炉号"},model:{value:e.searchForm.furnace,callback:function(t){e.$set(e.searchForm,"furnace",t)},expression:"searchForm.furnace"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"材质："}},[a("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.searchForm.ribbonTypeNames,callback:function(t){e.$set(e.searchForm,"ribbonTypeNames",t)},expression:"searchForm.ribbonTypeNames"}},e._l(e.ribbonTypeList,function(e){return a("el-option",{key:e.ribbonTypeId,attrs:{value:e.ribbonTypeName,label:e.ribbonTypeName}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"规格："}},[a("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.searchForm.ribbonWidths,callback:function(t){e.$set(e.searchForm,"ribbonWidths",t)},expression:"searchForm.ribbonWidths"}},e._l(e.ribbonWidthList,function(e){return a("el-option",{key:e.ribbonWidthId,attrs:{label:e.ribbonWidth,value:e.ribbonWidth}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"厚度级别："}},[a("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.searchForm.ribbonThicknessLevels,callback:function(t){e.$set(e.searchForm,"ribbonThicknessLevels",t)},expression:"searchForm.ribbonThicknessLevels"}},e._l(e.ribbonThicknessLevelList,function(e){return a("el-option",{key:e.ribbonThicknessLevelId,attrs:{label:e.ribbonThicknessLevel,value:e.ribbonThicknessLevel}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"叠片级别："}},[a("el-select",{attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},model:{value:e.searchForm.laminationLevels,callback:function(t){e.$set(e.searchForm,"laminationLevels",t)},expression:"searchForm.laminationLevels"}},e._l(e.laminationLevelList,function(e){return a("el-option",{key:e.laminationLevelId,attrs:{label:e.laminationLevel,value:e.laminationLevel}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"综合级别："}},[a("el-input",{attrs:{placeholder:"请输入综合级别，以逗号分隔"},model:{value:e.searchForm.ribbonTotalLevels,callback:function(t){e.$set(e.searchForm,"ribbonTotalLevels",t)},expression:"searchForm.ribbonTotalLevels"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仓位："}},[a("el-input",{attrs:{placeholder:"请输入仓位，以逗号分隔"},model:{value:e.searchForm.place,callback:function(t){e.$set(e.searchForm,"place",t)},expression:"searchForm.place"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"inStoreDate",label:"入库日期",align:"center",formatter:e.dateFormat,width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center",width:"170px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilNumber",label:"盘号",align:"center",width:"50px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"规格",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTotalLevel",label:"综合级别",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThicknessLevel",label:"带厚级别",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilWeight",label:"毛重",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilNetWeight",label:"净重",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"outStoreDate",label:"出库日期",align:"center",formatter:e.dateFormat,width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"takeBy",label:"实际去向",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.takeBy)+"\n          ")]):a("div",[a("el-select",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.takeBy,callback:function(a){e.$set(t.row,"takeBy",a)},expression:"scope.row.takeBy"}},[a("el-option",{attrs:{label:"辊剪",value:"辊剪"}}),e._v(" "),a("el-option",{attrs:{label:"顺义",value:"顺义"}}),e._v(" "),a("el-option",{attrs:{label:"卷绕",value:"卷绕"}}),e._v(" "),a("el-option",{attrs:{label:"固安",value:"固安"}}),e._v(" "),a("el-option",{attrs:{label:"发货",value:"发货"}}),e._v(" "),a("el-option",{attrs:{label:"回炉/置换",value:"回炉/置换"}}),e._v(" "),a("el-option",{attrs:{label:"粉末厂",value:"粉末厂"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remainWeight",label:"结存",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"place",label:"仓位",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.place)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.place,callback:function(a){e.$set(t.row,"place",a)},expression:"scope.row.place"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"clients",label:"检测判定去向",align:"center",width:"120px","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"shipRemark",label:"发货备注",align:"center",width:"100px","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("div",[e._v("\n            "+e._s(t.row.shipRemark)+"\n          ")]):a("div",[a("el-input",{attrs:{size:"mini"},model:{value:t.row.shipRemark,callback:function(a){e.$set(t.row,"shipRemark",a)},expression:"scope.row.shipRemark"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.isEditing?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]):a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.save(t.row)}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var p=a("VU/8")(m,b,!1,function(e){a("iVtR")},"data-v-62c93bc3",null);t.default=p.exports},TGBX:function(e,t){},UHxT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var i=a("VU/8")({},r,!1,function(e){a("0vds")},"data-v-ffceb5cc",null);t.default=i.exports},UVuG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var i=a("VU/8")({},r,!1,function(e){a("bVCm")},"data-v-526a0208",null);t.default=i.exports},WMsK:function(e,t){},X2Oc:function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return i()(e).format("YYYY-MM-DD")},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return i()(e).format("YYYY-MM-DD HH:mm:ss")};var r=a("PJh5"),i=a.n(r)},"Xls/":function(e,t){},Y2Uw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("Dd8w"),o=a.n(l),n=a("E4LH"),s=a("g7mi"),c=a("NYxO"),u={date:"",castId:6,furnace:"",ribbonTypeId:"",ribbonTypeName:"",bucket:"",melter:"",meltFurnace:"",newAlloyNumber:"",newAlloyWeight:0,oldAlloyNumber:"",oldAlloyWeight:0,mixAlloyNumber:"",mixAlloyWeight:0,highNbNumber:"",highNbWeight:0,Si:0,Ni:0,Cu:0,BFe:0,NbFe:0,alloyTotalWeight:0,alloyOutWeight:0,alloyFixWeight:0,remark:"",createdAt:"",updatedAt:""},d={data:function(){return{visible:!1,loading:!1,formData:{date:"",castId:6,furnace:"",ribbonTypeId:"",ribbonTypeName:"",bucket:"",melter:"",meltFurnace:"",newAlloyNumber:"",newAlloyWeight:0,oldAlloyNumber:"",oldAlloyWeight:0,mixAlloyNumber:"",mixAlloyWeight:0,highNbNumber:"",highNbWeight:0,Si:0,Ni:0,Cu:0,BFe:0,NbFe:0,alloyTotalWeight:0,alloyOutWeight:0,alloyFixWeight:0,remark:"",createdAt:"",updatedAt:""},rules:{ribbonTypeId:[{required:!0,message:"请选择材质",trigger:"blur"}],furnace:[{required:!0,message:"请填写炉号",trigger:"blur"},{max:20,message:"最多20位字符",trigger:"blur"},{validator:n.a,trigger:"blur"}],bucket:[{required:!0,message:"请填写桶号",trigger:"blur"},{max:2,message:"最多2位字符",trigger:"blur"}],melter:[{required:!0,message:"请填写熔炼人姓名",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}],meltFurnace:[{required:!0,message:"请选择材质",trigger:"blur"}],newAlloyNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],newAlloyWeight:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],oldAlloyNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],oldAlloyWeight:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],mixAlloyNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],mixAlloyWeight:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],highNbNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],highNbWeight:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],Si:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],Ni:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],Cu:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],BFe:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],NbFe:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],alloyOutWeight:[{validator:n.e,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],alloyFixWeight:[{validator:n.c,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],remark:[{max:100,message:"最多100位字符",trigger:"blur"}]}}},props:{dialogData:{type:Object,required:!0}},computed:o()({},Object(c.c)(["ribbonTypeList"])),created:function(){"create"===this.dialogData.formType?this.formData=i()({},u,{castId:Number(this.$route.params.castId)}):this.formData=i()(this.formData,this.dialogData.rowData),this.getRibbonTypeList()},mounted:function(){},methods:o()({},Object(c.b)(["getRibbonTypeList"]),{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.formData.ribbonTypeName=e.ribbonTypeList&&e.ribbonTypeList.find(function(t){return t.ribbonTypeId===e.formData.ribbonTypeId}).ribbonTypeName,e.formData.alloyTotalWeight=parseInt(e.formData.newAlloyWeight)+parseInt(e.formData.oldAlloyWeight)+parseInt(e.formData.mixAlloyWeight)+parseInt(e.formData.highNbWeight)+parseInt(e.formData.alloyFixWeight);var a="create"===e.dialogData.formType?{method:"POST",url:s.a.addMelt}:{method:"PUT",url:s.a.updateMelt},r=a.method,i=a.url;e.$http(r,i,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}})},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增化钢记录-"+e.$route.params.castId+"号机组":"修改化钢记录-"+e.$route.params.castId+"号机组",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"950px","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{},attrs:{model:e.formData,rules:e.rules,"label-width":"100px",inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"材质",prop:"ribbonTypeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.ribbonTypeId,callback:function(t){e.$set(e.formData,"ribbonTypeId",t)},expression:"formData.ribbonTypeId"}},e._l(e.ribbonTypeList,function(e){return a("el-option",{key:e.ribbonTypeId,attrs:{value:e.ribbonTypeId,label:e.ribbonTypeName}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"制带炉号",prop:"furnace"}},[a("el-input",{model:{value:e.formData.furnace,callback:function(t){e.$set(e.formData,"furnace",t)},expression:"formData.furnace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"桶号",prop:"bucket"}},[a("el-input",{model:{value:e.formData.bucket,callback:function(t){e.$set(e.formData,"bucket",t)},expression:"formData.bucket"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"熔炼人",prop:"melter"}},[a("el-input",{model:{value:e.formData.melter,callback:function(t){e.$set(e.formData,"melter",t)},expression:"formData.melter"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"冶炼炉炉号",prop:"meltFurnace"}},[a("el-select",{model:{value:e.formData.meltFurnace,callback:function(t){e.$set(e.formData,"meltFurnace",t)},expression:"formData.meltFurnace"}},[a("el-option",{attrs:{label:"A炉",value:"A"}}),e._v(" "),a("el-option",{attrs:{label:"B炉",value:"B"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"新料批号",prop:"newAlloyNumber"}},[a("el-input",{model:{value:e.formData.newAlloyNumber,callback:function(t){e.$set(e.formData,"newAlloyNumber",t)},expression:"formData.newAlloyNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"新料重量",prop:"newAlloyWeight"}},[a("el-input",{model:{value:e.formData.newAlloyWeight,callback:function(t){e.$set(e.formData,"newAlloyWeight",t)},expression:"formData.newAlloyWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"加工料批号",prop:"oldAlloyNumber"}},[a("el-input",{model:{value:e.formData.oldAlloyNumber,callback:function(t){e.$set(e.formData,"oldAlloyNumber",t)},expression:"formData.oldAlloyNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"加工料重量",prop:"oldAlloyWeight"}},[a("el-input",{model:{value:e.formData.oldAlloyWeight,callback:function(t){e.$set(e.formData,"oldAlloyWeight",t)},expression:"formData.oldAlloyWeight"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"回炉锭批号",prop:"mixAlloyNumber"}},[a("el-input",{model:{value:e.formData.mixAlloyNumber,callback:function(t){e.$set(e.formData,"mixAlloyNumber",t)},expression:"formData.mixAlloyNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"回炉锭重量",prop:"mixAlloyWeight"}},[a("el-input",{model:{value:e.formData.mixAlloyWeight,callback:function(t){e.$set(e.formData,"mixAlloyWeight",t)},expression:"formData.mixAlloyWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"高铌料批号",prop:"highNbNumber"}},[a("el-input",{model:{value:e.formData.highNbNumber,callback:function(t){e.$set(e.formData,"highNbNumber",t)},expression:"formData.highNbNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"高铌料重量",prop:"highNbWeight"}},[a("el-input",{model:{value:e.formData.highNbWeight,callback:function(t){e.$set(e.formData,"highNbWeight",t)},expression:"formData.highNbWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"硅",prop:"Si"}},[a("el-input",{model:{value:e.formData.Si,callback:function(t){e.$set(e.formData,"Si",t)},expression:"formData.Si"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"镍",prop:"Ni"}},[a("el-input",{model:{value:e.formData.Ni,callback:function(t){e.$set(e.formData,"Ni",t)},expression:"formData.Ni"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"铜",prop:"Cu"}},[a("el-input",{model:{value:e.formData.Cu,callback:function(t){e.$set(e.formData,"Cu",t)},expression:"formData.Cu"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"硼铁",prop:"BFe"}},[a("el-input",{model:{value:e.formData.BFe,callback:function(t){e.$set(e.formData,"BFe",t)},expression:"formData.BFe"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"铌铁",prop:"NbFe"}},[a("el-input",{model:{value:e.formData.NbFe,callback:function(t){e.$set(e.formData,"NbFe",t)},expression:"formData.NbFe"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"放钢重量",prop:"alloyOutWeight"}},[a("el-input",{model:{value:e.formData.alloyOutWeight,callback:function(t){e.$set(e.formData,"alloyOutWeight",t)},expression:"formData.alloyOutWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"修正重量",prop:"alloyFixWeight"}},[a("el-input",{model:{value:e.formData.alloyFixWeight,callback:function(t){e.$set(e.formData,"alloyFixWeight",t)},expression:"formData.alloyFixWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(d,m,!1,function(e){a("AtVb")},"data-v-fcf97e62",null);t.default=b.exports},YjKU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("X2Oc"),i=a("g7mi"),l={name:"plan",components:{dialogForm:a("kQZU").default},data:function(){return{searchForm:{date:Object(r.a)(new Date)},isApproved:!1,dialogVisible:!1,formType:"create",rowData:{},tableData:[],loading:!0,castId:6,roleId:null}},beforeRouteUpdate:function(e,t,a){console.log(e),this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData(),this.roleId=JSON.parse(localStorage.getItem("userinfo")).roleId},computed:{pickerOptions:function(){return{disabledDate:function(e){var t=new Date;return t.setDate(t.getDate()+1),e.getTime()>=t.getTime()}}}},methods:{closeHandler:function(){this.dialogVisible=!1},submitHandler:function(e){this.getTableData()},clickSearch:function(){this.getTableData()},getTableData:function(){var e=this,t={castId:this.castId,date:this.searchForm.date};this.$http("get",i.a.queryPlan,t).then(function(t){var a=t.list;e.isApproved=a.every(function(e){return 1===e.approved}),e.isApproved?e.tableData=a:1===e.roleId||2===e.roleId?e.tableData=a:e.tableData=[]}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},createPlan:function(){this.formType="create",this.dialogVisible=!0},editPlan:function(e){this.dialogVisible=!0,this.rowData=e,this.formType="edit"},delPlan:function(e){var t=this,a=e._id,r=e.furnace;this.$confirm("删除后数据无法恢复，确定要删除 "+r+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",i.a.delPlan,{_id:a}).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},approve:function(){var e=this;this.$confirm("确定要审批吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={date:e.searchForm.date,castId:e.castId,roleId:e.roleId};e.$http("PUT",i.a.updatePlan,t).then(function(t){e.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("生产计划")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm}},[a("el-form-item",{attrs:{label:"排产日期："}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"date"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",editable:!1,clearable:!1,"picker-options":e.pickerOptions},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[1===e.roleId||2===e.roleId?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createPlan}},[e._v("新增生产计划")]):e._e(),e._v(" "),1===e.roleId&&e.tableData.length>0&&!e.isApproved?a("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.approve}},[e._v("待审批")]):e._e(),e._v(" "),1===e.roleId&&e.tableData.length>0&&e.isApproved?a("el-button",{attrs:{type:"primary",icon:"el-icon-check",disabled:""}},[e._v("已审批")]):e._e()],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"date",label:"日期",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castId",label:"机组",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"班组",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taskOrder",label:"任务单号",align:"center","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"规格(mm)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"client",label:"客户",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:"带厚(μm)",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"text_danger"},[e._v(e._s(t.row.thickness))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"叠片",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"text_danger"},[e._v(e._s(t.row.laminationFactor))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"furnace",label:"制带炉号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyWeight",label:"单炉投入",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castTime",label:"制带时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rawWeight",label:"大盘毛重",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return 1===e.roleId||2===e.roleId?[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.editPlan(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delPlan(t.row)}}},[e._v("删除")])]:void 0}}])})],1),e._v(" "),a("div",{staticClass:"table_tip"},[a("p",[e._v("1. 文件编号："+e._s(e.tableData[0]&&e.tableData[0].fileNumber))]),e._v(" "),a("p",[e._v("2. "+e._s(e.tableData[0]&&e.tableData[0].remark))])])],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var n=a("VU/8")(l,o,!1,function(e){a("AMlQ")},"data-v-1302f1d8",null);t.default=n.exports},YtDc:function(e,t){},"a/SR":function(e,t){},bVCm:function(e,t){},cTP9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),l=a("NYxO"),o=a("zYgA"),n=a("g7mi"),s={name:"ribbon",components:{dialogForm:o.default},data:function(){return{dialogVisible:!1,formType:"create",rowData:{},tableData:[],loading:!1}},computed:i()({},Object(l.c)(["ribbonTypeList"])),created:function(){this.getRibbonTypeList()},methods:i()({},Object(l.b)(["getRibbonTypeList"]),{createRibbon:function(){this.dialogVisible=!0,this.formType="create"},editRibbon:function(e){this.dialogVisible=!0,this.formType="edit",this.rowData=e},delRibbon:function(e){var t=this,a=e.ribbonTypeId,r=e.ribbonTypeName;this.$confirm("删除后数据无法恢复，确定要删除 "+r+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",n.a.delRibbonType,{ribbonTypeId:a}).then(function(e){t.getRibbonTypeList()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.getRibbonTypeList()}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("带材牌号管理")])],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createRibbon}},[e._v("新增带材牌号")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.ribbonTypeList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"带材牌号名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.editRibbon(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.delRibbon(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("a/SR")},"data-v-14d65a3d",null);t.default=u.exports},dUjt:function(e,t){},esFK:function(e,t){},fOIB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),l=a("NYxO"),o=a("gqef"),n=a("g7mi"),s={name:"ribbon",components:{dialogForm:o.default},data:function(){return{dialogVisible:!1,formType:"create",rowData:{},tableData:[],loading:!1}},computed:i()({},Object(l.c)(["ribbonThicknessLevelList"])),created:function(){this.getRibbonThicknessLevelList()},methods:i()({},Object(l.b)(["getRibbonThicknessLevelList"]),{add:function(){this.dialogVisible=!0,this.formType="create"},edit:function(e){this.dialogVisible=!0,this.formType="edit",this.rowData=e},del:function(e){var t=this,a=e.ribbonThicknessLevelId,r=e.ribbonThicknessLevel;this.$confirm("删除后数据无法恢复，确定要删除 "+r+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",n.a.delRibbonThicknessLevel,{ribbonThicknessLevelId:a}).then(function(e){t.getRibbonThicknessLevelList()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.getRibbonThicknessLevelList()}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("带材厚度等级管理")])],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("新增带材厚度等级")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.ribbonThicknessLevelList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThicknessLevel",label:"带材厚度等级名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonThicknessRange",label:"对应厚度范围",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("dUjt")},"data-v-b42f273a",null);t.default=u.exports},g2Lu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("E4LH"),n={laminationLevelId:"",laminationLevel:"",laminationFactorRange:""},s={props:{dialogData:{type:Object,required:!0}},data:function(){return{formData:{laminationLevelId:"",laminationLevel:"",laminationFactorRange:""},rules:{laminationLevel:[{required:!0,message:"请填写带材叠片等级",trigger:"blur"},{validator:o.e,trigger:"blur"}],laminationFactorRange:[{required:!0,message:"请填写对应叠片系数范围",trigger:"blur"},{max:50,message:"长度不能超过50位",trigger:"blur"}]},loading:!1}},created:function(){"create"===this.dialogData.formType?this.formData=i()({},n):this.formData=i()(this.formData,this.dialogData.rowData)},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var a="create"===e.dialogData.formType?{method:"post",url:l.a.addLaminationLevel}:{method:"put",url:l.a.updateLaminationLevel},r=a.method,i=a.url;e.$http(r,i,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增带材叠片等级":"修改带材叠片等级",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,"element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"带材叠片等级：",prop:"laminationLevel"}},[a("el-input",{model:{value:e.formData.laminationLevel,callback:function(t){e.$set(e.formData,"laminationLevel",t)},expression:"formData.laminationLevel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应叠片系数范围：",prop:"laminationFactorRange"}},[a("el-input",{model:{value:e.formData.laminationFactorRange,callback:function(t){e.$set(e.formData,"laminationFactorRange",t)},expression:"formData.laminationFactorRange"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("5fnc")},"data-v-7ab6c5b9",null);t.default=u.exports},g7mi:function(e,t,a){"use strict";t.a={login:"/user/login",signout:"/user/signout",queryPlan:"/plan",addPlan:"/plan",updatePlan:"/plan",delPlan:"/plan",queryRibbonType:"/ribbonType",addRibbonType:"/ribbonType",updateRibbonType:"/ribbonType",delRibbonType:"/ribbonType",queryUser:"/user",addUser:"/user",updatePassword:"/user",delUser:"/user",queryMelt:"/melt",addMelt:"/melt",updateMelt:"/melt",delMelt:"/melt",queryCast:"/cast",addCast:"/cast",updateCast:"/cast",delCast:"/cast",queryMeasure:"/measure",addMeasure:"/measure",updateMeasure:"/measure",delMeasure:"/measure",queryRibbonWidth:"/ribbonWidth",addRibbonWidth:"/ribbonWidth",updateRibbonWidth:"/ribbonWidth",delRibbonWidth:"/ribbonWidth",queryRibbonThicknessLevel:"/ribbonThicknessLevel",addRibbonThicknessLevel:"/ribbonThicknessLevel",updateRibbonThicknessLevel:"/ribbonThicknessLevel",delRibbonThicknessLevel:"/ribbonThicknessLevel",queryLaminationLevel:"/laminationLevel",addLaminationLevel:"/laminationLevel",updateLaminationLevel:"/laminationLevel",delLaminationLevel:"/laminationLevel"}},gqef:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("E4LH"),n={ribbonThicknessId:"",ribbonThicknessLevel:"",ribbonThicknessRange:""},s={props:{dialogData:{type:Object,required:!0}},data:function(){return{formData:{ribbonThicknessId:"",ribbonThicknessLevel:"",ribbonThicknessRange:""},rules:{ribbonThicknessLevel:[{required:!0,message:"请填写带材厚度等级",trigger:"blur"},{validator:o.e,trigger:"blur"}],ribbonThicknessRange:[{required:!0,message:"请填写对应厚度范围",trigger:"blur"},{max:50,message:"长度不能超过50位",trigger:"blur"}]},loading:!1}},created:function(){"create"===this.dialogData.formType?this.formData=i()({},n):this.formData=i()(this.formData,this.dialogData.rowData)},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var a="create"===e.dialogData.formType?{method:"post",url:l.a.addRibbonThicknessLevel}:{method:"put",url:l.a.updateRibbonThicknessLevel},r=a.method,i=a.url;e.$http(r,i,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增带材厚度等级":"修改带材厚度等级",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,"element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"150px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"带材厚度等级：",prop:"ribbonThicknessLevel"}},[a("el-input",{model:{value:e.formData.ribbonThicknessLevel,callback:function(t){e.$set(e.formData,"ribbonThicknessLevel",t)},expression:"formData.ribbonThicknessLevel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"对应厚度范围：",prop:"ribbonThicknessRange"}},[a("el-input",{model:{value:e.formData.ribbonThicknessRange,callback:function(t){e.$set(e.formData,"ribbonThicknessRange",t)},expression:"formData.ribbonThicknessRange"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("+clz")},"data-v-52df6e28",null);t.default=u.exports},iVtR:function(e,t){},kQZU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("Dd8w"),o=a.n(l),n=a("E4LH"),s=a("g7mi"),c=a("NYxO"),u={date:"",castId:6,team:"",taskOrder:"",ribbonTypeId:"",ribbonTypeName:"",ribbonWidth:30,client:"",thickness:"",laminationFactor:"",furnace:"",alloyWeight:230,castTime:"",rawWeight:"",remark:"计划喷带12炉，如果有富余时间喷带按照当天最后一炉规定的要求生产。",fileNumber:""},d={props:{dialogData:{type:Object,required:!0}},data:function(){return{visible:!1,loading:!1,formData:{date:"",castId:6,team:"",taskOrder:"",ribbonTypeId:"",ribbonTypeName:"",ribbonWidth:30,client:"",thickness:"",laminationFactor:"",furnace:"",alloyWeight:230,castTime:"",rawWeight:"",remark:"",fileNumber:""},rules:{date:[{required:!0,message:"请选择日期",trigger:"blur"}],castId:[{required:!0,message:"请选择机组",trigger:"blur"}],team:[{required:!0,message:"请选择班次",trigger:"blur"}],ribbonTypeId:[{required:!0,message:"请选择材质",trigger:"blur"}],ribbonWidth:[{required:!0,message:"请填写带宽",trigger:"blur"},{validator:n.f,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],client:[{max:50,message:"最多50位字符",trigger:"blur"}],thickness:[{required:!0,message:"请填写带厚",trigger:"blur"},{max:50,message:"最多50位字符",trigger:"blur"}],laminationFactor:[{required:!0,message:"请填写叠片系数",trigger:"blur"},{max:50,message:"最多50位字符",trigger:"blur"}],furnace:[{required:!0,message:"请填写炉号",trigger:"blur"},{max:20,message:"最多20位字符",trigger:"blur"},{validator:function(e,t,a){if(!t)return a(new Error("炉号不能为空"));/^0[1-9]-[0-9]{8}-[0-9]{2}$/.test(t)?a():a(new Error("炉号格式错误"))},trigger:"blur"}],alloyWeight:[{validator:n.f,trigger:"blur"},{validator:Object(n.d)(99999),trigger:"blur"}],castTime:[{max:50,message:"最多50位字符",trigger:"blur"}],remark:[{max:100,message:"最多100位字符",trigger:"blur"}],fileNumber:[{max:50,message:"最多50位字符",trigger:"blur"}]}}},computed:o()({},Object(c.c)(["ribbonTypeList"])),created:function(){"create"===this.dialogData.formType?this.formData=i()({},u,{castId:Number(this.$route.params.castId)}):this.formData=i()(this.formData,this.dialogData.rowData),this.getRibbonTypeList()},methods:o()({},Object(c.b)(["getRibbonTypeList"]),{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.formData.ribbonTypeName=e.ribbonTypeList&&e.ribbonTypeList.find(function(t){return t.ribbonTypeId===e.formData.ribbonTypeId}).ribbonTypeName;var a="create"===e.dialogData.formType?{method:"post",url:s.a.addPlan}:{method:"put",url:s.a.updatePlan},r=a.method,i=a.url;e.$http(r,i,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}})},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增生产计划-"+e.$route.params.castId+"号机组":"修改生产计划-"+e.$route.params.castId+"号机组",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"950px","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"100px;",inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",editable:!1,clearable:!1},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"机组",prop:"castId"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.formData.castId,callback:function(t){e.$set(e.formData,"castId",t)},expression:"formData.castId"}},[a("el-option",{attrs:{label:"6号机组",value:6}}),e._v(" "),a("el-option",{attrs:{label:"7号机组",value:7}}),e._v(" "),a("el-option",{attrs:{label:"8号机组",value:8}}),e._v(" "),a("el-option",{attrs:{label:"9号机组",value:9}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"班组",prop:"team"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.team,callback:function(t){e.$set(e.formData,"team",t)},expression:"formData.team"}},[a("el-option",{attrs:{label:"早班",value:"早"}}),e._v(" "),a("el-option",{attrs:{label:"中班",value:"中"}}),e._v(" "),a("el-option",{attrs:{label:"夜班",value:"夜"}})],1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"任务单号",prop:"taskOrder"}},[a("el-input",{model:{value:e.formData.taskOrder,callback:function(t){e.$set(e.formData,"taskOrder",t)},expression:"formData.taskOrder"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"材质",prop:"ribbonTypeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.ribbonTypeId,callback:function(t){e.$set(e.formData,"ribbonTypeId",t)},expression:"formData.ribbonTypeId"}},e._l(e.ribbonTypeList,function(e){return a("el-option",{key:e.ribbonTypeId,attrs:{label:e.ribbonTypeName,value:e.ribbonTypeId}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"规格(mm)",prop:"ribbonWidth"}},[a("el-input",{model:{value:e.formData.ribbonWidth,callback:function(t){e.$set(e.formData,"ribbonWidth",t)},expression:"formData.ribbonWidth"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"客户",prop:"client"}},[a("el-input",{model:{value:e.formData.client,callback:function(t){e.$set(e.formData,"client",t)},expression:"formData.client"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"带厚(μm)",prop:"thickness"}},[a("el-input",{model:{value:e.formData.thickness,callback:function(t){e.$set(e.formData,"thickness",t)},expression:"formData.thickness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"叠片系数",prop:"laminationFactor"}},[a("el-input",{model:{value:e.formData.laminationFactor,callback:function(t){e.$set(e.formData,"laminationFactor",t)},expression:"formData.laminationFactor"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"制带炉号",prop:"furnace"}},[a("el-input",{model:{value:e.formData.furnace,callback:function(t){e.$set(e.formData,"furnace",t)},expression:"formData.furnace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"单炉投入",prop:"alloyWeight"}},[a("el-input",{model:{value:e.formData.alloyWeight,callback:function(t){e.$set(e.formData,"alloyWeight",t)},expression:"formData.alloyWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷带时间",prop:"castTime"}},[a("el-input",{model:{value:e.formData.castTime,callback:function(t){e.$set(e.formData,"castTime",t)},expression:"formData.castTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"文件编号",prop:"fileNumber"}},[a("el-input",{model:{value:e.formData.fileNumber,callback:function(t){e.$set(e.formData,"fileNumber",t)},expression:"formData.fileNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-form-item",{staticClass:"dialog_field orign_field",attrs:{label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(d,m,!1,function(e){a("DP3C")},"data-v-2a71766b",null);t.default=b.exports},lNwb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),i=a.n(r),l=a("NYxO"),o=a("7xYs"),n=a("g7mi"),s={name:"ribbon",components:{dialogForm:o.default},data:function(){return{dialogVisible:!1,formType:"create",rowData:{},tableData:[],loading:!1}},computed:i()({},Object(l.c)(["ribbonWidthList"])),created:function(){this.getRibbonWidthList()},methods:i()({},Object(l.b)(["getRibbonWidthList"]),{add:function(){this.dialogVisible=!0,this.formType="create"},edit:function(e){this.dialogVisible=!0,this.formType="edit",this.rowData=e},del:function(e){var t=this,a=e.ribbonWidthId,r=e.ribbonWidth;this.$confirm("删除后数据无法恢复，确定要删除 "+r+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",n.a.delRibbonWidth,{ribbonWidthId:a}).then(function(e){t.getRibbonWidthList()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.getRibbonWidthList()}})},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("带材规格管理")])],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("新增带材规格")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.ribbonWidthList,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"带材规格(mm)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(e){a("Xls/")},"data-v-05d7ce9a",null);t.default=u.exports},"m/fZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("g7mi"),i={name:"layout",data:function(){var e=this;return{isDisabled:!1,username:"",adminname:"",roleId:null,loading:!1,dialogVisible:!1,formData:{password:"",newPassword:"",newPasswordVerify:""},rules:{password:[{required:!0,message:"请输入旧密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],newPasswordVerify:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"},{validator:function(t,a,r){if(a!==e.formData.newPassword)return r(new Error("两次输入的密码不一致"));r()},trigger:"blur"}]}}},created:function(){var e=JSON.parse(localStorage.getItem("userinfo"));this.username=e.username,this.adminname=e.adminname,this.roleId=e.roleId},methods:{signout:function(){var e=this;this.isDisabled=!0,this.$http("POST",r.a.signout,{}).then(function(t){localStorage.removeItem("userinfo"),e.$router.push({path:"/login"})}).catch(function(e){console.log(e)}).finally(function(){e.isDisabled=!1})},modifyPwd:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var a={username:e.username,password:e.formData.password,newPassword:e.formData.newPassword};e.$http("PUT",r.a.updatePassword,a).then(function(t){e.dialogVisible=!1}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{staticStyle:{"background-color":"#304156"},attrs:{width:"180px"}},[a("div",{staticClass:"aside_title"}),e._v(" "),a("el-menu",{attrs:{"default-active":e.$route.path,mode:"vertical","unique-opened":!0,"text-color":"#fff","active-text-color":"#ffd04b","background-color":"#304156"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("生产计划")])]),e._v(" "),a("router-link",{attrs:{to:"/plan/6"}},[a("el-menu-item",{attrs:{index:"/plan/6"}},[e._v("6号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/plan/7"}},[a("el-menu-item",{attrs:{index:"/plan/7"}},[e._v("7号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/plan/8"}},[a("el-menu-item",{attrs:{index:"/plan/8"}},[e._v("8号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/plan/9"}},[a("el-menu-item",{attrs:{index:"/plan/9"}},[e._v("9号机组")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("化钢记录")])]),e._v(" "),a("router-link",{attrs:{to:"/melt/6"}},[a("el-menu-item",{attrs:{index:"/melt/6"}},[e._v("6号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/melt/7"}},[a("el-menu-item",{attrs:{index:"/melt/7"}},[e._v("7号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/melt/8"}},[a("el-menu-item",{attrs:{index:"/melt/8"}},[e._v("8号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/melt/9"}},[a("el-menu-item",{attrs:{index:"/melt/9"}},[e._v("9号机组")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("喷带记录")])]),e._v(" "),a("router-link",{attrs:{to:"/cast/6"}},[a("el-menu-item",{attrs:{index:"/cast/6"}},[e._v("6号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/cast/7"}},[a("el-menu-item",{attrs:{index:"/cast/7"}},[e._v("7号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/cast/8"}},[a("el-menu-item",{attrs:{index:"/cast/8"}},[e._v("8号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/cast/9"}},[a("el-menu-item",{attrs:{index:"/cast/9"}},[e._v("9号机组")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("重卷记录")])]),e._v(" "),a("router-link",{attrs:{to:"/roll/6"}},[a("el-menu-item",{attrs:{index:"/roll/6"}},[e._v("6号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/roll/7"}},[a("el-menu-item",{attrs:{index:"/roll/7"}},[e._v("7号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/roll/8"}},[a("el-menu-item",{attrs:{index:"/roll/8"}},[e._v("8号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/roll/9"}},[a("el-menu-item",{attrs:{index:"/roll/9"}},[e._v("9号机组")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("检测记录")])]),e._v(" "),a("router-link",{attrs:{to:"/measure/6"}},[a("el-menu-item",{attrs:{index:"/measure/6"}},[e._v("6号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/measure/7"}},[a("el-menu-item",{attrs:{index:"/measure/7"}},[e._v("7号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/measure/8"}},[a("el-menu-item",{attrs:{index:"/measure/8"}},[e._v("8号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/measure/9"}},[a("el-menu-item",{attrs:{index:"/measure/9"}},[e._v("9号机组")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("库房记录")])]),e._v(" "),a("router-link",{attrs:{to:"/storage/6"}},[a("el-menu-item",{attrs:{index:"/storage/6"}},[e._v("6号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/storage/7"}},[a("el-menu-item",{attrs:{index:"/storage/7"}},[e._v("7号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/storage/8"}},[a("el-menu-item",{attrs:{index:"/storage/8"}},[e._v("8号机组")])],1),e._v(" "),a("router-link",{attrs:{to:"/storage/9"}},[a("el-menu-item",{attrs:{index:"/storage/9"}},[e._v("9号机组")])],1)],2),e._v(" "),a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("数据统计")])]),e._v(" "),a("router-link",{attrs:{to:"/data/statisticsWeiht"}},[a("el-menu-item",{attrs:{index:"/data/statisticsWeiht"}},[e._v("大盘毛重统计表")])],1),e._v(" "),a("router-link",{attrs:{to:"/data/statisticsStorage"}},[a("el-menu-item",{attrs:{index:"/data/statisticsStorage"}},[e._v("带材库存统计表")])],1),e._v(" "),a("router-link",{attrs:{to:"/data/statisticsOder"}},[a("el-menu-item",{attrs:{index:"/data/statisticsOder"}},[e._v("订单统计表")])],1)],2),e._v(" "),1===e.roleId||2===e.roleId?a("el-submenu",{attrs:{index:"8"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("带材管理")])]),e._v(" "),a("router-link",{attrs:{to:"/ribbonType"}},[a("el-menu-item",{attrs:{index:"/ribbonType"}},[e._v("牌号列表")])],1),e._v(" "),a("router-link",{attrs:{to:"/ribbonWidth"}},[a("el-menu-item",{attrs:{index:"/ribbonWidth"}},[e._v("规格列表")])],1),e._v(" "),a("router-link",{attrs:{to:"/ribbonThicknessLevel"}},[a("el-menu-item",{attrs:{index:"/ribbonThicknessLevel"}},[e._v("厚度等级列表")])],1),e._v(" "),a("router-link",{attrs:{to:"/laminationLevel"}},[a("el-menu-item",{attrs:{index:"/laminationLevel"}},[e._v("叠片等级列表")])],1)],2):e._e(),e._v(" "),1===e.roleId?a("el-submenu",{attrs:{index:"9"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),e._v(" "),a("span",[e._v("账号管理")])]),e._v(" "),a("router-link",{attrs:{to:"/user"}},[a("el-menu-item",{attrs:{index:"/user"}},[e._v("用户列表")])],1)],2):e._e()],1)],1),e._v(" "),a("el-container",[a("el-header",[a("div",{staticClass:"logo"}),e._v(" "),a("div",{staticClass:"signout"},[a("label",[e._v("\n          当前用户：\n          "),a("span",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(e.adminname))])]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.isDisabled},on:{click:e.modifyPwd}},[e._v("修改密码")]),e._v(" "),a("el-button",{attrs:{type:"danger",disabled:e.isDisabled},on:{click:e.signout}},[e._v("退出登录")])],1)]),e._v(" "),a("el-main",{staticClass:"main"},[a("router-view")],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"修改密码",visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"30%","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"110px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"旧密码：",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入旧密码"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码：",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新密码"},model:{value:e.formData.newPassword,callback:function(t){e.$set(e.formData,"newPassword",t)},expression:"formData.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认新密码：",prop:"newPasswordVerify"}},[a("el-input",{attrs:{placeholder:"请再次输入新密码"},model:{value:e.formData.newPasswordVerify,callback:function(t){e.$set(e.formData,"newPasswordVerify",t)},expression:"formData.newPasswordVerify"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,l,!1,function(e){a("xvb2")},"data-v-77407112",null);t.default=o.exports},oVrV:function(e,t){},sdxM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var i=a("VU/8")({},r,!1,function(e){a("I7fm")},"data-v-02dbf232",null);t.default=i.exports},tvR6:function(e,t){},uMhA:function(e,t){},uslO:function(e,t,a){var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(e){return a(l(e))}function l(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=l,e.exports=i,i.id="uslO"},vMcP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),i=a.n(r),l=a("woOf"),o=a.n(l),n=a("Dd8w"),s=a.n(n),c=a("E4LH"),u=a("g7mi"),d=a("NYxO"),m=a("M4fF"),b={nozzleSize:"30*0.25",nozzleNum:1,heatCupNum:1,treatCoolRoller:"",coolRollerThickness:40,ReceiveMeltTime:"",tundishTemperatureWithoutMelt:1350,tundishTemperatureWithMelt:1330,installNozzleTime:"",castTimeStart:"",pressure:18,tundishTemperatureCasting:1350,coolRollerTemperatureBeforeCast:"32-32",coolRollerTemperatureAfterCast:"32-35",castLocation:"左",coilTimes:1,castTimeEnd:"",describe:"抓取1次完"},p={castTimes:1,castId:6,furnace:"",caster:"",ribbonWidth:30,ribbonTypeId:"",ribbonTypeName:"",nozzleNum:1,heatCupNum:1,tundishCar:"",tundish:"",isChangeTundish:"",meltOutWeight:0,rawWeight:0,remark:"备注",createdAt:"",updatedAt:"",record:[b]},f={data:function(){return{visible:!1,loading:!1,formData:{castTimes:1,castId:6,furnace:"",caster:"",ribbonWidth:30,ribbonTypeId:"",ribbonTypeName:"",nozzleNum:1,heatCupNum:1,tundishCar:"",tundish:"",isChangeTundish:"",meltOutWeight:0,rawWeight:0,remark:"备注",createdAt:"",updatedAt:"",record:[{nozzleSize:"30*0.25",nozzleNum:1,heatCupNum:1,treatCoolRoller:"",coolRollerThickness:40,ReceiveMeltTime:"",tundishTemperatureWithoutMelt:1350,tundishTemperatureWithMelt:1330,installNozzleTime:"",castTimeStart:"",pressure:18,tundishTemperatureCasting:1350,coolRollerTemperatureBeforeCast:"32-32",coolRollerTemperatureAfterCast:"32-35",castLocation:"左",coilTimes:1,castTimeEnd:"",describe:"抓取1次完"}]},rules:{ribbonTypeId:[{required:!0,message:"请选择材质",trigger:"blur"}],ribbonWidth:[{required:!0,message:"请填写带宽",trigger:"blur"},{validator:c.f,trigger:"blur"},{validator:Object(c.d)(99999),trigger:"blur"}],furnace:[{required:!0,message:"请填写炉号",trigger:"blur"},{max:20,message:"最多20位字符",trigger:"blur"},{validator:c.a,trigger:"blur"}],caster:[{required:!0,message:"请填写熔炼人姓名",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}],tundish:[{required:!0,message:"请填写在线包号",trigger:"blur"},{validator:c.e,trigger:"blur"},{validator:Object(c.d)(99999),trigger:"blur"}],tundishCar:[{required:!0,message:"请选择包车编号",trigger:"blur"}],isChangeTundish:[{required:!0,message:"请选择是否换包",trigger:"blur"}],nozzleNum:[{required:!0,message:"请填写喷嘴杯个数",trigger:"blur"},{validator:c.e,trigger:"blur"},{validator:Object(c.d)(99999),trigger:"blur"}],heatCupNum:[{required:!0,message:"请填写加热杯个数",trigger:"blur"},{validator:c.e,trigger:"blur"},{validator:Object(c.d)(99999),trigger:"blur"}],meltOutWeight:[{required:!0,message:"请填写放钢重量",trigger:"blur"},{validator:c.e,trigger:"blur"},{validator:Object(c.d)(99999),trigger:"blur"}],rawWeight:[{required:!0,message:"请填写大盘毛重",trigger:"blur"},{validator:c.e,trigger:"blur"},{validator:Object(c.d)(99999),trigger:"blur"}],remark:[{max:50,message:"最多50位字符",trigger:"blur"}],castTimes:[{required:!0,message:"请选择开包次数",trigger:"blur"}]}}},props:{dialogData:{type:Object,required:!0}},computed:s()({},Object(d.c)(["ribbonTypeList"])),created:function(){"add"===this.dialogData.formType?this.formData=o()({},p,{castId:Number(this.$route.params.castId)}):(this.formData=o()(this.formData,this.dialogData.rowData),this.formData.castTimes=this.formData.record.length),this.getRibbonTypeList()},mounted:function(){},methods:s()({},Object(d.b)(["getRibbonTypeList"]),{closeDialog:function(){this.$emit("close")},castTimesChangeHandler:function(e){var t=this.formData.record.length;if(e>t)for(var a=Object(m.cloneDeep)(b),r=0;r<e-t;r++)this.formData.record.push(a);else if(e<t)for(var i=0;i<t-e;i++)this.formData.record.pop()},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.formData.ribbonTypeName=e.ribbonTypeList&&e.ribbonTypeList.find(function(t){return t.ribbonTypeId===e.formData.ribbonTypeId}).ribbonTypeName,e.formData.recordJson=i()(e.formData.record);var a="add"===e.dialogData.formType?{method:"POST",url:u.a.addCast}:{method:"PUT",url:u.a.updateCast},r=a.method,l=a.url;e.$http(r,l,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}})},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"add"===e.dialogData.formType?"新增喷带记录-"+e.$route.params.castId+"号机组":"修改喷带记录-"+e.$route.params.castId+"号机组",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"1200px","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{},attrs:{model:e.formData,rules:e.rules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"材质",prop:"ribbonTypeId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.ribbonTypeId,callback:function(t){e.$set(e.formData,"ribbonTypeId",t)},expression:"formData.ribbonTypeId"}},e._l(e.ribbonTypeList,function(e){return a("el-option",{key:e.ribbonTypeId,attrs:{value:e.ribbonTypeId,label:e.ribbonTypeName}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"带宽",prop:"ribbonWidth"}},[a("el-input",{model:{value:e.formData.ribbonWidth,callback:function(t){e.$set(e.formData,"ribbonWidth",t)},expression:"formData.ribbonWidth"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"制带炉号",prop:"furnace"}},[a("el-input",{model:{value:e.formData.furnace,callback:function(t){e.$set(e.formData,"furnace",t)},expression:"formData.furnace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷带手",prop:"caster"}},[a("el-input",{model:{value:e.formData.caster,callback:function(t){e.$set(e.formData,"caster",t)},expression:"formData.caster"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"在线包号",prop:"tundish"}},[a("el-input",{model:{value:e.formData.tundish,callback:function(t){e.$set(e.formData,"tundish",t)},expression:"formData.tundish"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"包车编号",prop:"tundishCar"}},[a("el-select",{model:{value:e.formData.tundishCar,callback:function(t){e.$set(e.formData,"tundishCar",t)},expression:"formData.tundishCar"}},[a("el-option",{attrs:{label:"#1",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"#2",value:"2"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"是否换包",prop:"isChangeTundish"}},[a("el-select",{model:{value:e.formData.isChangeTundish,callback:function(t){e.$set(e.formData,"isChangeTundish",t)},expression:"formData.isChangeTundish"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷嘴杯个数",prop:"nozzleNum"}},[a("el-input",{model:{value:e.formData.nozzleNum,callback:function(t){e.$set(e.formData,"nozzleNum",t)},expression:"formData.nozzleNum"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"加热杯个数",prop:"heatCupNum"}},[a("el-input",{model:{value:e.formData.heatCupNum,callback:function(t){e.$set(e.formData,"heatCupNum",t)},expression:"formData.heatCupNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"放钢重量",prop:"meltOutWeight"}},[a("el-input",{model:{value:e.formData.meltOutWeight,callback:function(t){e.$set(e.formData,"meltOutWeight",t)},expression:"formData.meltOutWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"大盘毛重",prop:"rawWeight"}},[a("el-input",{model:{value:e.formData.rawWeight,callback:function(t){e.$set(e.formData,"rawWeight",t)},expression:"formData.rawWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"备注",prop:"remark"}},[a("el-input",{model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开包次数",prop:"castTimes"}},[a("el-select",{on:{change:e.castTimesChangeHandler},model:{value:e.formData.castTimes,callback:function(t){e.$set(e.formData,"castTimes",t)},expression:"formData.castTimes"}},[a("el-option",{attrs:{label:"1",value:1}}),e._v(" "),a("el-option",{attrs:{label:"2",value:2}}),e._v(" "),a("el-option",{attrs:{label:"3",value:3}}),e._v(" "),a("el-option",{attrs:{label:"4",value:4}}),e._v(" "),a("el-option",{attrs:{label:"5",value:5}}),e._v(" "),a("el-option",{attrs:{label:"6",value:6}})],1)],1)],1)],1),e._v(" "),e._l(e.formData.record,function(t,r){return a("section",{key:r,staticClass:"cast_detail"},[a("h3",{staticClass:"cast_hd"},[e._v("第"+e._s(r+1)+"次开包")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷嘴规格",prop:"record."+r+".nozzleSize",rules:[{required:!0,message:"请填写喷嘴规格，格式 30*0.25",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：30*0.25"},model:{value:t.nozzleSize,callback:function(a){e.$set(t,"nozzleSize",a)},expression:"item.nozzleSize"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"车修铜辊",prop:"record."+r+".treatCoolRoller",rules:[{required:!0,message:"请选择车修方式",trigger:"blur"}]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.treatCoolRoller,callback:function(a){e.$set(t,"treatCoolRoller",a)},expression:"item.treatCoolRoller"}},[a("el-option",{attrs:{label:"车",value:"车"}}),e._v(" "),a("el-option",{attrs:{label:"修",value:"修"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"铜套厚度",prop:"record."+r+".coolRollerThickness",rules:[{required:!0,message:"请填写铜套厚度，单位 mm",trigger:"blur"},{pattern:/^(0|[1-9]\d{0,8})$/,message:"请输入9位以内自然数, 如 0,1,2,3,...",trigger:"blur"}]}},[a("el-input",{model:{value:t.coolRollerThickness,callback:function(a){e.$set(t,"coolRollerThickness",a)},expression:"item.coolRollerThickness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"接钢时间",prop:"record."+r+".ReceiveMeltTime",rules:[{required:!0,message:"请填写接钢时间，格式 08:30",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：08:30"},model:{value:t.ReceiveMeltTime,callback:function(a){e.$set(t,"ReceiveMeltTime",a)},expression:"item.ReceiveMeltTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"接钢前包温",prop:"record."+r+".tundishTemperatureWithoutMelt",rules:[{required:!0,message:"请填写接钢前包温",trigger:"blur"},{pattern:/^[1-9]\d{0,8}$/,message:"请输入9位以内正整数, 如 1350,...",trigger:"blur"}]}},[a("el-input",{model:{value:t.tundishTemperatureWithoutMelt,callback:function(a){e.$set(t,"tundishTemperatureWithoutMelt",a)},expression:"item.tundishTemperatureWithoutMelt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"接钢后包温",prop:"record."+r+".tundishTemperatureWithMelt",rules:[{required:!0,message:"请填写接钢后包温",trigger:"blur"},{pattern:/^[1-9]\d{0,8}$/,message:"请输入9位以内正整数, 如 1350,...",trigger:"blur"}]}},[a("el-input",{model:{value:t.tundishTemperatureWithMelt,callback:function(a){e.$set(t,"tundishTemperatureWithMelt",a)},expression:"item.tundishTemperatureWithMelt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"装杯时间",prop:"record."+r+".installNozzleTime",rules:[{required:!0,message:"请填写装杯时间，格式 08:40",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：08:40"},model:{value:t.installNozzleTime,callback:function(a){e.$set(t,"installNozzleTime",a)},expression:"item.installNozzleTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"开包时间",prop:"record."+r+".castTimeStart",rules:[{required:!0,message:"请填写开包时间，格式 08:40",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：09:20"},model:{value:t.castTimeStart,callback:function(a){e.$set(t,"castTimeStart",a)},expression:"item.castTimeStart"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"开包压力",prop:"record."+r+".pressure",rules:[{required:!0,message:"请填写开包压力",trigger:"blur"},{pattern:/^[1-9]\d{0,8}$/,message:"请输入9位以内正整数, 如 18,...",trigger:"blur"}]}},[a("el-input",{model:{value:t.pressure,callback:function(a){e.$set(t,"pressure",a)},expression:"item.pressure"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"开包温度",prop:"record."+r+".tundishTemperatureCasting",rules:[{required:!0,message:"请填写开包温度",trigger:"blur"},{pattern:/^[1-9]\d{0,8}$/,message:"请输入9位以内正整数, 如 1350,...",trigger:"blur"}]}},[a("el-input",{model:{value:t.tundishTemperatureCasting,callback:function(a){e.$set(t,"tundishTemperatureCasting",a)},expression:"item.tundishTemperatureCasting"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷带前水温",prop:"record."+r+".coolRollerTemperatureBeforeCast",rules:[{required:!0,message:"请填写水温",trigger:"blur"},{pattern:/^(\d+|\d+\.\d{1,2})-(\d+|\d+\.\d{1,2})$/,message:"格式错误, 如 32.50-32.50",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：32-32"},model:{value:t.coolRollerTemperatureBeforeCast,callback:function(a){e.$set(t,"coolRollerTemperatureBeforeCast",a)},expression:"item.coolRollerTemperatureBeforeCast"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷带后水温",prop:"",prop:"record."+r+".coolRollerTemperatureAfterCast",rules:[{required:!0,message:"请填写水温",trigger:"blur"},{pattern:/^(\d+|\d+\.\d{1,2})-(\d+|\d+\.\d{1,2})$/,message:"格式错误, 如 32.50-33.80",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：32-35"},model:{value:t.coolRollerTemperatureAfterCast,callback:function(a){e.$set(t,"coolRollerTemperatureAfterCast",a)},expression:"item.coolRollerTemperatureAfterCast"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"喷带位置",prop:"record."+r+".castLocation",rules:[{required:!0,message:"请选择喷带位置",trigger:"blur"}]}},[a("el-select",{attrs:{placeholder:""},model:{value:t.castLocation,callback:function(a){e.$set(t,"castLocation",a)},expression:"item.castLocation"}},[a("el-option",{attrs:{label:"左",value:"左"}}),e._v(" "),a("el-option",{attrs:{label:"中",value:"中"}}),e._v(" "),a("el-option",{attrs:{label:"右",value:"右"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"抓取次数",prop:"record."+r+".coilTimes",rules:[{required:!0,message:"请填写抓取次数",trigger:"blur"},{pattern:/^[1-9]$/,message:"请输入9以内正整数, 如 3,...",trigger:"blur"}]}},[a("el-input",{model:{value:t.coilTimes,callback:function(a){e.$set(t,"coilTimes",a)},expression:"item.coilTimes"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"完成时间",prop:"record."+r+".castTimeEnd",rules:[{required:!0,message:"请填写完成时间，格式 08:40",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"格式：10:30"},model:{value:t.castTimeEnd,callback:function(a){e.$set(t,"castTimeEnd",a)},expression:"item.castTimeEnd"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"结果描述",prop:"record."+r+".describe",rules:[{required:!0,message:"请填写结果描述",trigger:"blur"},{max:100,message:"最多100位字符",trigger:"blur"}]}},[a("el-input",{model:{value:t.describe,callback:function(a){e.$set(t,"describe",a)},expression:"item.describe"}})],1)],1)],1)],1)})],2),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var h=a("VU/8")(f,g,!1,function(e){a("F+AS")},"data-v-5e1c3908",null);t.default=h.exports},vS98:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("X2Oc"),n={name:"melt",components:{dialogForm:a("KE1z").default},data:function(){return{castId:6,searchForm:{caster:"",furnace:"",date:[]},loading:!1,tableData:[],dialogVisible:!1,formType:"add",rowData:{},pageConfig:{total:1,current:1,pageSize:10}}},beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData()},methods:{dateFormat:function(e,t){return Object(o.a)(e.castDate)},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={caster:"",furnace:"",date:[]};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],caster:this.searchForm.caster,furnace:this.searchForm.furnace};i()(t,a),this.$http("get",l.a.queryMeasure,t).then(function(t){e.pageConfig.total=t.count,e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},add:function(){this.dialogVisible=!0,this.formType="add"},edit:function(e){this.rowData=e,this.dialogVisible=!0,this.formType="edit"},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.pageConfig.current=1,this.getTableData()},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("重卷记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"生产日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"喷带手："}},[a("el-input",{attrs:{placeholder:"请输入喷带手姓名"},model:{value:e.searchForm.caster,callback:function(t){e.$set(e.searchForm,"caster",t)},expression:"searchForm.caster"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"炉号："}},[a("el-input",{attrs:{placeholder:"请输入炉号"},model:{value:e.searchForm.furnace,callback:function(t){e.$set(e.searchForm,"furnace",t)},expression:"searchForm.furnace"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("创建重卷记录")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center","min-width":"170px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center","min-width":"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"规格",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castDate",label:"生产日期",align:"center",formatter:e.dateFormat,"min-width":"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"caster",label:"喷带手",align:"center","min-width":"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilNumber",label:"盘号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"diameter",label:"外径(mm)",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilWeight",label:"重量(kg)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]},c=a("VU/8")(n,s,!1,null,null,null);t.default=c.exports},vpnd:function(e,t){},xhBu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o=a("X2Oc"),n={name:"cast",components:{dialogForm:a("vMcP").default},data:function(){return{castId:6,searchForm:{caster:"",furnace:"",date:[]},loading:!1,tableData:[],dialogVisible:!1,formType:"create",rowData:{},pageConfig:{total:1,current:1,pageSize:10}}},beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData()},methods:{dateFormat:function(e,t){return Object(o.a)(e.createdAt)},dateTimeFormat:function(e,t){return Object(o.b)(e.updatedAt)},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={caster:"",furnace:"",date:[]};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],caster:this.searchForm.caster,furnace:this.searchForm.furnace};i()(t,a),this.$http("get",l.a.queryCast,t).then(function(t){e.pageConfig.total=t.count,e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},add:function(){this.dialogVisible=!0,this.formType="add"},edit:function(e){this.rowData=e,this.dialogVisible=!0,this.formType="edit"},del:function(e){var t=this,a=e._id,r=e.furnace;this.$confirm("删除后数据无法恢复，确定删除 "+r+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",l.a.delCast,{_id:a}).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.pageConfig.current=1,this.getTableData()},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("喷带记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"喷带日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"喷带手："}},[a("el-input",{attrs:{placeholder:"请输入喷带手姓名"},model:{value:e.searchForm.caster,callback:function(t){e.$set(e.searchForm,"caster",t)},expression:"searchForm.caster"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"炉号："}},[a("el-input",{attrs:{placeholder:"请输入炉号"},model:{value:e.searchForm.furnace,callback:function(t){e.$set(e.searchForm,"furnace",t)},expression:"searchForm.furnace"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("创建喷带记录")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"expand",label:"展开",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.record,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"开包",type:"index",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nozzleSize",label:"喷嘴规格",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"treatCoolRoller",label:"车修铜辊",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coolRollerThickness",label:"铜套厚度",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceiveMeltTime",label:"接钢时间",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishTemperatureWithoutMelt",label:"接钢前包温/℃",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishTemperatureWithMelt",label:"接钢后包温/℃",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"installNozzleTime",label:"装杯时间",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castTimeStart",label:"开包时间",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pressure",label:"开包压力",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishTemperatureCasting",label:"开包温度/℃",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coolRollerTemperatureBeforeCast",label:"喷带前水温/℃",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coolRollerTemperatureAfterCast",label:"喷带后水温/℃",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castLocation",label:"喷带位置",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilTimes",label:"抓取次数",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castTimeEnd",label:"喷带完成时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"喷带结果描述",align:"center",width:"110px","show-overflow-tooltip":!0}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"喷带日期",align:"center",width:"110px",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"带宽",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center",width:"170px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"caster",label:"喷带手",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundish",label:"在线包号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishCar",label:"包车编号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isChangeTundish",label:"是否换包",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isChangeTundish?a("span",[e._v("是")]):a("span",[e._v("否")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nozzleNum",label:"喷嘴杯个数",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"heatCupNum",label:"加热杯个数",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"meltOutWeight",label:"放钢重量(kg)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rawWeight",label:"大盘毛重(kg)",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",align:"center",width:"170px",formatter:e.dateTimeFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var c=a("VU/8")(n,s,!1,function(e){a("vpnd")},"data-v-e7772e5a",null);t.default=c.exports},xvb2:function(e,t){},zYgA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),i=a.n(r),l=a("g7mi"),o={ribbonTypeId:"",ribbonTypeName:""},n={props:{dialogData:{type:Object,required:!0}},data:function(){return{formData:{ribbonTypeId:"",ribbonTypeName:""},rules:{ribbonTypeName:[{required:!0,message:"请填写带材牌号",trigger:"blur"},{max:50,message:"长度不能超过50位",trigger:"blur"}]},loading:!1}},created:function(){"create"===this.dialogData.formType?this.formData=i()({},o):this.formData=i()(this.formData,this.dialogData.rowData)},methods:{closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var a="create"===e.dialogData.formType?{method:"post",url:l.a.addRibbonType}:{method:"put",url:l.a.updateRibbonType},r=a.method,i=a.url;e.$http(r,i,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增带材牌号":"修改带材牌号",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,"element-loading-text":"拼命加载中"},on:{"update:visible":function(t){e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",staticStyle:{width:"100%"},attrs:{model:e.formData,rules:e.rules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"带材牌号：",prop:"ribbonTypeName"}},[a("el-input",{model:{value:e.formData.ribbonTypeName,callback:function(t){e.$set(e.formData,"ribbonTypeName",t)},expression:"formData.ribbonTypeName"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,s,!1,function(e){a("oVrV")},"data-v-6eb19a99",null);t.default=c.exports}},["NHnr"]);
//# sourceMappingURL=app.ac2f5bbb2c892dc35545.js.map