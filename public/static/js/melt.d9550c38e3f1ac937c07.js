webpackJsonp([26],{"+gSl":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("woOf"),r=a.n(l),o=a("Dd8w"),i=a.n(o),s=a("g7mi"),n=a("X2Oc"),m=a("E4LH"),c={date:"",castId:6,furnace:"",ribbonTypeName:"",bucket:"",melter:"",meltFurnace:"",newAlloyNumber:"",newAlloyWeight:0,oldAlloyNumber:"",oldAlloyWeight:0,mixAlloyNumber:"",mixAlloyWeight:0,highNbNumber:"",highNbWeight:0,Si:0,Ni:0,Cu:0,BFe:0,NbFe:0,alloyTotalWeight:0,alloyOutWeight:0,alloyFixWeight:0,remark:"",createdAt:"",updatedAt:"",addMeltNumber1:"",addMeltWeight1:0,addMeltNumber2:"",addMeltWeight2:0,addMeltNumber3:"",addMeltWeight3:0},d={data:function(){return{userinfo:{},visible:!1,loading:!1,formData:{date:"",castId:6,furnace:"",ribbonTypeName:"",bucket:"",melter:"",meltFurnace:"",newAlloyNumber:"",newAlloyWeight:0,oldAlloyNumber:"",oldAlloyWeight:0,mixAlloyNumber:"",mixAlloyWeight:0,highNbNumber:"",highNbWeight:0,Si:0,Ni:0,Cu:0,BFe:0,NbFe:0,alloyTotalWeight:0,alloyOutWeight:0,alloyFixWeight:0,remark:"",createdAt:"",updatedAt:"",addMeltNumber1:"",addMeltWeight1:0,addMeltNumber2:"",addMeltWeight2:0,addMeltNumber3:"",addMeltWeight3:0},rules:{ribbonTypeName:[{required:!0,message:"请选择材质",trigger:"blur"}],furnace:[{required:!0,message:"请填写炉号",trigger:"blur"},{max:20,message:"最多20位字符",trigger:"blur"},{validator:m.a,trigger:"blur"}],bucket:[{required:!0,message:"请填写桶号",trigger:"blur"},{max:2,message:"最多2位字符",trigger:"blur"}],melter:[{required:!0,message:"请填写熔炼人姓名",trigger:"blur"},{max:10,message:"最多10位字符",trigger:"blur"}],meltFurnace:[{required:!0,message:"请选择冶炼炉",trigger:"blur"}],newAlloyNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],newAlloyWeight:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],oldAlloyNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],oldAlloyWeight:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],mixAlloyNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],mixAlloyWeight:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],highNbNumber:[{max:20,message:"最多20位字符",trigger:"blur"}],highNbWeight:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],Si:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],Ni:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],Cu:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],BFe:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],NbFe:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],alloyOutWeight:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],alloyFixWeight:[{validator:m.c,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],remark:[{max:100,message:"最多100位字符",trigger:"blur"}],addMeltNumber1:[{max:20,message:"最多20位字符",trigger:"blur"}],addMeltWeight1:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],addMeltNumber2:[{max:20,message:"最多20位字符",trigger:"blur"}],addMeltWeight2:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}],addMeltNumber3:[{max:20,message:"最多20位字符",trigger:"blur"}],addMeltWeight3:[{validator:m.e,trigger:"blur"},{validator:Object(m.d)(99999),trigger:"blur"}]}}},props:{dialogData:{type:Object,required:!0}},created:function(){this.userinfo=JSON.parse(localStorage.getItem("userinfo")),"create"===this.dialogData.formType?this.formData=r()({},c,{castId:Number(this.$route.params.castId),melter:this.userinfo.adminname}):this.formData=r()(this.formData,this.dialogData.rowData)},methods:{setBucket:function(e){e.target.value&&(this.formData.bucket=e.target.value.split("/")[1])},closeDialog:function(){this.$emit("close")},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.formData.alloyTotalWeight=parseInt(e.formData.newAlloyWeight)+parseInt(e.formData.oldAlloyWeight)+parseInt(e.formData.mixAlloyWeight)+parseInt(e.formData.highNbWeight)+parseInt(e.formData.alloyFixWeight)+parseInt(e.formData.addMeltWeight1)+parseInt(e.formData.addMeltWeight2)+parseInt(e.formData.addMeltWeight3),e.formData.roleId=e.userinfo.roleId,e.formData.adminname=e.userinfo.adminname;var a="create"===e.dialogData.formType?{method:"POST",url:s.a.addMelt}:{method:"PUT",url:s.a.updateMelt},l=a.method,r=a.url;e.$http(l,r,e.formData).then(function(t){e.$emit("submit")}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"create"===e.dialogData.formType?"新增冶炼记录-"+e.$route.params.castId+"号机组":"修改冶炼记录-"+e.$route.params.castId+"号机组",visible:e.dialogData.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,center:!0,width:"950px","element-loading-text":"拼命加载中"},on:{"update:visible":function(t){return e.$set(e.dialogData,"dialogVisible",t)},close:e.closeDialog}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,"label-width":"100px",inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"材质:",prop:"ribbonTypeName"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.ribbonTypeName,callback:function(t){e.$set(e.formData,"ribbonTypeName",t)},expression:"formData.ribbonTypeName"}},e._l(e.dialogData.ribbonTypeList,function(e){return a("el-option",{key:e.ribbonTypeName,attrs:{value:e.ribbonTypeName,label:e.ribbonTypeName}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"制带炉号:",prop:"furnace"}},[a("el-input",{on:{blur:e.setBucket},model:{value:e.formData.furnace,callback:function(t){e.$set(e.formData,"furnace",t)},expression:"formData.furnace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"桶号:",prop:"bucket"}},[a("span",[e._v(e._s(e.formData.bucket))])])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"熔炼人:",prop:"melter"}},[a("span",[e._v(e._s(e.formData.melter))])])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"冶炼炉炉号",prop:"meltFurnace"}},[a("el-select",{model:{value:e.formData.meltFurnace,callback:function(t){e.$set(e.formData,"meltFurnace",t)},expression:"formData.meltFurnace"}},[a("el-option",{attrs:{label:"A炉",value:"A"}}),e._v(" "),a("el-option",{attrs:{label:"B炉",value:"B"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"新料批号:",prop:"newAlloyNumber"}},[a("el-input",{model:{value:e.formData.newAlloyNumber,callback:function(t){e.$set(e.formData,"newAlloyNumber",t)},expression:"formData.newAlloyNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"新料重量:",prop:"newAlloyWeight"}},[a("el-input",{model:{value:e.formData.newAlloyWeight,callback:function(t){e.$set(e.formData,"newAlloyWeight",t)},expression:"formData.newAlloyWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"加工料批号:",prop:"oldAlloyNumber"}},[a("el-input",{model:{value:e.formData.oldAlloyNumber,callback:function(t){e.$set(e.formData,"oldAlloyNumber",t)},expression:"formData.oldAlloyNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"加工料重量:",prop:"oldAlloyWeight"}},[a("el-input",{model:{value:e.formData.oldAlloyWeight,callback:function(t){e.$set(e.formData,"oldAlloyWeight",t)},expression:"formData.oldAlloyWeight"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"回炉锭批号:",prop:"mixAlloyNumber"}},[a("el-input",{model:{value:e.formData.mixAlloyNumber,callback:function(t){e.$set(e.formData,"mixAlloyNumber",t)},expression:"formData.mixAlloyNumber"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"回炉锭重量:",prop:"mixAlloyWeight"}},[a("el-input",{model:{value:e.formData.mixAlloyWeight,callback:function(t){e.$set(e.formData,"mixAlloyWeight",t)},expression:"formData.mixAlloyWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"高铌料批号:",prop:"highNbNumber"}},[a("el-input",{model:{value:e.formData.highNbNumber,callback:function(t){e.$set(e.formData,"highNbNumber",t)},expression:"formData.highNbNumber"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"高铌料重量:",prop:"highNbWeight"}},[a("el-input",{model:{value:e.formData.highNbWeight,callback:function(t){e.$set(e.formData,"highNbWeight",t)},expression:"formData.highNbWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"硅:",prop:"Si"}},[a("el-input",{model:{value:e.formData.Si,callback:function(t){e.$set(e.formData,"Si",t)},expression:"formData.Si"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"镍:",prop:"Ni"}},[a("el-input",{model:{value:e.formData.Ni,callback:function(t){e.$set(e.formData,"Ni",t)},expression:"formData.Ni"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"铜:",prop:"Cu"}},[a("el-input",{model:{value:e.formData.Cu,callback:function(t){e.$set(e.formData,"Cu",t)},expression:"formData.Cu"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"硼铁:",prop:"BFe"}},[a("el-input",{model:{value:e.formData.BFe,callback:function(t){e.$set(e.formData,"BFe",t)},expression:"formData.BFe"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"铌铁:",prop:"NbFe"}},[a("el-input",{model:{value:e.formData.NbFe,callback:function(t){e.$set(e.formData,"NbFe",t)},expression:"formData.NbFe"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"续钢1炉号:",prop:"addMeltNumber1"}},[a("el-input",{model:{value:e.formData.addMeltNumber1,callback:function(t){e.$set(e.formData,"addMeltNumber1",t)},expression:"formData.addMeltNumber1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"续钢1重量:",prop:"addMeltWeight1"}},[a("el-input",{model:{value:e.formData.addMeltWeight1,callback:function(t){e.$set(e.formData,"addMeltWeight1",t)},expression:"formData.addMeltWeight1"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"续钢2炉号:",prop:"addMeltNumber2"}},[a("el-input",{model:{value:e.formData.addMeltNumber2,callback:function(t){e.$set(e.formData,"addMeltNumber2",t)},expression:"formData.addMeltNumber2"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"续钢2重量:",prop:"addMeltWeight2"}},[a("el-input",{model:{value:e.formData.addMeltWeight2,callback:function(t){e.$set(e.formData,"addMeltWeight2",t)},expression:"formData.addMeltWeight2"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"续钢3炉号:",prop:"addMeltNumber3"}},[a("el-input",{model:{value:e.formData.addMeltNumber3,callback:function(t){e.$set(e.formData,"addMeltNumber3",t)},expression:"formData.addMeltNumber3"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"续钢3重量:",prop:"addMeltWeight3"}},[a("el-input",{model:{value:e.formData.addMeltWeight3,callback:function(t){e.$set(e.formData,"addMeltWeight3",t)},expression:"formData.addMeltWeight3"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"放钢重量:",prop:"alloyOutWeight"}},[a("el-input",{model:{value:e.formData.alloyOutWeight,callback:function(t){e.$set(e.formData,"alloyOutWeight",t)},expression:"formData.alloyOutWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"修正重量:",prop:"alloyFixWeight"}},[a("el-input",{model:{value:e.formData.alloyFixWeight,callback:function(t){e.$set(e.formData,"alloyFixWeight",t)},expression:"formData.alloyFixWeight"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"dialog_field",attrs:{label:"备注:",prop:"remark"}},[a("el-input",{model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)},staticRenderFns:[]},b=a("VU/8")(d,u,!1,null,null,null).exports,g=a("IC2r"),p=a("NYxO"),f=a("mw3O"),h=a.n(f),v={name:"melt",components:{dialogForm:b,Collapse:g.a},data:function(){return{userinfo:{},isAble:!1,castId:6,searchForm:{melter:"",ribbonTypeName:"",bucket:"",newAlloyNumber:"",oldAlloyNumber:"",date:[]},loading:!1,tableData:[],dialogVisible:!1,formType:"create",rowData:{},pageConfig:{total:1,current:1,pageSize:10},tableHeight:100}},computed:i()({},Object(p.c)(["ribbonTypeList"])),beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),this.isAble=this.setIsAble(),a()},created:function(){this.castId=this.$route.params.castId,this.userinfo=JSON.parse(localStorage.getItem("userinfo")),this.isAble=this.setIsAble(),this.getTableData(),this.getRibbonTypeList()},mounted:function(){var e=this;e.$nextTick(function(){e.tableHeight=window.innerHeight-100}),window.onresize=Object(n.c)(function(){e.tableHeight=window.innerHeight-100},1e3)},methods:i()({},Object(p.b)(["getRibbonTypeList"]),{dateFormat:function(e,t){return Object(n.a)(e.createTime)},dateTimeFormat:function(e,t){return Object(n.b)(e.updatedAt)},setIsAble:function(){return 8==this.userinfo.roleId||10==this.userinfo.roleId||12==this.userinfo.roleId||14==this.userinfo.roleId},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={melter:"",ribbonTypeName:"",bucket:"",newAlloyNumber:"",oldAlloyNumber:"",date:[]};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],melter:this.searchForm.melter,ribbonTypeName:this.searchForm.ribbonTypeName,bucket:this.searchForm.bucket,newAlloyNumber:this.searchForm.newAlloyNumber,oldAlloyNumber:this.searchForm.oldAlloyNumber};r()(t,a),this.$http("get",s.a.queryMelt,t).then(function(t){e.pageConfig.total=t.count,e.pageConfig.pageSize=t.limit,e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},createMelt:function(){this.dialogVisible=!0,this.formType="create"},edit:function(e){this.rowData=e,this.dialogVisible=!0,this.formType="edit"},del:function(e){var t=this,a=e.meltId,l=e.furnace;this.$confirm("删除后数据无法恢复，确定删除 "+l+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",s.a.delMelt,{meltId:a}).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){"edit"===this.formType&&(this.dialogVisible=!1),this.pageConfig.current=1,this.getTableData()},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)},exportExcel:function(){var e={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],melter:this.searchForm.melter,ribbonTypeName:this.searchForm.ribbonTypeName,bucket:this.searchForm.bucket,newAlloyNumber:this.searchForm.newAlloyNumber,oldAlloyNumber:this.searchForm.oldAlloyNumber},t=s.a.exportMelt+"?"+h.a.stringify(e);window.open(t)}})},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("冶炼记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("Collapse",[a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"冶炼日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"冶炼人："}},[a("el-input",{attrs:{placeholder:"请输入冶炼人姓名"},model:{value:e.searchForm.melter,callback:function(t){e.$set(e.searchForm,"melter",t)},expression:"searchForm.melter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"材质："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.ribbonTypeName,callback:function(t){e.$set(e.searchForm,"ribbonTypeName",t)},expression:"searchForm.ribbonTypeName"}},e._l(e.ribbonTypeList,function(e){return a("el-option",{key:e.ribbonTypeId,attrs:{value:e.ribbonTypeName,label:e.ribbonTypeName}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"桶号："}},[a("el-input",{attrs:{placeholder:"请输入桶号"},model:{value:e.searchForm.bucket,callback:function(t){e.$set(e.searchForm,"bucket",t)},expression:"searchForm.bucket"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新料："}},[a("el-input",{attrs:{placeholder:"请输入新料炉号"},model:{value:e.searchForm.newAlloyNumber,callback:function(t){e.$set(e.searchForm,"newAlloyNumber",t)},expression:"searchForm.newAlloyNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加工料："}},[a("el-input",{attrs:{placeholder:"请输入加工料炉号"},model:{value:e.searchForm.oldAlloyNumber,callback:function(t){e.$set(e.searchForm,"oldAlloyNumber",t)},expression:"searchForm.oldAlloyNumber"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[e.isAble?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createMelt}},[e._v("创建冶炼记录")]):e._e(),e._v(" "),1===e.userinfo.roleId||2===e.userinfo.roleId||3===e.userinfo.roleId?a("el-button",{staticClass:"pull_right",attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.exportExcel}},[e._v("导出")]):e._e()],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","highlight-current-row":"",height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"createTime",label:"冶炼日期",align:"center",width:"80px",formatter:e.dateFormat,fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"60px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center",width:"130px",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bucket",label:"桶号",align:"center",width:"30px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"melter",label:"冶炼人",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"meltFurnace",label:"冶炼炉",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"newAlloyNumber",label:"新料炉号",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"newAlloyWeight",label:"新料重量(kg)",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oldAlloyNumber",label:"加工料炉号",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oldAlloyWeight",label:"加工料重量(kg)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mixAlloyNumber",label:"回炉锭炉号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mixAlloyWeight",label:"回炉锭重量(kg)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"highNbNumber",label:"高铌料炉号",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"highNbWeight",label:"高铌料重量(kg)",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Si",label:"硅(g)",align:"center",width:"40px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Ni",label:"镍(g)",align:"center",width:"40px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Cu",label:"铜(g)",align:"center",width:"40px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"BFe",label:"硼铁(g)",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"NbFe",label:"铌铁(g)",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"NbFe",label:"铌铁(g)",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMeltNumber1",label:"续钢1炉号",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMeltWeight1",label:"续钢1重量(kg)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMeltNumber2",label:"续钢2炉号",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMeltWeight2",label:"续钢2重量(kg)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMeltNumber3",label:"续钢3炉号",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addMeltWeight3",label:"续钢3重量(kg)",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyTotalWeight",label:"总重量(kg)",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyOutWeight",label:"放钢重量(kg)",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"alloyFixWeight",label:"修正重量(kg)",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"100px","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",align:"center",width:"130px",formatter:e.dateTimeFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"updatePerson",label:"更新者",align:"center",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",disabled:1!==e.userinfo.roleId&&3!==e.userinfo.roleId&&e.userinfo.adminname!==t.row.melter},on:{click:function(a){return e.edit(t.row)}}},[e._v("修改")]),e._v(" "),1===e.userinfo.roleId||3===e.userinfo.roleId?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){return e.$set(e.pageConfig,"current",t)},"update:current-page":function(t){return e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData,ribbonTypeList:e.ribbonTypeList}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var N=a("VU/8")(v,y,!1,function(e){a("Bqcq")},"data-v-31044c83",null);t.default=N.exports},Bqcq:function(e,t){}});
//# sourceMappingURL=melt.d9550c38e3f1ac937c07.js.map