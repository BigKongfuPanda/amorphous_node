webpackJsonp([0],{"w7K+":function(e,t){},xaHD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("woOf"),r=a.n(l),n=a("g7mi"),i=a("X2Oc"),o={name:"cast",components:{dialogForm:a("vMcP").default},data:function(){return{castId:6,searchForm:{caster:"",date:[]},loading:!1,tableData:[],dialogVisible:!1,formType:"create",rowData:{},pageConfig:{total:1,current:1,pageSize:10}}},beforeRouteUpdate:function(e,t,a){this.castId=e.params.castId,this.getTableData(),a()},created:function(){this.getTableData()},methods:{dateFormat:function(e,t){return Object(i.a)(e.createdAt)},dateTimeFormat:function(e,t){return Object(i.b)(e.updatedAt)},objectSpanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);console.log(a);var l=t.record&&t.record.length+1;if(a<=13)return{rowspan:l,colspan:1}},clickSearch:function(){this.pageConfig.current=1,this.getTableData({current:1})},reset:function(){this.searchForm={caster:"",date:[]};this.pageConfig.current=1,this.getTableData({current:1})},getTableData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={castId:this.castId,startTime:this.searchForm.date[0],endTime:this.searchForm.date[1],caster:this.searchForm.caster};r()(t,a),this.$http("get",n.a.queryCast,t).then(function(t){e.pageConfig.total=t.count,e.tableData=t.list}).catch(function(e){console.log(e)}).finally(function(){e.loading=!1})},add:function(){this.dialogVisible=!0,this.formType="add"},edit:function(e){this.rowData=e,this.dialogVisible=!0,this.formType="edit"},del:function(e){var t=this,a=e._id,l=e.furnace;this.$confirm("确定删除 "+l+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http("delete",n.a.delCast,{_id:a}).then(function(e){t.getTableData()}).catch(function(e){console.log(e)})}).catch(function(){})},closeHandler:function(){this.dialogVisible=!1},submitHandler:function(){this.dialogVisible=!1,this.getTableData()},handleCurrentChange:function(e){var t={current:e};this.getTableData(t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("喷带记录")]),e._v(" "),a("el-breadcrumb-item",[e._v(e._s(e.castId)+"号机组")])],1),e._v(" "),a("el-form",{staticClass:"search_bar",attrs:{model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"喷带日期："}},[a("el-date-picker",{attrs:{type:"daterange","default-time":["00:00:00","23:59:59"],clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"喷带手："}},[a("el-input",{attrs:{placeholder:"请输入喷带手姓名"},model:{value:e.searchForm.caster,callback:function(t){e.$set(e.searchForm,"caster",t)},expression:"searchForm.caster"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.clickSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),a("div",{staticClass:"main_bd"},[a("el-col",{staticClass:"table_hd"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("创建喷带记录")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"","span-method":e.objectSpanMethod}},[a("el-table-column",{attrs:{label:"操作",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.edit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.del(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"updatedAt",label:"更新时间",align:"center",width:"170px",formatter:e.dateTimeFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"createdAt",label:"喷带日期",align:"center",width:"110px",formatter:e.dateFormat}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonTypeName",label:"材质",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ribbonWidth",label:"带宽",align:"center",width:"170px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"furnace",label:"炉号",align:"center",width:"170px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"caster",label:"喷带手",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundish",label:"在线包号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishCar",label:"包车编号",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isChangeTundish",label:"是否换包",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nozzleNum",label:"喷嘴杯个数",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"heatCupNum",label:"加热杯个数",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"meltOutWeight",label:"放钢重量(kg)",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rawWeight",label:"大盘毛重(kg)",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"100px","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"nozzleSize",label:"喷嘴规格",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"treatCoolRoller",label:"车修铜辊",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coolRollerThickness",label:"铜套厚度",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReceiveMeltTime",label:"接钢时间",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishTemperatureWithoutMelt",label:"接钢前包温/℃",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishTemperatureWithMelt",label:"接钢后包温/℃",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"installNozzleTime",label:"装杯时间",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castTimeStart",label:"开包时间",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pressure",label:"开包压力",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tundishTemperatureCasting",label:"开包温度/℃",align:"center",width:"60px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coolRollerTemperatureBeforeCast",label:"喷带前水温/℃",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coolRollerTemperatureAfterCast",label:"喷带后水温/℃",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castLocation",label:"喷带位置",align:"center",width:"70px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"coilTimes",label:"抓取次数",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"castTimeEnd",label:"喷带完成时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"喷带结果描述",align:"center",width:"110px"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev,pager,next",total:e.pageConfig.total,"current-page":e.pageConfig.current,"page-size":e.pageConfig.pageSize},on:{"update:currentPage":function(t){e.$set(e.pageConfig,"current",t)},"current-change":e.handleCurrentChange}})],1),e._v(" "),e.dialogVisible?a("dialog-form",{attrs:{dialogData:{formType:e.formType,dialogVisible:e.dialogVisible,rowData:e.rowData}},on:{close:e.closeHandler,submit:e.submitHandler}}):e._e()],1)},staticRenderFns:[]};var s=a("VU/8")(o,c,!1,function(e){a("w7K+")},"data-v-5047b556",null);t.default=s.exports}});
//# sourceMappingURL=0.6ebac711911af75e29fa.js.map