{"version":3,"sources":["webpack:///src/pages/measure/measure.vue","webpack:///./src/pages/measure/measure.vue?6d05","webpack:///./src/pages/measure/measure.vue","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["measure","name","components","Collapse","data","userinfo","castId","searchForm","caster","furnace","date","ribbonTypeNames","ribbonWidths","ribbonThicknessLevels","laminationLevels","ribbonToughnessLevels","appearenceLevels","thicknessDivation","loading","tableData","pageConfig","total","current","pageSize","isExportable","isEditable","isDeleteable","tableHeight","multipleSelection","isBatchInStored","isAutoQuerying","pollTimer","computed","extends_default","autoQueryConfig","icon","this","text","type","Object","vuex_esm","uniqueAppearenceLevelList","appearenceList","reduce","acc","cur","includes","appearenceLevel","push","beforeRouteUpdate","to","from","next","params","getTableData","setExportable","setEditable","setDeleteable","setBatchInStored","created","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","$route","JSON","parse","localStorage","getItem","getLinerWeightList","getRibbonToughnessLevelList","getRibbonTypeList","getRibbonWidthList","getRibbonThicknessLevelList","getLaminationLevelList","getClientsList","getAppearenceLevelList","stop","mounted","self","$nextTick","window","innerHeight","onresize","common","beforeDestroy","clearInterval","methods","handleAutoQuery","_this2","curStatus","setInterval","batchCalcRibbonTotalData","_this3","list","filter","item","ribbonTotalLevel","ribbonThickness1","ribbonThickness2","ribbonThickness3","ribbonThickness4","ribbonThickness5","ribbonThickness6","ribbonThickness7","ribbonThickness8","ribbonThickness9","realRibbonWidth","ribbonToughnessLevel","every","el","Array","isArray","length","message_default","message","map","result","calcRibbonTotalData","$http","urlmap","updateMeasureByBatch","listJson","stringify_default","then","res","catch","err","console","log","thicknessChangeHandler","e","row","ribbonThicknessList","Number","undefined","ribbonThicknessDeviation","calcMaxDeviation","ribbonThickness","toFixed","ribbonThicknessLevel","calcribbonThicknessLevel","dateFormat","column","castDate","dateTimeFormat","measureDate","roleId","calcLinerWeight","ribbonWidth","linerWeight","linerWeightList","find","clickSearch","reset","_this4","arguments","_params","startTime","endTime","ribbonTypeNameJson","ribbonWidthJson","ribbonThicknessLevelJson","laminationLevelJson","ribbonToughnessLevelJson","appearenceLevelJson","assign_default","queryMeasure","count","limit","forEach","isEditing","storageRule","orderThickness","orderLaminationFactor","orderRibbonToughnessLevels","orderAppearenceLevels","qualifiedDemands","clients","split","appearence","coilNetWeight","coilWeight","remainWeight","finally","edit","isStored","isMeasureConfirmed","$message","customerNumer","value","trim","laminationFactor","calcLaminationFactor","diameter","laminationLevel","calcLaminationLevel","ribbonToughness","ribbonToughnessLevelList","calcRibbonTotalLevel","setStoredType","inPlanStoredWeight","inPlanThickRibbonWeight","outPlanStoredWeight","totalStoredWeight","calcQualityOfABCDE","calcThinRibbonWeight","qualityOfGood","test","qualityOfFine","qualityOfNormal","clone","lodash","join","keys_default","key","save","updateMeasure","error","handleCurrentChange","val","isFragile","ribbonTypeName","Math","abs","_width2","_width","highFactorThinRibbonWeight","thinRibbonWeight","qualityOfA","qualityOfB","qualityOfC","qualityOfD","qualityOfE","PI","pow","factor","arr","sort","b","thickness","inPlanFlag","indexOf","parseInt","substr","_maxThickness","maxLaminationFactor","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","outPlanFlag","qualifiedThickness","_maxThickness3","qualifiedLaminationFactor","_maxLaminationFactor","qualifiedRibbonToughnessLevels","qualifiedAppearenceLevels","return","exportExcel","url","exportMeasure","lib_default","stringify","open","setSelectable","index","handleSelectionChange","measureConfirm","_this5","selectionList","$alert","some","dataJson","measure_measure","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","_v","_s","model","inline","label","default-time","clearable","start-placeholder","end-placeholder","callback","$$v","$set","expression","placeholder","multiple","collapse-tags","_l","ribbonTypeId","ribbonWidthId","ribbonThicknessLevelId","laminationLevelId","ribbonToughnessLevelId","on","click","_e","content","placement","staticStyle","margin-left","directives","rawName","ref","width","stripe","border","highlight-current-row","height","selection-change","selectable","prop","align","fixed","min-width","formatter","scopedSlots","_u","fn","scope","size","nativeOn","keyup","$event","toString","appearenceLevelId","class","trigger","cellpadding","cellspacing","slot","isStorageConfirmed","show-overflow-tooltip","unStoreReason","clientsId","client","disabled","isFlat","background","layout","current-page","page-size","update:currentPage","update:current-page","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","toObject","$keys","it","anObject","get","getIterator","iterFn","TypeError","call","keys","$export","core","fails","KEY","exec","exp","S","F"],"mappings":"+WAm1BAA,GACAC,KAAA,OACAC,YACAC,mBAAA,GAEAC,KALA,WAMA,OACAC,YACAC,OAAA,EACAC,YACAC,OAAA,GACAC,QAAA,GACAC,QACAC,mBACAC,gBACAC,yBACAC,oBACAC,yBACAC,oBACAC,kBAAA,IAEAC,SAAA,EACAC,aACAC,YACAC,MAAA,EACAC,QAAA,EACAC,SAAA,IAEAC,cAAA,EACAC,YAAA,EACAC,cAAA,EACAC,YAAA,IACAC,qBACAC,iBAAA,EACAC,gBAAA,EACAC,UAAA,OAIAC,SAAYC,KACZC,gBADA,WAEA,OACAC,KAAAC,KAAAN,eACA,sBACA,qBACAO,KAAAD,KAAAN,eAAA,kBACAQ,KAAAF,KAAAN,eAAA,sBAGAS,OAAAC,EAAA,EAAAD,EACA,2BACA,iBACA,kBACA,2BACA,sBACA,cACA,iBACA,qBAEAE,0BApBA,WAqBA,OAAAL,KAAAM,eAAAC,OAAA,SAAAC,EAAAC,GAIA,OAHAD,EAAAE,SAAAD,EAAAE,kBACAH,EAAAI,KAAAH,EAAAE,iBAEAH,UAKAK,kBArEA,SAqEAC,EAAAC,EAAAC,GACAhB,KAAA9B,OAAA4C,EAAAG,OAAA/C,OACA8B,KAAAkB,eACAlB,KAAAZ,aAAAY,KAAAmB,gBACAnB,KAAAX,WAAAW,KAAAoB,cACApB,KAAAV,aAAAU,KAAAqB,gBACArB,KAAAP,gBAAAO,KAAAsB,mBACAN,KAEAO,QA9EA,WA8EA,IAAAC,EAAAxB,KAAA,OAAAyB,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAf,MAAA,cACAQ,EAAAtD,OAAAsD,EAAAS,OAAAhB,OAAA/C,OACAsD,EAAAvD,SAAAiE,KAAAC,MAAAC,aAAAC,QAAA,aACAb,EAAApC,aAAAoC,EAAAL,gBACAK,EAAAnC,WAAAmC,EAAAJ,cACAI,EAAAlC,aAAAkC,EAAAH,gBACAG,EAAA/B,gBAAA+B,EAAAF,mBANAS,EAAAf,KAAA,EAOAQ,EAAAc,qBAPA,cAAAP,EAAAf,KAAA,GAQAQ,EAAAe,8BARA,eAAAR,EAAAf,KAAA,GASAQ,EAAAgB,oBATA,eAAAT,EAAAf,KAAA,GAUAQ,EAAAiB,qBAVA,eAAAV,EAAAf,KAAA,GAWAQ,EAAAkB,8BAXA,eAAAX,EAAAf,KAAA,GAYAQ,EAAAmB,yBAZA,eAAAZ,EAAAf,KAAA,GAaAQ,EAAAoB,iBAbA,eAAAb,EAAAf,KAAA,GAcAQ,EAAAqB,yBAdA,QAeArB,EAAAN,eAfA,yBAAAa,EAAAe,SAAAjB,EAAAL,KAAAC,IAiBAsB,QA/FA,WAgGA,IAAAC,EAAAhD,KACAgD,EAAAC,UAAA,WAEAD,EAAAzD,YAAA2D,OAAAC,YAAA,KAEAD,OAAAE,SAAAjD,OAAAkD,EAAA,EAAAlD,CAAA,WAEA6C,EAAAzD,YAAA2D,OAAAC,YAAA,IACA,MAEAG,cA1GA,WA2GAC,cAAAvD,KAAAL,WACAK,KAAAL,UAAA,MAEA6D,QAAW3D,KACX4D,gBADA,WACA,IAAAC,EAAA1D,KACA2D,EAAA3D,KAAAN,eACAM,KAAAN,gBAAAiE,EACA3D,KAAAN,gBAGA6D,cAAAvD,KAAAL,WACAK,KAAAkB,eACAlB,KAAAL,UAAAiE,YAAA,WACAF,EAAAxC,gBACA,MANAlB,KAAAL,WAAA4D,cAAAvD,KAAAL,YASAkE,yBAdA,WAcA,IAAAC,EAAA9D,KAIA+D,EAAA/D,KAAAjB,UAAAiF,OACA,SAAAC,GAAA,OACAA,EAAAC,mBAEAD,EAAAE,iBACAF,EAAAG,iBACAH,EAAAI,iBACAJ,EAAAK,iBACAL,EAAAM,iBACAN,EAAAO,iBACAP,EAAAQ,iBACAR,EAAAS,iBACAT,EAAAU,iBACAV,EAAAW,gBACAX,EAAAY,qBACAZ,EAAAtD,iBACAmE,MAAA,SAAAC,GAAA,QAAAA,MAEA,IAAAC,MAAAC,QAAAlB,IAAA,IAAAA,EAAAmB,OACA,OAAAC,KACAC,QAAA,gDACAlF,KAAA,UAYA6D,IAAAsB,IAAA,SAAApB,GAOA,IAAAqB,EAAAxB,EAAAyB,oBAAAtB,GACA,OAAepE,OACfoE,EACAqB,KAIAtF,KAAAwF,MAAA,MAAAC,EAAA,EAAAC,sBACAC,SAAAC,IAAA7B,KAEA8B,KAAA,SAAAC,GACAhC,EAAA5C,cAAAhC,QAAA4E,EAAA9E,WAAAE,SAAA,MAEA6G,MAAA,SAAAC,GAAA,OAAAC,QAAAC,IAAAF,MAEAG,uBAzEA,SAyEAC,EAAAC,GACA,IAAAC,GACAD,EAAAlC,iBACAkC,EAAAjC,iBACAiC,EAAAhC,iBACAgC,EAAA/B,iBACA+B,EAAA9B,iBACA8B,EAAA7B,iBACA6B,EAAA5B,iBACA4B,EAAA3B,iBACA2B,EAAA1B,kBAEA2B,IACAjB,IAAA,SAAApB,GACA,QAAAA,EACA,OAAAsC,OAAAtC,KAGAD,OAAA,SAAAC,GAAA,YAAAuC,IAAAvC,IACAoC,EAAAI,yBAAAzG,KAAA0G,iBAAAJ,GACAD,EAAAM,gBACAL,EAAApB,OAAA,GAEAoB,EAAA/F,OAAA,SAAAC,EAAAC,GAAA,OAAAD,EAAAC,GAAA,GACA6F,EAAApB,QACA0B,QAAA,GACA,EACAP,EAAAQ,qBAAA7G,KAAA8G,yBACAT,EAAAM,mBAGAxG,OAAAC,EAAA,EAAAD,EACA,8BACA,oBACA,qBACA,8BACA,yBACA,iBACA,yBACA,wBAEA4G,WAlHA,SAkHAV,EAAAW,GACA,OAAA7G,OAAAkD,EAAA,EAAAlD,CAAAkG,EAAAY,WAEAC,eArHA,SAqHAb,EAAAW,GACA,OAAAX,EAAAc,YAAAhH,OAAAkD,EAAA,EAAAlD,CAAAkG,EAAAc,aAAA,IAEA/F,YAxHA,WAyHA,UAAApB,KAAA/B,SAAAmJ,QAQA/F,cAjIA,WAkIA,UAAArB,KAAA/B,SAAAmJ,QAQAjG,cA1IA,WA2IA,kBAAAT,SAAAV,KAAA/B,SAAAmJ,SAMA9F,iBAjJA,WAkJA,cAAAZ,SAAAV,KAAA/B,SAAAmJ,SAOAC,gBAzJA,SAyJAC,GAUAA,EAAAf,OAAAe,GAVA,IAWAC,GACAvH,KAAAwH,gBAAAC,KAAA,SAAAxD,GAAA,OAAAA,EAAAqD,uBADAC,YAIA,OAAAA,IACQpC,KACRC,QAAA,OAAAkC,EAAA,yBACApH,KAAA,UAEA,IAmBAwH,YAhMA,WAqMA1H,KAAAhB,WAAAE,QAAA,EACAc,KAAAkB,cAHAhC,QAAA,KAKAyI,MAxMA,WAyMA3H,KAAA7B,YACAC,OAAA,GACAC,QAAA,GACAC,QACAC,mBACAC,gBACAC,yBACAC,oBACAC,yBACAC,qBAKAoB,KAAAhB,WAAAE,QAAA,EACAc,KAAAkB,cAHAhC,QAAA,KAKAgC,aA1NA,WA0NA,IAAA0G,EAAA5H,KAAAiB,EAAA4G,UAAA3C,OAAA,QAAAsB,IAAAqB,UAAA,GAAAA,UAAA,MACAC,GACA5J,OAAA8B,KAAA9B,OACA6J,UAAA/H,KAAA7B,WAAAG,KAAA,GACA0J,QAAAhI,KAAA7B,WAAAG,KAAA,GACAF,OAAA4B,KAAA7B,WAAAC,OACAC,QAAA2B,KAAA7B,WAAAE,QACA4J,mBAAArC,IAAA5F,KAAA7B,WAAAI,iBACA2J,gBAAAtC,IAAA5F,KAAA7B,WAAAK,cACA2J,yBAAAvC,IACA5F,KAAA7B,WAAAM,uBAEA2J,oBAAAxC,IAAA5F,KAAA7B,WAAAO,kBACA2J,yBAAAzC,IACA5F,KAAA7B,WAAAQ,uBAEA2J,oBAAA1C,IAAA5F,KAAA7B,WAAAS,kBACAC,kBAAAmB,KAAA7B,WAAAU,mBAEM0J,IAANtH,EAAA6G,GACA9H,KAAAwF,MAAA,MAAAC,EAAA,EAAA+C,aAAAvH,GACA4E,KAAA,SAAA7H,GACA4J,EAAA5I,WAAAC,MAAAjB,EAAAyK,MACAb,EAAA5I,WAAAG,SAAAnB,EAAA0K,MACA1K,EAAA+F,MACA/F,EAAA+F,KAAA4E,QAAA,SAAA1E,GACA,GAAA2D,EAAA3J,SAAAmJ,OACAnD,EAAA2E,WAAA,EACA3E,EAAA2E,WAAA,EACA3E,EAAA4E,aACAC,eAAA7E,EAAA6E,eACAC,sBAAA9E,EAAA8E,sBACAC,2BAAA/E,EAAA+E,2BACAC,sBAAAhF,EAAAgF,sBAKAC,kBAAA,cAAAxI,SACA6F,OAAAqB,EAAA3J,SAAAmJ,SAEAlF,KAAAC,MAAA8B,EAAAiF,sBAGAjF,EAAAkF,QAAAlF,EAAAkF,QAAAlF,EAAAkF,QAAAC,MAAA,QACAnF,EAAAoF,WAAApF,EAAAoF,WACApF,EAAAoF,WAAAD,MAAA,QAGAnF,EAAAqF,cACArF,EAAAsF,WAAA3B,EAAAP,gBAAApD,EAAAqD,aACArD,EAAAuF,aAAAvF,EAAAqF,gBAEA1B,EAAA7I,UAAAf,EAAA+F,OAEAgC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,KAEAyD,QAAA,WACA7B,EAAA9I,SAAA,KAGA4K,KAxRA,SAwRArD,GACA,IACA,GAAAA,EAAAsD,UAAA,GAAAtD,EAAAsD,WACA,GAAAtD,EAAAuD,mBAGA,OAAA5J,KAAA6J,UACAzE,QAAA,4BACAlF,KAAA,WAKA4J,cArSA,SAqSAC,GACA,uBAAAA,EAAAxD,OAAAwD,EAAAC,QAAAD,GAEAxE,oBAxSA,SAwSAc,GAGAA,EAAA4D,iBAAAjK,KAAAkK,qBACA7D,EAAAkD,WACAlD,EAAA8D,SACA9D,EAAAzB,iBAEAyB,EAAA+D,gBAAApK,KAAAqK,oBAAAhE,EAAA4D,kBAYA5D,EAAAiE,gBACAtK,KAAAuK,yBAAAhK,OAAA,SAAAC,EAAAC,GAEA,OADAD,EAAAC,EAAAoE,sBAAApE,EAAA6J,gBACA9J,OACA6F,EAAAxB,uBAAA,GASAwB,EAAAlC,iBAAAnE,KAAA8J,cAAAzD,EAAAlC,kBACAkC,EAAAjC,iBAAApE,KAAA8J,cAAAzD,EAAAjC,kBACAiC,EAAAhC,iBAAArE,KAAA8J,cAAAzD,EAAAhC,kBACAgC,EAAA/B,iBAAAtE,KAAA8J,cAAAzD,EAAA/B,kBACA+B,EAAA9B,iBAAAvE,KAAA8J,cAAAzD,EAAA9B,kBACA8B,EAAA7B,iBAAAxE,KAAA8J,cAAAzD,EAAA7B,kBACA6B,EAAA5B,iBAAAzE,KAAA8J,cAAAzD,EAAA5B,kBACA4B,EAAA3B,iBAAA1E,KAAA8J,cAAAzD,EAAA3B,kBACA2B,EAAA1B,iBAAA3E,KAAA8J,cAAAzD,EAAA1B,kBAEA0B,EAAAI,yBAAAzG,KAAA0G,kBACAL,EAAAlC,iBACAkC,EAAAjC,iBACAiC,EAAAhC,iBACAgC,EAAA/B,iBACA+B,EAAA9B,iBACA8B,EAAA7B,iBACA6B,EAAA5B,iBACA4B,EAAA3B,iBACA2B,EAAA1B,mBAEA0B,EAAAM,kBACAN,EAAAlC,iBACAkC,EAAAjC,iBACAiC,EAAAhC,iBACAgC,EAAA/B,iBACA+B,EAAA9B,iBACA8B,EAAA7B,iBACA6B,EAAA5B,iBACA4B,EAAA3B,iBACA2B,EAAA1B,kBACA,GACAiC,QAAA,GACAP,EAAAQ,qBAAA7G,KAAA8G,yBACAT,EAAAM,iBAIAN,EAAAnC,iBAAAlE,KAAAwK,qBAAAnE,GAGA,QAAAA,EAAAnC,iBACAmC,EAAAsD,SAAA,GAIAtD,EAAAsD,SAAA3J,KAAAyK,cAAApE,GACA,IAAAA,EAAAsD,UACAtD,EAAAqE,mBAAArE,EAAAiD,cAEA,IAAAjD,EAAAQ,uBACAR,EAAAsE,wBAAAtE,EAAAiD,gBAEA,IAAAjD,EAAAsD,WACAtD,EAAAuE,oBAAAvE,EAAAiD,eAIAjD,EAAAwE,mBACAxE,EAAAqE,mBAAArE,EAAAuE,qBACAhE,QAAA,GAGA5G,KAAA8K,mBAAAzE,GAEArG,KAAA+K,qBAAA1E,GAaAA,EAAA2E,cAAA3E,EAAAqE,mBAGA,IAAArE,EAAAsD,WAEA,qCAAAsB,KAAA5E,EAAAnC,mBACA,6BAAA+G,KAAA5E,EAAAnC,kBAEAmC,EAAA6E,cAAA7E,EAAAiD,cAEAjD,EAAA8E,gBAAA9E,EAAAiD,gBAKA,IAAA8B,EAAAjL,OAAAkL,EAAA,UAAAlL,CAAAkG,GAUA,OATA+E,EAAAjC,QAAAiC,EAAAjC,QAAAmC,OACAF,EAAA/B,WAAA+B,EAAA/B,WAAAiC,OAGMC,IAANH,GAAAzC,QAAA,SAAA6C,GACA,MAAAJ,EAAAI,WACAJ,EAAAI,KAGAJ,GAEAK,KAlbA,SAkbApF,GAIA,IAAA+E,EAAApL,KAAAuF,oBAAAc,GAEArG,KAAAwF,MAAA,MAAAC,EAAA,EAAAiG,cAAAN,GACAvF,KAAA,SAAA7H,MACA+H,MAAA,SAAA4F,GACA1F,QAAAC,IAAAyF,MAGAC,oBA9bA,SA8bAC,GACA,IAAA5K,GACA/B,QAAA2M,GAEA7L,KAAAkB,aAAAD,IAEAuJ,qBApcA,SAocAnE,GAIA,IAAAyF,GAAA,SAAApL,SAAA2F,EAAAxB,sBAMA,aAAAwB,EAAA0F,eAAA,CACA,GAAA1F,EAAAM,gBAAA,GACA,YAEA,QAAAN,EAAA+D,gBACA,YAIA,WAAA1J,SAAA2F,EAAAiB,cAAAwE,EACA,YAKA,GACAzF,EAAAI,yBAAA,GACAJ,EAAAiB,YAAA,IACAwE,EAEA,YAIA,GACAzF,EAAAiB,YAAA,IACAwE,GACAE,KAAAC,IAAA5F,EAAAzB,gBAAAyB,EAAAiB,aAAA,GAEA,YAEA,GACAjB,EAAAiB,aAAA,IACAwE,GACAE,KAAAC,IAAA5F,EAAAzB,gBAAAyB,EAAAiB,aAAA,GAEA,YAIA,mBAAA5G,SAAA2F,EAAA0F,gBAAA,CACA,IAAAG,EAAA7F,EAAAzB,gBAAAyB,EAAAiB,YAEA,IADA4E,IAAAtF,QAAA,KACA,IAAAsF,IAAA,GACA,YAKA,IACA,iCAAAxL,SAAA2F,EAAA0F,iBACA1F,EAAA4D,iBAAA,IAEA,YAIA,IACA,mBAAAvJ,SAAA2F,EAAA0F,kBACA1F,EAAAM,gBAAA,IAAAN,EAAA4D,iBAAA,KAEA,YAMA,cAAAvJ,SAAA2F,EAAA0F,gBAAA,CACA,GACA1F,EAAAM,gBAAA,IACAN,EAAAM,gBAAA,IACAN,EAAA4D,iBAAA,IAEA,YAEA,SAAA5D,EAAA1F,iBAAA0F,EAAAI,0BAAA,EACA,YAKA,wBAAA/F,SAAA2F,EAAA0F,iBAAAD,EACA,YAIA,IACA,QAAAtF,EAAA,MAAA9F,SAAA2F,EAAAQ,wBACA,QAAAL,EAAA,MAAA9F,SAAA2F,EAAA+D,mBACA,QAAA5D,EAAA,MAAA9F,SAAA2F,EAAAxB,wBACA,QAAA2B,EAAA,MAAA9F,SAAA2F,EAAA1F,iBAEA,SAIA,IAAAuD,EACAmC,EAAAQ,qBACAR,EAAA+D,gBACA/D,EAAAxB,qBACAwB,EAAA1F,gBAWA0F,EAAAM,gBAAA,IAAAN,EAAAM,iBAAA,KACAzC,GAAA,KAEAmC,EAAAM,gBAAA,IAAAN,EAAAM,iBAAA,KACAzC,GAAA,KAGAmC,EAAAM,gBAAA,IAAAN,EAAAM,iBAAA,KACAzC,GAAA,KAEAmC,EAAAM,gBAAA,IAAAN,EAAAM,iBAAA,KACAzC,GAAA,KAKAmC,EAAAI,yBAAA,IACA,aAAA/F,SAAA2F,EAAAxB,wBAEAX,GAAA,KAGA,IAAAiI,EAAA9F,EAAAzB,gBAAAyB,EAAAiB,YA0BA,OAzBA6E,IAAAvF,QAAA,GACAP,EAAAiB,YAAA,GAEA0E,KAAAC,IAAAE,GAAA,KACA,aAAAzL,SAAA2F,EAAAxB,wBAEAsH,GAAA,GACAjI,GAAA,KACAiI,EAAA,KACAjI,GAAA,OAGAmC,EAAAiB,aAAA,IAEA0E,KAAAC,IAAAE,GAAA,KACA,aAAAzL,SAAA2F,EAAAxB,wBAEAsH,GAAA,GACAjI,GAAA,KACAiI,EAAA,KACAjI,GAAA,OAKAA,GAEA6G,qBA/mBA,SA+mBA1E,GACA,KAAAA,EAAAM,gBAAA,IAIA,OAAAN,EAAA4D,kBAAA,IACA5D,EAAA+F,2BAAA/F,EAAAiD,mBAGAjD,EAAA4D,kBAAA,MACA5D,EAAAgG,iBAAAhG,EAAAiD,iBAGAwB,mBA5nBA,SA4nBAzE,GAGA,IASAnC,EAAAmC,EAAAnC,iBATA,qCAUA+G,KAAA/G,GACAmC,EAAAiG,WAAAjG,EAAAiD,cATA,iCAUA2B,KAAA/G,GACAmC,EAAAkG,WAAAlG,EAAAiD,cATA,iCAUA2B,KAAA/G,GACAmC,EAAAmG,WAAAnG,EAAAiD,cATA,iCAUA2B,KAAA/G,GACAmC,EAAAoG,WAAApG,EAAAiD,cATA,+BAUA2B,KAAA/G,KACAmC,EAAAqG,WAAArG,EAAAiD,gBAGAY,qBArpBA,SAqpBAX,EAAAY,EAAAvF,GACA,QAEA2E,EAAA,MACAyC,KAAAW,IAAAxC,IAAA,eACA6B,KAAAY,IAAA,MACAhI,GACAgC,QAAA,OAGAyD,oBA/pBA,SA+pBAwC,GACA,OAAAA,EACAA,GAAA,IACA,IACAA,GAAA,KAAAA,EAAA,IACA,IACAA,GAAA,IAAAA,EAAA,IACA,IACAA,GAAA,KAAAA,EAAA,GACA,IACAA,GAAA,KAAAA,EAAA,IACA,IACAA,GAAA,KAAAA,EAAA,IACA,IAEA,MAdA,IAiBAnG,iBAjrBA,SAirBAoG,GAKA,OAJAA,EAAAC,KAAA,SAAApL,EAAAqL,GACA,OAAArL,EAAAqL,IAGAF,EADAA,EAAA5H,OACA,GAAA4H,EAAA,IAEAhG,yBAxrBA,SAwrBAmG,GACA,GAAAA,EAGA,OAAAA,EAAA,GACA,EACAA,EAAA,IAAAA,GAAA,GACA,EACAA,EAAA,IAAAA,GAAA,GACA,EACAA,EAAA,IAAAA,GAAA,GACA,EACAA,EAAA,IAAAA,GAAA,GACA,EACAA,EAAA,IAAAA,GAAA,GACA,EACAA,EAAA,IAAAA,GAAA,GACA,EACAA,GAAA,GACA,OADA,GAIAxC,cA9sBA,SA8sBApE,GACA,IAAA6G,GAAA,EAGAvG,EAAAN,EAAAM,gBACAmC,EAAAzC,EAAAyC,eACA,GAAAA,EAAAqE,QAAA,QAGAxG,EADAyG,SAAAtE,EAAAuE,OAAA,MAGAH,GAAA,QAEA,GAAApE,EAAAqE,QAAA,SACA,IAAAG,EAAAxE,EAAAM,MAAA,SAEAzC,EADAmC,EAAAM,MAAA,SACAzC,EAAA2G,KACAJ,GAAA,GAIA,IAAAjD,EAAA5D,EAAA4D,iBACAlB,EAAA1C,EAAA0C,sBACA,GAAAA,EAAAoE,QAAA,QAGAlD,EADAmD,SAAArE,EAAAsE,OAAA,MAGAH,GAAA,QAEA,GAAAnE,EAAAoE,QAAA,SACA,IAAAI,EAAAxE,EAAAK,MAAA,SAGAa,EAFAlB,EAAAK,MAAA,SAGAa,EAAAsD,KAEAL,GAAA,GAIA,IAAArI,EAAAwB,EAAAxB,qBACAwB,EAAA2C,2BAAAI,MACA,KAEA1I,SAAAmE,KACAqI,GAAA,GAGA,IAAAvM,EAAA0F,EAAA1F,gBAMA,GALA0F,EAAA4C,sBAAAG,MAAA,KACA1I,SAAAC,KACAuM,GAAA,GAGAA,EACA,SA4CA,IAAAhE,EAAAhH,KAAAC,MAAAkE,EAAA6C,sBApGAsE,GAAA,EAAAC,GAAA,EAAAC,OAAAlH,EAAA,IAqGA,QAAAmH,EAAAC,EAAAC,IAAA3E,KAAAsE,GAAAG,EAAAC,EAAA5M,QAAA8M,MAAAN,GAAA,OAAAvJ,EAAA0J,EAAA5D,MACAgE,GAAA,EAEAC,EAAA/J,EAAA+J,mBACA,GAAAA,EAAAb,QAAA,QAGAxG,EADAyG,SAAAY,EAAAX,OAAA,MAGAU,GAAA,QAEA,GAAAC,EAAAb,QAAA,SACA,IAAAc,EAAAD,EAAA5E,MAAA,SAGAzC,EAFAqH,EAAA5E,MAAA,SAGAzC,EAAAsH,KAGAF,GAAA,GAIA,IAAAG,EAAAjK,EAAAiK,0BACA,GAAAA,EAAAf,QAAA,QAKAlD,EAHAmD,SACAc,EAAAb,OAAA,MAIAU,GAAA,QAEA,GAAAG,EAAAf,QAAA,SACA,IAAAgB,EAAAD,EAAA9E,MAAA,SAGAa,EAFAiE,EAAA9E,MAAA,SAGAa,EAAAkE,KAGAJ,GAAA,GAiBA,GAZA9J,EAAAmK,+BACA1N,SAAAmE,KAEAkJ,GAAA,GAGA9J,EAAAoK,0BACA3N,SAAAC,KAEAoN,GAAA,GAGAA,EACA,UAhKA,MAAA/H,GAAAyH,GAAA,EAAAC,EAAA1H,EAAA,aAAAwH,GAAAI,EAAAU,QAAAV,EAAAU,SAAA,WAAAb,EAAA,MAAAC,GAoKA,UAEAa,YAp3BA,WAq3BA,IAAAtN,GACA/C,OAAA8B,KAAA9B,OACA6J,UAAA/H,KAAA7B,WAAAG,KAAA,GACA0J,QAAAhI,KAAA7B,WAAAG,KAAA,IAcA,IAAA2C,EAAA8G,YAAA9G,EAAA+G,QACA,OAAAhI,KAAA6J,UACAzE,QAAA,UACAlF,KAAA,UAGA,IAAAsO,EAAA/I,EAAA,EAAAgJ,cAAA,IAAAC,EAAA/M,EAAAgN,UAAA1N,GACAiC,OAAA0L,KAAAJ,IAEAK,cA/4BA,SA+4BAxI,EAAAyI,GAEA,eAAApO,SAAA2F,EAAAsD,WAAAtD,EAAAuD,qBAMAmF,sBAv5BA,SAu5BAlD,GACA7L,KAAAR,kBAAAqM,GAEAmD,eA15BA,WA05BA,IAAAC,EAAAjP,KACAkP,EAAA/O,OAAAkL,EAAA,UAAAlL,CAAAH,KAAAR,mBACA,WAAA0P,EAAAhK,OACAlF,KAAAmP,OAAA,kBAAAjP,KAAA,YAGAgP,EAAAE,KAAA,SAAAnL,GAAA,OAAAA,EAAAkF,SAAA,IAAAlF,EAAAkF,QAAAjE,SAEAlF,KAAAmP,OACA,0BACA,MACAjP,KAAA,aAGAgP,EAAAvG,QAAA,SAAAtC,GACAA,EAAAuD,mBAAA,EACAvD,EAAA8C,QAAA9C,EAAA8C,QAAAmC,OACAjF,EAAAgD,WAAAhD,EAAAgD,WAAAiC,cAGAtL,KAAAwF,MAAA,OAAAC,EAAA,EAAAuJ,gBACAK,SAAAzJ,IAAAsJ,KAEArJ,KAAA,SAAA7H,GACAiR,EAAA/N,iBAEA6E,MAAA,SAAA4F,GACA1F,QAAAC,IAAAyF,UCl3De2D,GADEC,OAHjB,WAA0B,IAAAC,EAAAxP,KAAayP,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,iBAAqCE,YAAA,QAAAC,OAA2BC,kBAAA,yBAAyCJ,EAAA,sBAAAH,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,sBAAAH,EAAAQ,GAAAR,EAAAS,GAAAT,EAAAtR,QAAA,aAAAsR,EAAAQ,GAAA,KAAAL,EAAA,YAAAA,EAAA,WAAiKE,YAAA,aAAAC,OAAgCI,MAAAV,EAAArR,WAAAgS,QAAA,KAAsCR,EAAA,gBAAqBG,OAAOM,MAAA,WAAiBT,EAAA,kBAAuBG,OAAO5P,KAAA,YAAAmQ,gBAAA,uBAAAC,WAAA,EAAAC,oBAAA,OAAAC,kBAAA,QAAiIN,OAAQnG,MAAAyF,EAAArR,WAAA,KAAAsS,SAAA,SAAAC,GAAqDlB,EAAAmB,KAAAnB,EAAArR,WAAA,OAAAuS,IAAsCE,WAAA,sBAA+B,GAAApB,EAAAQ,GAAA,KAAAL,EAAA,gBAAqCG,OAAOM,MAAA,UAAgBT,EAAA,YAAiBG,OAAOe,YAAA,YAAyBX,OAAQnG,MAAAyF,EAAArR,WAAA,OAAAsS,SAAA,SAAAC,GAAuDlB,EAAAmB,KAAAnB,EAAArR,WAAA,SAAAuS,IAAwCE,WAAA,wBAAiC,GAAApB,EAAAQ,GAAA,KAAAL,EAAA,gBAAqCG,OAAOM,MAAA,SAAeT,EAAA,YAAiBG,OAAOe,YAAA,SAAsBX,OAAQnG,MAAAyF,EAAArR,WAAA,QAAAsS,SAAA,SAAAC,GAAwDlB,EAAAmB,KAAAnB,EAAArR,WAAA,UAAAuS,IAAyCE,WAAA,yBAAkC,GAAApB,EAAAQ,GAAA,KAAAL,EAAA,gBAAqCG,OAAOM,MAAA,SAAeT,EAAA,aAAkBG,OAAOe,YAAA,MAAAC,SAAA,GAAAC,gBAAA,IAAqDb,OAAQnG,MAAAyF,EAAArR,WAAA,gBAAAsS,SAAA,SAAAC,GAAgElB,EAAAmB,KAAAnB,EAAArR,WAAA,kBAAAuS,IAAiDE,WAAA,+BAA0CpB,EAAAwB,GAAAxB,EAAA,wBAAAvL,GAA4C,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAgN,aAAAnB,OAA6B/F,MAAA9F,EAAA8H,eAAAqE,MAAAnM,EAAA8H,oBAA2D,OAAAyD,EAAAQ,GAAA,KAAAL,EAAA,gBAAwCG,OAAOM,MAAA,SAAeT,EAAA,aAAkBG,OAAOe,YAAA,MAAAC,SAAA,GAAAC,gBAAA,IAAqDb,OAAQnG,MAAAyF,EAAArR,WAAA,aAAAsS,SAAA,SAAAC,GAA6DlB,EAAAmB,KAAAnB,EAAArR,WAAA,eAAAuS,IAA8CE,WAAA,4BAAuCpB,EAAAwB,GAAAxB,EAAA,yBAAAvL,GAA6C,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAiN,cAAApB,OAA8BM,MAAAnM,EAAAqD,YAAAyC,MAAA9F,EAAAqD,iBAAqD,OAAAkI,EAAAQ,GAAA,KAAAL,EAAA,gBAAwCG,OAAOM,MAAA,WAAiBT,EAAA,aAAkBG,OAAOe,YAAA,MAAAC,SAAA,GAAAC,gBAAA,IAAqDb,OAAQnG,MAAAyF,EAAArR,WAAA,sBAAAsS,SAAA,SAAAC,GAAsElB,EAAAmB,KAAAnB,EAAArR,WAAA,wBAAAuS,IAAuDE,WAAA,qCAAgDpB,EAAAwB,GAAAxB,EAAA,kCAAAvL,GAAsD,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAkN,uBAAArB,OAAuCM,MAAAnM,EAAA4C,qBAAAkD,MAAA9F,EAAA4C,0BAAuE,OAAA2I,EAAAQ,GAAA,KAAAL,EAAA,gBAAwCG,OAAOM,MAAA,WAAiBT,EAAA,aAAkBG,OAAOe,YAAA,MAAAC,SAAA,GAAAC,gBAAA,IAAqDb,OAAQnG,MAAAyF,EAAArR,WAAA,iBAAAsS,SAAA,SAAAC,GAAiElB,EAAAmB,KAAAnB,EAAArR,WAAA,mBAAAuS,IAAkDE,WAAA,gCAA2CpB,EAAAwB,GAAAxB,EAAA,6BAAAvL,GAAiD,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAmN,kBAAAtB,OAAkCM,MAAAnM,EAAAmG,gBAAAL,MAAA9F,EAAAmG,qBAA6D,OAAAoF,EAAAQ,GAAA,KAAAL,EAAA,gBAAwCG,OAAOM,MAAA,WAAiBT,EAAA,aAAkBG,OAAOe,YAAA,MAAAC,SAAA,GAAAC,gBAAA,IAAqDb,OAAQnG,MAAAyF,EAAArR,WAAA,sBAAAsS,SAAA,SAAAC,GAAsElB,EAAAmB,KAAAnB,EAAArR,WAAA,wBAAAuS,IAAuDE,WAAA,qCAAgDpB,EAAAwB,GAAAxB,EAAA,kCAAAvL,GAAsD,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAoN,uBAAAvB,OAAuCM,MAAAnM,EAAAY,qBAAAkF,MAAA9F,EAAAY,0BAAuE,OAAA2K,EAAAQ,GAAA,KAAAL,EAAA,gBAAwCG,OAAOM,MAAA,WAAiBT,EAAA,aAAkBG,OAAOe,YAAA,MAAAC,SAAA,GAAAC,gBAAA,IAAqDb,OAAQnG,MAAAyF,EAAArR,WAAA,iBAAAsS,SAAA,SAAAC,GAAiElB,EAAAmB,KAAAnB,EAAArR,WAAA,mBAAAuS,IAAkDE,WAAA,gCAA2CpB,EAAAwB,GAAAxB,EAAA,mCAAA7O,EAAAmO,GAAwE,OAAAa,EAAA,aAAuBnE,IAAAsD,EAAAgB,OAAiBM,MAAAzP,EAAAoJ,MAAApJ,OAAmD,OAAA6O,EAAAQ,GAAA,KAAAL,EAAA,gBAAwCG,OAAOM,MAAA,WAAiBT,EAAA,aAAkBG,OAAOe,YAAA,OAAoBX,OAAQnG,MAAAyF,EAAArR,WAAA,kBAAAsS,SAAA,SAAAC,GAAkElB,EAAAmB,KAAAnB,EAAArR,WAAA,oBAAAuS,IAAmDE,WAAA,kCAA4CjB,EAAA,aAAkBG,OAAOM,MAAA,MAAArG,MAAA,KAAyByF,EAAAQ,GAAA,KAAAL,EAAA,aAA8BG,OAAOM,MAAA,MAAArG,MAAA,KAAyByF,EAAAQ,GAAA,KAAAL,EAAA,aAA8BG,OAAOM,MAAA,MAAArG,MAAA,KAAyByF,EAAAQ,GAAA,KAAAL,EAAA,aAA8BG,OAAOM,MAAA,MAAArG,MAAA,KAAyByF,EAAAQ,GAAA,KAAAL,EAAA,aAA8BG,OAAOM,MAAA,MAAArG,MAAA,MAAyB,OAAAyF,EAAAQ,GAAA,KAAAL,EAAA,gBAAAA,EAAA,aAAyDG,OAAO5P,KAAA,UAAAH,KAAA,kBAAyCuR,IAAKC,MAAA/B,EAAA9H,eAAyB8H,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,aAA6CG,OAAO5P,KAAA,UAAAH,KAAA,mBAA0CuR,IAAKC,MAAA/B,EAAA7H,SAAmB6H,EAAAQ,GAAA,oBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAmDE,YAAA,YAAsBF,EAAA,UAAeE,YAAA,cAAuB,SAAAnP,SAAA8O,EAAAvR,SAAAmJ,QAAAuI,EAAA,aAA+DG,OAAO5P,KAAAsP,EAAA1P,gBAAAI,KAAAH,KAAAyP,EAAA1P,gBAAAC,MAAgEuR,IAAKC,MAAA/B,EAAA/L,mBAA6B+L,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA1P,gBAAAG,SAAAuP,EAAAgC,KAAAhC,EAAAQ,GAAA,KAAAL,EAAA,cAAmFG,OAAO2B,QAAA,mBAAAC,UAAA,cAAoD,SAAAhR,SAAA8O,EAAAvR,SAAAmJ,QAAAuI,EAAA,aAA+DG,OAAO5P,KAAA,UAAAH,KAAA,gBAAuCuR,IAAKC,MAAA/B,EAAA3L,4BAAsC2L,EAAAQ,GAAA,YAAAR,EAAAgC,MAAA,GAAAhC,EAAAQ,GAAA,eAAAtP,SAAA8O,EAAAvR,SAAAmJ,QAAAuI,EAAA,aAA2GE,YAAA,aAAA8B,aAAsCC,cAAA,QAAqB9B,OAAQ5P,KAAA,UAAAH,KAAA,oBAA2CuR,IAAKC,MAAA/B,EAAAjB,eAAyBiB,EAAAQ,GAAA,QAAAR,EAAAgC,KAAAhC,EAAAQ,GAAA,eAAAtP,SAAA8O,EAAAvR,SAAAmJ,QAAAuI,EAAA,aAAmGE,YAAA,aAAAC,OAAgC5P,KAAA,UAAAH,KAAA,iBAAwCuR,IAAKC,MAAA/B,EAAAR,kBAA4BQ,EAAAQ,GAAA,UAAAR,EAAAgC,MAAA,GAAAhC,EAAAQ,GAAA,KAAAL,EAAA,YAA2DkC,aAAahU,KAAA,UAAAiU,QAAA,YAAA/H,MAAAyF,EAAA,QAAAoB,WAAA,YAA4EmB,IAAA,QAAAJ,aAA2BK,MAAA,QAAelC,OAAQ9R,KAAAwR,EAAAzQ,UAAAkT,OAAA,GAAAC,OAAA,GAAAC,wBAAA,GAAAC,OAAA5C,EAAAjQ,aAAiG+R,IAAKe,mBAAA7C,EAAAT,yBAA8CY,EAAA,mBAAwBG,OAAO5P,KAAA,YAAA8R,MAAA,KAAAM,WAAA9C,EAAAX,iBAAgEW,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,UAAAnC,MAAA,KAAAoC,MAAA,SAAAR,MAAA,QAAAS,MAAA,MAA2EjD,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,aAAAnC,MAAA,KAAAoC,MAAA,SAAAR,MAAA,OAAAS,MAAA,MAA6EjD,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,iBAAAnC,MAAA,KAAAoC,MAAA,SAAAE,YAAA,UAA0ElD,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,cAAAnC,MAAA,KAAAoC,MAAA,SAAAR,MAAA,UAAmExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,WAAAnC,MAAA,OAAAoC,MAAA,SAAAG,UAAAnD,EAAAzI,WAAAiL,MAAA,UAA6FxC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,SAAAnC,MAAA,MAAAoC,MAAA,SAAAR,MAAA,UAA+DxC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,WAAAnC,MAAA,SAAAoC,MAAA,SAAAR,MAAA,UAAoExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,aAAAnC,MAAA,SAAAoC,MAAA,SAAAR,MAAA,UAAsExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,UAA0ExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,kBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,UAAyExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,kBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAAwEY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAzB,iBAAA,kBAAA+K,EAAA,OAAAA,EAAA,YAAwLG,OAAOkD,KAAA,QAAc9C,OAAQnG,MAAAgJ,EAAA1M,IAAA,gBAAAoK,SAAA,SAAAC,GAA2DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,kBAAAqK,IAA4CE,WAAA,gCAAyC,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAlC,kBAAA,kBAAAwL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAjC,kBAAA,kBAAAuL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAhC,kBAAA,kBAAAsL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA/B,kBAAA,kBAAAqL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA9B,kBAAA,kBAAAoL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA7B,kBAAA,kBAAAmL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA5B,kBAAA,kBAAAkL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA3B,kBAAA,kBAAAiL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,UAAAoC,MAAA,SAAAR,MAAA,QAA4EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA1B,kBAAA,kBAAAgL,EAAA,OAAAA,EAAA,YAAyLG,OAAOkD,KAAA,QAAcC,UAAWC,MAAA,SAAAC,GAAyB,gBAAAA,GAA2B,OAAA3D,EAAArJ,uBAAAgN,EAAAJ,EAAA1M,KAA3B,CAAmF8M,KAAWjD,OAAQnG,MAAAgJ,EAAA1M,IAAA,iBAAAoK,SAAA,SAAAC,GAA4DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,mBAAAqK,IAA6CE,WAAA,iCAA0C,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,2BAAAnC,MAAA,WAAAoC,MAAA,SAAAR,MAAA,UAAsFxC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,kBAAAnC,MAAA,WAAAoC,MAAA,SAAAR,MAAA,UAA6ExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,uBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,UAA8ExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,kBAAAnC,MAAA,KAAAoC,MAAA,SAAAR,MAAA,UAAuExC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,uBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAA6EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAxB,sBAAA,kBAAA8K,EAAA,OAAAA,EAAA,aAA8LG,OAAOkD,KAAA,OAAAnC,YAAA,IAA+BX,OAAQnG,MAAAgJ,EAAA1M,IAAA,qBAAAoK,SAAA,SAAAC,GAAgElB,EAAAmB,KAAAoC,EAAA1M,IAAA,uBAAAqK,IAAiDE,WAAA,mCAA8CpB,EAAAwB,GAAAxB,EAAA,kCAAAvL,GAAsD,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAoN,uBAAAvB,OAAuCM,MAAAnM,EAAAY,qBAAAkF,MAAA9F,EAAAY,0BAAuE,cAAc2K,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,aAAAnC,MAAA,KAAAoC,MAAA,SAAAR,MAAA,QAAiEY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAgD,WAAA0J,EAAA1M,IAAAgD,WAAA+J,WAAA,sBAAAzD,EAAA,OAAAA,EAAA,aAA2NG,OAAOkD,KAAA,OAAAlC,SAAA,GAAAC,gBAAA,GAAAF,YAAA,IAAgEX,OAAQnG,MAAAgJ,EAAA1M,IAAA,WAAAoK,SAAA,SAAAC,GAAsDlB,EAAAmB,KAAAoC,EAAA1M,IAAA,aAAAqK,IAAuCE,WAAA,yBAAoCpB,EAAAwB,GAAAxB,EAAA,wBAAAvL,GAA4C,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAAoP,kBAAAvD,OAAkCM,MAAAnM,EAAAoF,WAAAU,MAAA9F,EAAAoF,gBAAmD,cAAcmG,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,kBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAAwEY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA1F,iBAAA,kBAAAgP,EAAA,OAAAA,EAAA,aAAyLG,OAAOkD,KAAA,OAAAnC,YAAA,IAA+BX,OAAQnG,MAAAgJ,EAAA1M,IAAA,gBAAAoK,SAAA,SAAAC,GAA2DlB,EAAAmB,KAAAoC,EAAA1M,IAAA,kBAAAqK,IAA4CE,WAAA,8BAAyCpB,EAAAwB,GAAAxB,EAAA,mCAAA7O,EAAAmO,GAAwE,OAAAa,EAAA,aAAuBnE,IAAAsD,EAAAgB,OAAiBM,MAAAzP,EAAAoJ,MAAApJ,OAAmD,cAAc6O,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,mBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAAyEY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,OAAApD,EAAA,QAAmB2D,MAAA,QAAAP,EAAA1M,IAAAnC,iBAAA,mBAAgEsL,EAAAQ,GAAAR,EAAAS,GAAA8C,EAAA1M,IAAAnC,4BAAoDsL,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOM,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAA+CY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,OAAApD,EAAA,cAAyBG,OAAO4B,UAAA,QAAA6B,QAAA,WAAuC5D,EAAA,SAAcE,YAAA,gBAAAC,OAAmC0D,YAAA,IAAAC,YAAA,OAAqC9D,EAAA,SAAAA,EAAA,MAAAH,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAAH,EAAAQ,GAAA,aAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAA8C,EAAA1M,IAAAwC,YAAAC,mBAAA0G,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAA8C,EAAA1M,IAAAwC,YAAAE,0BAAAyG,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,yBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAwC,YAAAG,4BAAA,0BAAAwG,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAA8C,EAAA1M,IAAAwC,YAAAI,4BAAAuG,EAAAQ,GAAA,KAAAR,EAAAwB,GAAA+B,EAAA1M,IAAAwC,YAC/niB,0BAAA5E,EAAA6K,GAA4D,OAAAa,EAAA,MAAgBnE,IAAAsD,IAAUa,EAAA,MAAAH,EAAAQ,GAAA,aAAAR,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAAhM,EAAA+J,uBAAAwB,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAAhM,EAAAiK,8BAAAsB,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAAhM,EAAAmK,+BAAA9C,WAAAkE,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAAR,EAAAS,GAAAhM,EAAAoK,0BAAA/C,gBAAqU,KAAAkE,EAAAQ,GAAA,KAAAL,EAAA,aAAoCG,OAAO4D,KAAA,YAAAV,KAAA,OAAA9S,KAAA,QAA+CwT,KAAA,cAAkBlE,EAAAQ,GAAA,mBAA0BR,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,qBAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAA2EY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,OAAApD,EAAA,WAAAoD,EAAA1M,IAAAsN,mBAAAhE,EAAA,QAAAH,EAAAQ,GAAA,OAAAL,EAAA,QAA2FE,YAAA,gBAA0BL,EAAAQ,GAAA,gBAAuBR,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,WAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAAiEY,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAsN,mBAAAhE,EAAA,WAAAoD,EAAA1M,IAAAsD,SAAAgG,EAAA,QAAAH,EAAAQ,GAAA,SAAAR,EAAAgC,KAAAhC,EAAAQ,GAAA,SAAA+C,EAAA1M,IAAAsD,SAAAgG,EAAA,QAAAH,EAAAQ,GAAA,SAAAR,EAAAgC,KAAAhC,EAAAQ,GAAA,SAAA+C,EAAA1M,IAAAsD,SAAAgG,EAAA,QAAmPE,YAAA,gBAA0BL,EAAAQ,GAAA,OAAAR,EAAAgC,OAAAhC,EAAAgC,YAAyChC,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,gBAAAnC,MAAA,QAAAoC,MAAA,SAAAE,YAAA,OAAAkB,yBAAA,GAAwGhB,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAmFE,YAAA,gBAA0BL,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAAwN,eAAA,kBAAAlE,EAAA,OAAAA,EAAA,YAAqGG,OAAOkD,KAAA,QAAc9C,OAAQnG,MAAAgJ,EAAA1M,IAAA,cAAAoK,SAAA,SAAAC,GAAyDlB,EAAAmB,KAAAoC,EAAA1M,IAAA,gBAAAqK,IAA0CE,WAAA,8BAAuC,UAAWpB,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,UAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,OAAA4B,yBAAA,GAA6FhB,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,oBAAA,GAAA4F,EAAAvR,SAAAmJ,OAAAuI,EAAA,OAAAH,EAAAQ,GAAA,iBAAAR,EAAAS,GAAA8C,EAAA1M,IAAA8C,QAAA4J,EAAA1M,IAAA8C,QAAAiK,WAAA,sBAAAzD,EAAA,OAAAA,EAAA,aAAqNG,OAAOkD,KAAA,OAAAnC,YAAA,GAAAC,SAAA,GAAAC,gBAAA,IAAgEb,OAAQnG,MAAAgJ,EAAA1M,IAAA,QAAAoK,SAAA,SAAAC,GAAmDlB,EAAAmB,KAAAoC,EAAA1M,IAAA,UAAAqK,IAAoCE,WAAA,sBAAiCpB,EAAAwB,GAAAxB,EAAA,qBAAAvL,GAAyC,OAAA0L,EAAA,aAAuBnE,IAAAvH,EAAA6P,UAAAhE,OAA0BM,MAAAnM,EAAA8P,OAAAhK,MAAA9F,EAAA8P,OAAAC,SAAA,IAAA/P,EAAAgQ,QAAA,IAAAlB,EAAA1M,IAAA4N,YAAkG,cAAczE,EAAAQ,GAAA,KAAAL,EAAA,mBAAoCG,OAAOyC,KAAA,cAAAnC,MAAA,OAAAoC,MAAA,SAAAR,MAAA,QAAAW,UAAAnD,EAAAtI,eAAA0M,yBAAA,KAAkIpE,EAAAQ,GAAA,QAAAR,EAAAvR,SAAAmJ,QAAA,GAAAoI,EAAAvR,SAAAmJ,OAAAuI,EAAA,mBAA2FG,OAAOM,MAAA,KAAAoC,MAAA,UAA8BI,YAAApD,EAAAqD,KAAsBrH,IAAA,UAAAsH,GAAA,SAAAC,GAAiC,WAAAA,EAAA1M,IAAAuD,mBAAA+F,EAAA,aAA6DG,OAAOkD,KAAA,OAAA9S,KAAA,UAAA8T,UAAAxE,EAAAnQ,YAA0DiS,IAAKC,MAAA,SAAA4B,GAAyB,OAAA3D,EAAA/D,KAAAsH,EAAA1M,SAA6BmJ,EAAAQ,GAAA,QAAAR,EAAAgC,SAA4B,sBAAyBhC,EAAAgC,MAAA,GAAAhC,EAAAQ,GAAA,KAAAL,EAAA,iBAA+CG,OAAOoE,WAAA,GAAAC,OAAA,wBAAAlV,MAAAuQ,EAAAxQ,WAAAC,MAAAmV,eAAA5E,EAAAxQ,WAAAE,QAAAmV,YAAA7E,EAAAxQ,WAAAG,UAAwJmS,IAAKgD,qBAAA,SAAAnB,GAAsC,OAAA3D,EAAAmB,KAAAnB,EAAAxQ,WAAA,UAAAmU,IAAmDoB,sBAAA,SAAApB,GAAwC,OAAA3D,EAAAmB,KAAAnB,EAAAxQ,WAAA,UAAAmU,IAAmDqB,iBAAAhF,EAAA5D,wBAA2C,QAEzpH6I,oBCAjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEhX,EACA0R,GATF,EAVA,SAAAuF,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,8BC1BhCK,EAAAC,SAAkBC,QAAYN,EAAQ,QAAiCO,YAAA,yBCCvE,IAAAC,EAAeR,EAAQ,QACvBS,EAAYT,EAAQ,QAEpBA,EAAQ,OAARA,CAAuB,kBACvB,gBAAAU,GACA,OAAAD,EAAAD,EAAAE,6BCNAN,EAAAC,SAAkBC,QAAYN,EAAQ,QAAgCO,YAAA,yBCAtEP,EAAQ,QACRA,EAAQ,QACRI,EAAAC,QAAiBL,EAAQ,8BCFzB,IAAAW,EAAeX,EAAQ,QACvBY,EAAUZ,EAAQ,QAClBI,EAAAC,QAAiBL,EAAQ,QAASa,YAAA,SAAAH,GAClC,IAAAI,EAAAF,EAAAF,GACA,sBAAAI,EAAA,MAAAC,UAAAL,EAAA,qBACA,OAAAC,EAAAG,EAAAE,KAAAN,2BCLAV,EAAQ,QACRI,EAAAC,QAAiBL,EAAQ,QAAqBxU,OAAAyV,2BCA9C,IAAAC,EAAclB,EAAQ,QACtBmB,EAAWnB,EAAQ,QACnBoB,EAAYpB,EAAQ,QACpBI,EAAAC,QAAA,SAAAgB,EAAAC,GACA,IAAAnD,GAAAgD,EAAA3V,YAA6B6V,IAAA7V,OAAA6V,GAC7BE,KACAA,EAAAF,GAAAC,EAAAnD,GACA+C,IAAAM,EAAAN,EAAAO,EAAAL,EAAA,WAAqDjD,EAAA,KAAS,SAAAoD","file":"static/js/measure.2499460def3b57220bcb.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"crumb\">\r\n      <el-breadcrumb-item>检测记录</el-breadcrumb-item>\r\n      <el-breadcrumb-item>{{ castId }}号机组</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <Collapse>\r\n      <el-form class=\"search_bar\" :model=\"searchForm\" :inline=\"true\">\r\n        <el-form-item label=\"生产日期：\">\r\n          <el-date-picker\r\n            v-model=\"searchForm.date\"\r\n            type=\"daterange\"\r\n            :default-time=\"['00:00:00', '23:59:59']\"\r\n            :clearable=\"false\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n          ></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"喷带手：\">\r\n          <el-input\r\n            v-model=\"searchForm.caster\"\r\n            placeholder=\"请输入喷带手姓名\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"炉号：\">\r\n          <el-input\r\n            v-model=\"searchForm.furnace\"\r\n            placeholder=\"请输入炉号\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"材质：\">\r\n          <el-select\r\n            v-model=\"searchForm.ribbonTypeNames\"\r\n            placeholder=\"请选择\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"item in ribbonTypeList\"\r\n              :key=\"item.ribbonTypeId\"\r\n              :value=\"item.ribbonTypeName\"\r\n              :label=\"item.ribbonTypeName\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"规格：\">\r\n          <el-select\r\n            v-model=\"searchForm.ribbonWidths\"\r\n            placeholder=\"请选择\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"item in ribbonWidthList\"\r\n              :key=\"item.ribbonWidthId\"\r\n              :label=\"item.ribbonWidth\"\r\n              :value=\"item.ribbonWidth\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"厚度级别：\">\r\n          <el-select\r\n            v-model=\"searchForm.ribbonThicknessLevels\"\r\n            placeholder=\"请选择\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"item in ribbonThicknessLevelList\"\r\n              :key=\"item.ribbonThicknessLevelId\"\r\n              :label=\"item.ribbonThicknessLevel\"\r\n              :value=\"item.ribbonThicknessLevel\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"叠片级别：\">\r\n          <el-select\r\n            v-model=\"searchForm.laminationLevels\"\r\n            placeholder=\"请选择\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"item in laminationLevelList\"\r\n              :key=\"item.laminationLevelId\"\r\n              :label=\"item.laminationLevel\"\r\n              :value=\"item.laminationLevel\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"韧性级别：\">\r\n          <el-select\r\n            v-model=\"searchForm.ribbonToughnessLevels\"\r\n            placeholder=\"请选择\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"item in ribbonToughnessLevelList\"\r\n              :key=\"item.ribbonToughnessLevelId\"\r\n              :label=\"item.ribbonToughnessLevel\"\r\n              :value=\"item.ribbonToughnessLevel\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"外观级别：\">\r\n          <el-select\r\n            v-model=\"searchForm.appearenceLevels\"\r\n            placeholder=\"请选择\"\r\n            multiple\r\n            collapse-tags\r\n          >\r\n            <el-option\r\n              v-for=\"(appearenceLevel, index) in uniqueAppearenceLevelList\"\r\n              :key=\"index\"\r\n              :label=\"appearenceLevel\"\r\n              :value=\"appearenceLevel\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"厚度偏差：\">\r\n          <el-select\r\n            v-model=\"searchForm.thicknessDivation\"\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option label=\"<=1\" :value=\"1\"></el-option>\r\n            <el-option label=\"<=2\" :value=\"2\"></el-option>\r\n            <el-option label=\"<=3\" :value=\"3\"></el-option>\r\n            <el-option label=\"<=4\" :value=\"4\"></el-option>\r\n            <el-option label=\"<=5\" :value=\"5\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"clickSearch\"\r\n            >搜索</el-button\r\n          >\r\n          <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"reset\"\r\n            >重置</el-button\r\n          >\r\n        </el-form-item>\r\n      </el-form>\r\n    </Collapse>\r\n    <div class=\"main_bd\">\r\n      <el-col class=\"table_hd\">\r\n        <el-button\r\n          :type=\"autoQueryConfig.type\"\r\n          :icon=\"autoQueryConfig.icon\"\r\n          @click=\"handleAutoQuery\"\r\n          v-if=\"[1, 2, 3, 5].includes(userinfo.roleId)\"\r\n          >{{ autoQueryConfig.text }}</el-button\r\n        >\r\n        <el-tooltip\r\n          content=\"点击后会计算下表中带材的综合级别\"\r\n          placement=\"top-end\"\r\n          ><el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-info\"\r\n            @click=\"batchCalcRibbonTotalData\"\r\n            v-if=\"[1, 2, 3, 5].includes(userinfo.roleId)\"\r\n            >计算综合级别</el-button\r\n          ></el-tooltip\r\n        >\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-download\"\r\n          @click=\"exportExcel\"\r\n          v-if=\"[1, 2, 3, 5].includes(userinfo.roleId)\"\r\n          class=\"pull_right\"\r\n          style=\"margin-left: 10px\"\r\n          >导出</el-button\r\n        >\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-check\"\r\n          @click=\"measureConfirm\"\r\n          class=\"pull_right\"\r\n          v-if=\"[1, 2, 3, 5].includes(userinfo.roleId)\"\r\n          >申请入库</el-button\r\n        >\r\n      </el-col>\r\n      <el-table\r\n        :data=\"tableData\"\r\n        ref=\"table\"\r\n        stripe\r\n        border\r\n        highlight-current-row\r\n        style=\"width: 100%\"\r\n        :height=\"tableHeight\"\r\n        v-loading=\"loading\"\r\n        @selection-change=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column\r\n          type=\"selection\"\r\n          width=\"20\"\r\n          :selectable=\"setSelectable\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"furnace\"\r\n          label=\"炉号\"\r\n          align=\"center\"\r\n          width=\"130px\"\r\n          fixed\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"coilNumber\"\r\n          label=\"盘号\"\r\n          align=\"center\"\r\n          width=\"35px\"\r\n          fixed\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonTypeName\"\r\n          label=\"材质\"\r\n          align=\"center\"\r\n          min-width=\"50px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonWidth\"\r\n          label=\"规格\"\r\n          align=\"center\"\r\n          width=\"40px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"castDate\"\r\n          label=\"生产日期\"\r\n          align=\"center\"\r\n          :formatter=\"dateFormat\"\r\n          width=\"80px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"caster\"\r\n          label=\"喷带手\"\r\n          align=\"center\"\r\n          width=\"50px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"diameter\"\r\n          label=\"外径(mm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"coilWeight\"\r\n          label=\"重量(kg)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"laminationFactor\"\r\n          label=\"叠片系数\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"laminationLevel\"\r\n          label=\"叠片等级\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"realRibbonWidth\"\r\n          label=\"实际带宽\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.realRibbonWidth }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.realRibbonWidth\"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness1\"\r\n          label=\"带厚1(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness1 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness1\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness2\"\r\n          label=\"带厚2(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness2 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness2\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness3\"\r\n          label=\"带厚3(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness3 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness3\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness4\"\r\n          label=\"带厚4(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness4 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness4\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness5\"\r\n          label=\"带厚5(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness5 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness5\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness6\"\r\n          label=\"带厚6(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness6 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness6\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness7\"\r\n          label=\"带厚7(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness7 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness7\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness8\"\r\n          label=\"带厚8(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness8 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness8\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness9\"\r\n          label=\"带厚9(μm)\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonThickness9 }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonThickness9\"\r\n                @keyup.native=\"\r\n                  ($event) => thicknessChangeHandler($event, scope.row)\r\n                \"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThicknessDeviation\"\r\n          label=\"厚度偏差(μm)\"\r\n          align=\"center\"\r\n          width=\"90px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThickness\"\r\n          label=\"平均厚度(μm)\"\r\n          align=\"center\"\r\n          width=\"90px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonThicknessLevel\"\r\n          label=\"厚度级别\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonToughness\"\r\n          label=\"韧性\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <!-- <template slot-scope=\"scope\">\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonToughness }}\r\n            </div>\r\n            <div v-else>\r\n              <el-select\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonToughness\"\r\n                placeholder\r\n              >\r\n                <el-option\r\n                  v-for=\"item in ribbonToughnessLevelList\"\r\n                  :key=\"item.ribbonToughnessLevelId\"\r\n                  :label=\"item.ribbonToughness\"\r\n                  :value=\"item.ribbonToughness\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template> -->\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonToughnessLevel\"\r\n          label=\"韧性等级\"\r\n          align=\"center\"\r\n          width=\"60px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.ribbonToughnessLevel }}\r\n            </div>\r\n            <div v-else>\r\n              <el-select\r\n                size=\"mini\"\r\n                v-model=\"scope.row.ribbonToughnessLevel\"\r\n                placeholder=\"\"\r\n              >\r\n                <!-- <el-option label=\"A\" value=\"A\"></el-option>\r\n                <el-option label=\"B\" value=\"B\"></el-option>\r\n                <el-option label=\"C\" value=\"C\"></el-option>\r\n                <el-option label=\"D\" value=\"D\"></el-option>\r\n                <el-option label=\"E\" value=\"E\"></el-option> -->\r\n                <el-option\r\n                  v-for=\"item in ribbonToughnessLevelList\"\r\n                  :key=\"item.ribbonToughnessLevelId\"\r\n                  :label=\"item.ribbonToughnessLevel\"\r\n                  :value=\"item.ribbonToughnessLevel\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"appearence\"\r\n          label=\"外观\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <div v-if=\"scope.row.isEditing === false\"> -->\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.appearence ? scope.row.appearence.toString() : \"\" }}\r\n            </div>\r\n            <div v-else>\r\n              <el-select\r\n                size=\"mini\"\r\n                v-model=\"scope.row.appearence\"\r\n                multiple\r\n                collapse-tags\r\n                placeholder\r\n              >\r\n                <!-- <el-option label=\"无明显缺陷\" value=\"无明显缺陷\"></el-option>\r\n                <el-option label=\"轻棱\" value=\"轻棱\"></el-option>\r\n                <el-option label=\"棱\" value=\"棱\"></el-option>\r\n                <el-option label=\"轻微麻点\" value=\"轻微麻点\"></el-option>\r\n                <el-option label=\"麻点\" value=\"麻点\"></el-option>\r\n                <el-option label=\"轻微划痕\" value=\"轻微划痕\"></el-option>\r\n                <el-option label=\"划痕\" value=\"划痕\"></el-option>\r\n                <el-option label=\"轻微挖心\" value=\"轻微挖心\"></el-option>\r\n                <el-option label=\"挖心\" value=\"挖心\"></el-option>\r\n                <el-option label=\"少量劈裂\" value=\"少量劈裂\"></el-option>\r\n                <el-option label=\"大量劈裂\" value=\"大量劈裂\"></el-option>\r\n                <el-option label=\"端面损坏\" value=\"端面损坏\"></el-option>-->\r\n                <el-option\r\n                  v-for=\"item in appearenceList\"\r\n                  :label=\"item.appearence\"\r\n                  :value=\"item.appearence\"\r\n                  :key=\"item.appearenceLevelId\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"appearenceLevel\"\r\n          label=\"外观等级\"\r\n          align=\"center\"\r\n          width=\"60px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.appearenceLevel }}\r\n            </div>\r\n            <div v-else>\r\n              <el-select\r\n                size=\"mini\"\r\n                v-model=\"scope.row.appearenceLevel\"\r\n                placeholder=\"\"\r\n              >\r\n                <!-- <el-option label=\"A\" value=\"A\"></el-option>\r\n                <el-option label=\"B\" value=\"B\"></el-option>\r\n                <el-option label=\"C\" value=\"C\"></el-option>\r\n                <el-option label=\"不合格\" value=\"不合格\"></el-option> -->\r\n                <el-option\r\n                  v-for=\"(appearenceLevel, index) in uniqueAppearenceLevelList\"\r\n                  :key=\"index\"\r\n                  :label=\"appearenceLevel\"\r\n                  :value=\"appearenceLevel\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"ribbonTotalLevel\"\r\n          label=\"综合级别\"\r\n          align=\"center\"\r\n          width=\"70px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <span\r\n              :class=\"\r\n                scope.row.ribbonTotalLevel === '不合格' ? 'text_danger' : ''\r\n              \"\r\n              >{{ scope.row.ribbonTotalLevel }}</span\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"入库规则\" align=\"center\" width=\"60px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-popover placement=\"right\" trigger=\"hover\">\r\n              <table class=\"popover_table\" cellpadding=\"0\" cellspacing=\"0\">\r\n                <thead>\r\n                  <th>类别</th>\r\n                  <th>带厚</th>\r\n                  <th>叠片</th>\r\n                  <th>韧性</th>\r\n                  <th>外观</th>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>计划内入库要求</td>\r\n                    <td>{{ scope.row.storageRule.orderThickness }}</td>\r\n                    <td>{{ scope.row.storageRule.orderLaminationFactor }}</td>\r\n                    <td>\r\n                      {{ scope.row.storageRule.orderRibbonToughnessLevels }}\r\n                    </td>\r\n                    <td>{{ scope.row.storageRule.orderAppearenceLevels }}</td>\r\n                  </tr>\r\n                  <!-- <tr v-if=\"userinfo.roleId === 1 || userinfo.roleId === 2 || userinfo.roleId === 3 || userinfo.roleId === 5 || userinfo.roleId === 6\">\r\n                    <td>计划外入库要求</td>\r\n                    <td>{{scope.row.storageRule.qualifiedThickness}}</td>\r\n                    <td>{{scope.row.storageRule.qualifiedLaminationFactor}}</td>\r\n                    <td>{{scope.row.storageRule.qualifiedRibbonToughnessLevels}}</td>\r\n                    <td>{{scope.row.storageRule.qualifiedAppearenceLevels}}</td>\r\n                  </tr>-->\r\n                  <tr\r\n                    v-for=\"(item, index) in scope.row.storageRule\r\n                      .qualifiedDemands\"\r\n                    :key=\"index\"\r\n                  >\r\n                    <td>计划外入库要求</td>\r\n                    <td>{{ item.qualifiedThickness }}</td>\r\n                    <td>{{ item.qualifiedLaminationFactor }}</td>\r\n                    <td>{{ item.qualifiedRibbonToughnessLevels.join() }}</td>\r\n                    <td>{{ item.qualifiedAppearenceLevels.join() }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <el-button slot=\"reference\" size=\"mini\" type=\"text\"\r\n                >详情</el-button\r\n              >\r\n            </el-popover>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"isStorageConfirmed\"\r\n          label=\"是否入库\"\r\n          align=\"center\"\r\n          width=\"60px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div>\r\n              <span v-if=\"scope.row.isStorageConfirmed === 1\">是</span>\r\n              <span v-else class=\"text_danger\">否</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"isStored\"\r\n          label=\"入库类别\"\r\n          align=\"center\"\r\n          width=\"60px\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"scope.row.isStorageConfirmed === 1\">\r\n              <span v-if=\"scope.row.isStored === 1\">计划内</span>\r\n              <span v-if=\"scope.row.isStored === 2\">计划外</span>\r\n              <span v-if=\"scope.row.isStored === 3\" class=\"text_danger\"\r\n                >否</span\r\n              >\r\n            </div>\r\n            <!-- <div v-else>\r\n              <el-select v-model=\"scope.row.isStored\" placeholder=\"\" size=\"mini\">\r\n                <el-option label=\"计划内入库\" :value=\"1\"></el-option>\r\n                <el-option label=\"计划外入库\" :value=\"2\"></el-option>\r\n                <el-option label=\"否\" :value=\"3\"></el-option>\r\n              </el-select>\r\n            </div>-->\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"unStoreReason\"\r\n          label=\"不入库原因\"\r\n          align=\"center\"\r\n          min-width=\"70px\"\r\n          :show-overflow-tooltip=\"true\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n              class=\"text_danger\"\r\n            >\r\n              {{ scope.row.unStoreReason }}\r\n            </div>\r\n            <div v-else>\r\n              <el-input\r\n                size=\"mini\"\r\n                v-model=\"scope.row.unStoreReason\"\r\n              ></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"clients\"\r\n          label=\"判定去向\"\r\n          align=\"center\"\r\n          width=\"80px\"\r\n          :show-overflow-tooltip=\"true\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div\r\n              v-if=\"scope.row.isMeasureConfirmed === 1 || userinfo.roleId != 5\"\r\n            >\r\n              {{ scope.row.clients ? scope.row.clients.toString() : \"\" }}\r\n            </div>\r\n            <div v-else>\r\n              <el-select\r\n                size=\"mini\"\r\n                v-model=\"scope.row.clients\"\r\n                placeholder\r\n                multiple\r\n                collapse-tags\r\n              >\r\n                <el-option\r\n                  v-for=\"item in clientsList\"\r\n                  :label=\"item.client\"\r\n                  :value=\"item.client\"\r\n                  :key=\"item.clientsId\"\r\n                  :disabled=\"item.isFlat === 0 && scope.row.isFlat === 1\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"measureDate\"\r\n          label=\"检测时间\"\r\n          align=\"center\"\r\n          width=\"100px\"\r\n          :formatter=\"dateTimeFormat\"\r\n          :show-overflow-tooltip=\"true\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          v-if=\"userinfo.roleId == 5 || userinfo.roleId == 1\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <!-- <el-button size=\"mini\" type=\"primary\" @click=\"edit(scope.row)\" v-if=\"scope.row.isEditing === false\" :disabled=\"!isEditable\">修改</el-button> -->\r\n            <!-- <el-button size=\"mini\" type=\"primary\" @click=\"edit(scope.row)\" v-if=\"scope.row.isMeasureConfirmed === 1\" :disabled=\"!isEditable\">修改</el-button> -->\r\n            <!-- <el-button size=\"mini\" type=\"success\" @click=\"save(scope.row)\" v-else :disabled=\"!isEditable\">保存</el-button> -->\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"success\"\r\n              @click=\"save(scope.row)\"\r\n              v-if=\"scope.row.isMeasureConfirmed !== 1\"\r\n              :disabled=\"!isEditable\"\r\n              >保存</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        layout=\"total,prev,pager,next\"\r\n        :total=\"pageConfig.total\"\r\n        :current-page.sync=\"pageConfig.current\"\r\n        :page-size=\"pageConfig.pageSize\"\r\n        @current-change=\"handleCurrentChange\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport { Message } from \"element-ui\";\r\nimport urlmap from \"@/utils/urlmap\";\r\nimport { dateFormat, dateTimeFormat, debounce } from \"@/utils/common\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport Collapse from \"@/components/collapse.vue\";\r\n\r\nexport default {\r\n  name: \"melt\",\r\n  components: {\r\n    Collapse,\r\n  },\r\n  data() {\r\n    return {\r\n      userinfo: {},\r\n      castId: 6,\r\n      searchForm: {\r\n        caster: \"\",\r\n        furnace: \"\",\r\n        date: [],\r\n        ribbonTypeNames: [],\r\n        ribbonWidths: [],\r\n        ribbonThicknessLevels: [],\r\n        laminationLevels: [],\r\n        ribbonToughnessLevels: [],\r\n        appearenceLevels: [],\r\n        thicknessDivation: \"\",\r\n      },\r\n      loading: false,\r\n      tableData: [],\r\n      pageConfig: {\r\n        total: 1,\r\n        current: 1,\r\n        pageSize: 10,\r\n      },\r\n      isExportable: false,\r\n      isEditable: false,\r\n      isDeleteable: false,\r\n      tableHeight: 550,\r\n      multipleSelection: [],\r\n      isBatchInStored: false,\r\n      isAutoQuerying: false,\r\n      pollTimer: null,\r\n      // uniqueAppearenceLevelList: []\r\n    };\r\n  },\r\n  computed: {\r\n    autoQueryConfig() {\r\n      return {\r\n        icon: this.isAutoQuerying\r\n          ? \"el-icon-video-pause\"\r\n          : \"el-icon-video-play\",\r\n        text: this.isAutoQuerying ? \"停止自动更新\" : \"启动自动更新\",\r\n        type: this.isAutoQuerying ? \"danger\" : \"primary\",\r\n      };\r\n    },\r\n    ...mapState([\r\n      \"ribbonToughnessLevelList\",\r\n      \"ribbonTypeList\",\r\n      \"ribbonWidthList\",\r\n      \"ribbonThicknessLevelList\",\r\n      \"laminationLevelList\",\r\n      \"clientsList\",\r\n      \"appearenceList\",\r\n      \"linerWeightList\",\r\n    ]),\r\n    uniqueAppearenceLevelList() {\r\n      return this.appearenceList.reduce((acc, cur) => {\r\n        if (!acc.includes(cur.appearenceLevel)) {\r\n          acc.push(cur.appearenceLevel);\r\n        }\r\n        return acc;\r\n      }, []);\r\n    },\r\n  },\r\n  // 动态路由匹配\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.castId = to.params.castId;\r\n    this.getTableData();\r\n    this.isExportable = this.setExportable();\r\n    this.isEditable = this.setEditable();\r\n    this.isDeleteable = this.setDeleteable();\r\n    this.isBatchInStored = this.setBatchInStored();\r\n    next();\r\n  },\r\n  async created() {\r\n    this.castId = this.$route.params.castId;\r\n    this.userinfo = JSON.parse(localStorage.getItem(\"userinfo\"));\r\n    this.isExportable = this.setExportable();\r\n    this.isEditable = this.setEditable();\r\n    this.isDeleteable = this.setDeleteable();\r\n    this.isBatchInStored = this.setBatchInStored();\r\n    await this.getLinerWeightList();\r\n    await this.getRibbonToughnessLevelList();\r\n    await this.getRibbonTypeList();\r\n    await this.getRibbonWidthList();\r\n    await this.getRibbonThicknessLevelList();\r\n    await this.getLaminationLevelList();\r\n    await this.getClientsList();\r\n    await this.getAppearenceLevelList();\r\n    this.getTableData();\r\n  },\r\n  mounted() {\r\n    const self = this;\r\n    self.$nextTick(() => {\r\n      // self.tableHeight = window.innerHeight - self.$refs.table.$el.getBoundingClientRect().top;\r\n      self.tableHeight = window.innerHeight - 80;\r\n    });\r\n    window.onresize = debounce(() => {\r\n      // self.tableHeight = window.innerHeight - self.$refs.table.$el.getBoundingClientRect().top;\r\n      self.tableHeight = window.innerHeight - 80;\r\n    }, 1000);\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.pollTimer);\r\n    this.pollTimer = null;\r\n  },\r\n  methods: {\r\n    handleAutoQuery() {\r\n      const curStatus = this.isAutoQuerying;\r\n      this.isAutoQuerying = !curStatus;\r\n      if (!this.isAutoQuerying) {\r\n        this.pollTimer && clearInterval(this.pollTimer);\r\n      } else {\r\n        clearInterval(this.pollTimer);\r\n        this.getTableData();\r\n        this.pollTimer = setInterval(() => {\r\n          this.getTableData();\r\n        }, 5000);\r\n      }\r\n    },\r\n    batchCalcRibbonTotalData() {\r\n      /**\r\n       * 筛选出从PLC传入的数据。特征：1.没有综合级别，2.有带材厚度，韧性等级code，外观等级code\r\n       */\r\n      let list = this.tableData.filter(\r\n        (item) =>\r\n          !item.ribbonTotalLevel &&\r\n          [\r\n            item.ribbonThickness1,\r\n            item.ribbonThickness2,\r\n            item.ribbonThickness3,\r\n            item.ribbonThickness4,\r\n            item.ribbonThickness5,\r\n            item.ribbonThickness6,\r\n            item.ribbonThickness7,\r\n            item.ribbonThickness8,\r\n            item.ribbonThickness9,\r\n            item.realRibbonWidth,\r\n            item.ribbonToughnessLevel,\r\n            item.appearenceLevel,\r\n          ].every((el) => !!el)\r\n      );\r\n      if (!Array.isArray(list) || list.length === 0)\r\n        return Message({\r\n          message: `没有找到需要计算综合级别的带材，请确认 带材厚度/带宽/韧性等级/外观等级 等数据是否完整`,\r\n          type: \"error\",\r\n        });\r\n      /**\r\n       * 计算：\r\n       * 1.平均厚度，最大偏差，厚度等级\r\n       * 2.叠片系数，叠片等级\r\n       * 3.韧性等级，韧性描述\r\n       * 4.外观等级，外观描述\r\n       * 5.综合等级\r\n       * 6.合格情况\r\n       *\r\n       */\r\n      list = list.map((item) => {\r\n        // 根据PLC数据获取韧性等级\r\n        // const ribbonToughnessItem = this.ribbonToughnessLevelList.find(ribbon => ribbon.ribbonToughnessLevelCode === item.ribbonToughnessLevelCode) || {}\r\n        // item.ribbonToughnessLevel = ribbonToughnessItem.ribbonToughnessLevel;\r\n        // 根据PLC数据获取外观等级\r\n        // const appearenceItem = this.appearenceList.find(a => a.appearenceLevelCode === item.appearenceLevelCode) || {}\r\n        // item.appearenceLevel = appearenceItem.appearenceLevel;\r\n        const result = this.calcRibbonTotalData(item);\r\n        return {\r\n          ...item,\r\n          ...result,\r\n        };\r\n      });\r\n\r\n      this.$http(\"PUT\", urlmap.updateMeasureByBatch, {\r\n        listJson: JSON.stringify(list),\r\n      })\r\n        .then((res) => {\r\n          this.getTableData({ current: this.pageConfig.current || 1 });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n    thicknessChangeHandler(e, row) {\r\n      let ribbonThicknessList = [\r\n        row.ribbonThickness1,\r\n        row.ribbonThickness2,\r\n        row.ribbonThickness3,\r\n        row.ribbonThickness4,\r\n        row.ribbonThickness5,\r\n        row.ribbonThickness6,\r\n        row.ribbonThickness7,\r\n        row.ribbonThickness8,\r\n        row.ribbonThickness9,\r\n      ];\r\n      ribbonThicknessList = ribbonThicknessList\r\n        .map((item) => {\r\n          if (item !== \"\") {\r\n            return Number(item);\r\n          }\r\n        })\r\n        .filter((item) => item !== undefined);\r\n      row.ribbonThicknessDeviation = this.calcMaxDeviation(ribbonThicknessList);\r\n      row.ribbonThickness =\r\n        ribbonThicknessList.length > 0\r\n          ? (\r\n              ribbonThicknessList.reduce((acc, cur) => acc + cur, 0) /\r\n              ribbonThicknessList.length\r\n            ).toFixed(2)\r\n          : 0;\r\n      row.ribbonThicknessLevel = this.calcribbonThicknessLevel(\r\n        row.ribbonThickness\r\n      );\r\n    },\r\n    ...mapActions([\r\n      \"getRibbonToughnessLevelList\",\r\n      \"getRibbonTypeList\",\r\n      \"getRibbonWidthList\",\r\n      \"getRibbonThicknessLevelList\",\r\n      \"getLaminationLevelList\",\r\n      \"getClientsList\",\r\n      \"getAppearenceLevelList\",\r\n      \"getLinerWeightList\",\r\n    ]),\r\n    dateFormat(row, column) {\r\n      return dateFormat(row.castDate);\r\n    },\r\n    dateTimeFormat(row, column) {\r\n      return row.measureDate ? dateTimeFormat(row.measureDate) : \"\";\r\n    },\r\n    setEditable() {\r\n      if (this.userinfo.roleId == 5) {\r\n        // 检测人员可修改\r\n        return true;\r\n      } else {\r\n        // 其他\r\n        return false;\r\n      }\r\n    },\r\n    setDeleteable() {\r\n      if (this.userinfo.roleId == 1) {\r\n        // 厂长 可删除\r\n        return true;\r\n      } else {\r\n        // 其他\r\n        return false;\r\n      }\r\n    },\r\n    setExportable() {\r\n      if ([1, 2, 3, 5].includes(this.userinfo.roleId)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    setBatchInStored() {\r\n      if ([1, 5].includes(this.userinfo.roleId)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    // 计算内衬的重量\r\n    calcLinerWeight(ribbonWidth) {\r\n      /** \r\n       * 计算单盘净重，不同规格的内衬重量不同\r\n       * 内衬的规格和重量对应表\r\n       * 20.5: 0.05,\r\n        25.5: 0.06,\r\n        30: 0.08,\r\n        40: 0.12,\r\n        50: 0.12\r\n       */\r\n      ribbonWidth = Number(ribbonWidth);\r\n      const { linerWeight } =\r\n        this.linerWeightList.find((item) => item.ribbonWidth === ribbonWidth) ||\r\n        {};\r\n\r\n      if (!linerWeight) {\r\n        Message({\r\n          message: `带材宽度${ribbonWidth}没有配置所用内衬重量，请联系管理员进行配置！`,\r\n          type: \"error\",\r\n        });\r\n        return 0;\r\n      }\r\n\r\n      // if (ribbonWidth < 25) {\r\n      //   linerWeight = 0.05;\r\n      // } else if (ribbonWidth >= 25 && ribbonWidth < 30) {\r\n      //   linerWeight = 0.06;\r\n      // } else if (ribbonWidth >= 30 && ribbonWidth < 40) {\r\n      //   linerWeight = 0.08;\r\n      // } else if (ribbonWidth >= 40 && ribbonWidth < 50) {\r\n      //   linerWeight = 0.12;\r\n      // } else if (ribbonWidth >= 50 && ribbonWidth < 58) {\r\n      //   linerWeight = 0.12;\r\n      // } else if (ribbonWidth >= 58) {\r\n      //   // 58mm 以上的使用两个 30 的内衬拼接起来\r\n      //   linerWeight = 0.08 * 2;\r\n      // }\r\n      return linerWeight;\r\n    },\r\n    clickSearch() {\r\n      // 重置当前页码为1\r\n      const params = {\r\n        current: 1,\r\n      };\r\n      this.pageConfig.current = 1;\r\n      this.getTableData(params);\r\n    },\r\n    reset() {\r\n      this.searchForm = {\r\n        caster: \"\",\r\n        furnace: \"\",\r\n        date: [],\r\n        ribbonTypeNames: [],\r\n        ribbonWidths: [],\r\n        ribbonThicknessLevels: [],\r\n        laminationLevels: [],\r\n        ribbonToughnessLevels: [],\r\n        appearenceLevels: [],\r\n      };\r\n      const params = {\r\n        current: 1,\r\n      };\r\n      this.pageConfig.current = 1;\r\n      this.getTableData(params);\r\n    },\r\n    getTableData(params = {}) {\r\n      const _params = {\r\n        castId: this.castId,\r\n        startTime: this.searchForm.date[0],\r\n        endTime: this.searchForm.date[1],\r\n        caster: this.searchForm.caster,\r\n        furnace: this.searchForm.furnace,\r\n        ribbonTypeNameJson: JSON.stringify(this.searchForm.ribbonTypeNames),\r\n        ribbonWidthJson: JSON.stringify(this.searchForm.ribbonWidths),\r\n        ribbonThicknessLevelJson: JSON.stringify(\r\n          this.searchForm.ribbonThicknessLevels\r\n        ),\r\n        laminationLevelJson: JSON.stringify(this.searchForm.laminationLevels),\r\n        ribbonToughnessLevelJson: JSON.stringify(\r\n          this.searchForm.ribbonToughnessLevels\r\n        ),\r\n        appearenceLevelJson: JSON.stringify(this.searchForm.appearenceLevels),\r\n        thicknessDivation: this.searchForm.thicknessDivation,\r\n      };\r\n      Object.assign(params, _params);\r\n      this.$http(\"get\", urlmap.queryMeasure, params)\r\n        .then((data) => {\r\n          this.pageConfig.total = data.count;\r\n          this.pageConfig.pageSize = data.limit;\r\n          data.list &&\r\n            data.list.forEach((item) => {\r\n              this.userinfo.roleId == 5\r\n                ? (item.isEditing = true)\r\n                : (item.isEditing = false);\r\n              item.storageRule = {\r\n                orderThickness: item.orderThickness,\r\n                orderLaminationFactor: item.orderLaminationFactor,\r\n                orderRibbonToughnessLevels: item.orderRibbonToughnessLevels,\r\n                orderAppearenceLevels: item.orderAppearenceLevels,\r\n                // qualifiedThickness: item.qualifiedThickness,\r\n                // qualifiedLaminationFactor: item.qualifiedLaminationFactor,\r\n                // qualifiedRibbonToughnessLevels: item.qualifiedRibbonToughnessLevels,\r\n                // qualifiedAppearenceLevels: item.qualifiedAppearenceLevels,\r\n                qualifiedDemands: [1, 2, 3, 5, 6, 15].includes(\r\n                  Number(this.userinfo.roleId)\r\n                )\r\n                  ? JSON.parse(item.qualifiedDemands)\r\n                  : [],\r\n              };\r\n              item.clients = item.clients ? item.clients.split(\",\") : [];\r\n              item.appearence = item.appearence\r\n                ? item.appearence.split(\",\")\r\n                : [];\r\n\r\n              item.coilNetWeight =\r\n                item.coilWeight - this.calcLinerWeight(item.ribbonWidth);\r\n              item.remainWeight = item.coilNetWeight;\r\n            });\r\n          this.tableData = data.list;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    edit(row) {\r\n      if (\r\n        (row.isStored == 1 || row.isStored == 2) &&\r\n        row.isMeasureConfirmed == 1\r\n      ) {\r\n        // 已经入库\r\n        return this.$message({\r\n          message: \"该带材已经入库，您无权限操作，请联系库房主管人员！\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      // row.isEditing = true;\r\n    },\r\n    customerNumer(value) {\r\n      return typeof value === \"string\" ? Number(value.trim()) : value;\r\n    },\r\n    calcRibbonTotalData(row) {\r\n      // 计算叠片系数和叠片等级 realRibbonWidth diameter coilWeight\r\n      // row.laminationFactor = ((row.coilWeight - 0.09)/(Math.PI * (row.diameter * row.diameter / 4 - 95 * 95 / 4) * 7.2) * Math.pow(10, 6) / row.realRibbonWidth).toFixed(2);\r\n      row.laminationFactor = this.calcLaminationFactor(\r\n        row.coilWeight,\r\n        row.diameter,\r\n        row.realRibbonWidth\r\n      );\r\n      row.laminationLevel = this.calcLaminationLevel(row.laminationFactor);\r\n\r\n      // 根据韧性描述判定韧性等级 ribbonToughnessLevel\r\n      // row.ribbonToughnessLevel = this.ribbonToughnessLevelList.reduce(\r\n      //   (acc, cur) => {\r\n      //     acc[cur.ribbonToughness] = cur.ribbonToughnessLevel;\r\n      //     return acc;\r\n      //   },\r\n      //   {}\r\n      // )[row.ribbonToughness];\r\n\r\n      // 根据韧性等级来获取韧性描述\r\n      row.ribbonToughness =\r\n        this.ribbonToughnessLevelList.reduce((acc, cur) => {\r\n          acc[cur.ribbonToughnessLevel] = cur.ribbonToughness;\r\n          return acc;\r\n        }, {})[row.ribbonToughnessLevel] || \"\";\r\n\r\n      // 根据外观描述判定外观等级 appearenceLevel\r\n      // row.appearenceLevel = this.appearenceList.reduce((acc, cur) => {\r\n      //   acc[cur.appearence] = cur.appearenceLevel;\r\n      //   return acc;\r\n      // }, {})[row.appearence];\r\n\r\n      // 计算厚度最大偏差、平均厚度、厚度级别\r\n      row.ribbonThickness1 = this.customerNumer(row.ribbonThickness1);\r\n      row.ribbonThickness2 = this.customerNumer(row.ribbonThickness2);\r\n      row.ribbonThickness3 = this.customerNumer(row.ribbonThickness3);\r\n      row.ribbonThickness4 = this.customerNumer(row.ribbonThickness4);\r\n      row.ribbonThickness5 = this.customerNumer(row.ribbonThickness5);\r\n      row.ribbonThickness6 = this.customerNumer(row.ribbonThickness6);\r\n      row.ribbonThickness7 = this.customerNumer(row.ribbonThickness7);\r\n      row.ribbonThickness8 = this.customerNumer(row.ribbonThickness8);\r\n      row.ribbonThickness9 = this.customerNumer(row.ribbonThickness9);\r\n\r\n      row.ribbonThicknessDeviation = this.calcMaxDeviation([\r\n        row.ribbonThickness1,\r\n        row.ribbonThickness2,\r\n        row.ribbonThickness3,\r\n        row.ribbonThickness4,\r\n        row.ribbonThickness5,\r\n        row.ribbonThickness6,\r\n        row.ribbonThickness7,\r\n        row.ribbonThickness8,\r\n        row.ribbonThickness9,\r\n      ]);\r\n      row.ribbonThickness = (\r\n        (row.ribbonThickness1 +\r\n          row.ribbonThickness2 +\r\n          row.ribbonThickness3 +\r\n          row.ribbonThickness4 +\r\n          row.ribbonThickness5 +\r\n          row.ribbonThickness6 +\r\n          row.ribbonThickness7 +\r\n          row.ribbonThickness8 +\r\n          row.ribbonThickness9) /\r\n        9\r\n      ).toFixed(2);\r\n      row.ribbonThicknessLevel = this.calcribbonThicknessLevel(\r\n        row.ribbonThickness\r\n      );\r\n\r\n      // 综合级别\r\n      row.ribbonTotalLevel = this.calcRibbonTotalLevel(row);\r\n\r\n      // 是否入库：不合格不能入库，端面有问题的不能入库，不满足入库规则的不能入库\r\n      if (row.ribbonTotalLevel === \"不合格\") {\r\n        row.isStored = 3;\r\n        // row.isMeasureConfirmed = 1;\r\n      } else {\r\n        // 入库分为：计划内入库和计划外入库\r\n        row.isStored = this.setStoredType(row);\r\n        if (row.isStored === 1) {\r\n          row.inPlanStoredWeight = row.coilNetWeight;\r\n          // 符合订单非薄带重量：满足订单要求且厚度为2级别的带材重量\r\n          if (row.ribbonThicknessLevel === 2) {\r\n            row.inPlanThickRibbonWeight = row.coilNetWeight;\r\n          }\r\n        } else if (row.isStored === 2) {\r\n          row.outPlanStoredWeight = row.coilNetWeight;\r\n        }\r\n\r\n        // 总入库重量\r\n        row.totalStoredWeight = (\r\n          row.inPlanStoredWeight + row.outPlanStoredWeight\r\n        ).toFixed(2);\r\n\r\n        // 计算各质量等级的重量\r\n        this.calcQualityOfABCDE(row);\r\n        // 计算薄带和高叠片薄带的重量\r\n        this.calcThinRibbonWeight(row);\r\n        // // 质量等级为好的带材质量：A + 符合订单非薄带\r\n        // row.qualityOfGood = (row.qualityOfA + row.inPlanThickRibbonWeight).toFixed(2);\r\n        // // 质量等级为良的带材质量：B\r\n        // row.qualityOfFine = row.qualityOfB;\r\n        // // 质量等级为中的带材质量：30**、40**+ 计划外入库\r\n        // if (/^[3-4]0[A-Z]{2,3}$/.test(row.ribbonTotalLevel)) {\r\n        //   row.qualityOfNormal = row.coilNetWeight;\r\n        // } else if(row.isStored === 2) {\r\n        //   row.qualityOfNormal = row.outPlanStoredWeight;\r\n        // }\r\n\r\n        // 质量等级为好的带材质量：符合订单的带材\r\n        row.qualityOfGood = row.inPlanStoredWeight;\r\n        // 质量等级为良的带材质量：除去符合任务单要求的薄带（31**41**51**61**71**81**32**42**52**62**72**82**33**43**53**63**73**83**34**44**54**64**74**84**）还有德国法国的（22*B、23*B）\r\n        // 质量等级为中的带材质量：除去好和良的其他入库。\r\n        if (row.isStored === 2) {\r\n          if (\r\n            /^[3-8][1-4][A-E][A-C]G?([+-]E)?F?$/.test(row.ribbonTotalLevel) ||\r\n            /^2[2-3][A-C]BL?([+-]E)?F?$/.test(row.ribbonTotalLevel)\r\n          ) {\r\n            row.qualityOfFine = row.coilNetWeight;\r\n          } else {\r\n            row.qualityOfNormal = row.coilNetWeight;\r\n          }\r\n        }\r\n      }\r\n\r\n      const clone = cloneDeep(row);\r\n      clone.clients = clone.clients.join();\r\n      clone.appearence = clone.appearence.join();\r\n\r\n      // 去掉值为null或者undefined的参数\r\n      Object.keys(clone).forEach((key) => {\r\n        if (clone[key] == null) {\r\n          delete clone[key];\r\n        }\r\n      });\r\n      return clone;\r\n    },\r\n    save(row) {\r\n      // row.isEditing = false;\r\n      // this.pageConfig.current = 1;\r\n      // this.getTableData();\r\n      const clone = this.calcRibbonTotalData(row);\r\n      // 发送请求，更新当前的数据\r\n      this.$http(\"PUT\", urlmap.updateMeasure, clone)\r\n        .then((data) => {})\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    handleCurrentChange(val) {\r\n      const params = {\r\n        current: val,\r\n      };\r\n      this.getTableData(params);\r\n    },\r\n    calcRibbonTotalLevel(row) {\r\n      /* ~~~~~~~~~~~首先判定不合格的情况~~~~~~~~~~~~~~ */\r\n\r\n      // 带材是否脆\r\n      const isFragile = [\"D\", \"E\"].includes(row.ribbonToughnessLevel);\r\n      /**\r\n       * 针对1K107B：\r\n       * 1.d＞34μm，判定为不合格;\r\n       * 2.叠片在0.72-0.75范围内，叠片级别为8，叠片小于0.72，判定为不合格\r\n       */\r\n      if (row.ribbonTypeName == \"1K107B\") {\r\n        if (row.ribbonThickness > 34) {\r\n          return \"不合格\";\r\n        }\r\n        if (row.laminationLevel == \"8\") {\r\n          return \"不合格\";\r\n        }\r\n\r\n        // 规格 为 32/42/，材质为 1K107B 的带材，如果韧性为D或E，则综合级别为不合格\r\n        if ([32, 42].includes(row.ribbonWidth) && isFragile) {\r\n          return \"不合格\";\r\n        }\r\n      }\r\n\r\n      //如果规格<50mm，带材厚度偏差大于3，同时韧性为D/E,此带材为不合格，否则加F\r\n      if (\r\n        row.ribbonThicknessDeviation > 3 &&\r\n        row.ribbonWidth < 50 &&\r\n        isFragile\r\n      ) {\r\n        return \"不合格\";\r\n      }\r\n\r\n      // 如果规格<50mm，带材韧性为D/E，同时带材宽度超出规格±0.2mm，此带材为不合格，否则加E，正偏差为+E,负偏差为-E\r\n      if (\r\n        row.ribbonWidth < 50 &&\r\n        isFragile &&\r\n        Math.abs(row.realRibbonWidth - row.ribbonWidth) > 0.2\r\n      ) {\r\n        return \"不合格\";\r\n      }\r\n      if (\r\n        row.ribbonWidth >= 50 &&\r\n        isFragile &&\r\n        Math.abs(row.realRibbonWidth - row.ribbonWidth) > 0.3\r\n      ) {\r\n        return \"不合格\";\r\n      }\r\n\r\n      // AD25 ND25 的带材，宽度偏差>=0.1，或者 <= -0.2的带材，不合格\r\n      if ([\"AD25\", \"ND25\"].includes(row.ribbonTypeName)) {\r\n        let _width = row.realRibbonWidth - row.ribbonWidth;\r\n        _width = _width.toFixed(1);\r\n        if (_width >= 0.1 || _width <= -0.2) {\r\n          return \"不合格\";\r\n        }\r\n      }\r\n\r\n      // 针对成分为 AD25、ND25、1K107A、FN-300的直喷带材，任意规格, 叠片＜0.75，判定为不合格；\r\n      if (\r\n        [\"AD25\", \"ND25\", \"1K107A\", \"FN-300\"].includes(row.ribbonTypeName) &&\r\n        row.laminationFactor < 0.75\r\n      ) {\r\n        return \"不合格\";\r\n      }\r\n\r\n      // 针对成分为 FN-200、FN-035的直喷带材，任意规格: 厚度>23μm或叠片＜0.78，判定为不合格；\r\n      if (\r\n        [\"FN-200\", \"FN-035\"].includes(row.ribbonTypeName) &&\r\n        (row.ribbonThickness > 23 || row.laminationFactor < 0.78)\r\n      ) {\r\n        return \"不合格\";\r\n      }\r\n\r\n      // 针对成分为 1K107O的直喷带材，任意规格:\r\n      // 1. 厚度>23μm或叠片＜0.78，判定为不合格；\r\n      // 2. 带面划痕严重或带偏≥2μm直接判定为不合格；\r\n      if ([\"1K107O\"].includes(row.ribbonTypeName)) {\r\n        if (\r\n          row.ribbonThickness < 22 ||\r\n          row.ribbonThickness > 28 ||\r\n          row.laminationFactor < 0.78\r\n        ) {\r\n          return \"不合格\";\r\n        }\r\n        if (row.appearenceLevel === \"C\" || row.ribbonThicknessDeviation >= 2) {\r\n          return \"不合格\";\r\n        }\r\n      }\r\n\r\n      // 针对成分为 1K107BW/ 1K107E的直喷带材，任意规格: 带材韧性要求为A/B/C级，其他级别韧性判定为不合格\r\n      if ([\"1K107BW\", \"1K107E\"].includes(row.ribbonTypeName) && isFragile) {\r\n        return \"不合格\";\r\n      }\r\n\r\n      /* ~~~~~~~~~~~判定等级不全的情况~~~~~~~~~~~~~~ */\r\n      if (\r\n        [\"\", undefined, null].includes(row.ribbonThicknessLevel) ||\r\n        [\"\", undefined, null].includes(row.laminationLevel) ||\r\n        [\"\", undefined, null].includes(row.ribbonToughnessLevel) ||\r\n        [\"\", undefined, null].includes(row.appearenceLevel)\r\n      ) {\r\n        return \"\";\r\n      }\r\n\r\n      /* ~~~~~~~~~~~正式计算完整的等级~~~~~~~~~~~~~~ */\r\n      let ribbonTotalLevel =\r\n        row.ribbonThicknessLevel +\r\n        row.laminationLevel +\r\n        row.ribbonToughnessLevel +\r\n        row.appearenceLevel;\r\n\r\n      /**\r\n       * 针对所有带材：\r\n       * 1.1任意规格，厚度等级为2级别(23μm<d≤26μm)的带材判定修改如下：\r\n       * 1）24μm<d≤25μm，在综合级别最后加注“S”。\r\n       * 2）23μm<d≤24μm，在综合级别最后加注“L”。\r\n       * 1.2任意规格，厚度等级为3级别(20μm<d≤23μm)的带材判定修改如下：\r\n       * 1）21μm<d≤22μm，在综合级别最后加注“S”，\r\n       * 2）20μm<d≤21μm，在综合级别最后加注“L”，\r\n       */\r\n      if (row.ribbonThickness > 24 && row.ribbonThickness <= 25) {\r\n        ribbonTotalLevel = ribbonTotalLevel + \"S\";\r\n      }\r\n      if (row.ribbonThickness > 23 && row.ribbonThickness <= 24) {\r\n        ribbonTotalLevel = ribbonTotalLevel + \"L\";\r\n      }\r\n\r\n      if (row.ribbonThickness > 21 && row.ribbonThickness <= 22) {\r\n        ribbonTotalLevel = ribbonTotalLevel + \"S\";\r\n      }\r\n      if (row.ribbonThickness > 20 && row.ribbonThickness <= 21) {\r\n        ribbonTotalLevel = ribbonTotalLevel + \"L\";\r\n      }\r\n\r\n      // 如果带材厚度偏差大于3，同时韧性为A,B,C,此带材加F\r\n      if (\r\n        row.ribbonThicknessDeviation > 3 &&\r\n        [\"A\", \"B\", \"C\"].includes(row.ribbonToughnessLevel)\r\n      ) {\r\n        ribbonTotalLevel = ribbonTotalLevel + \"F\";\r\n      }\r\n      // 如果带材韧性为A/B/C，同时带材宽度超出规格±0.2mm，加E，正偏差为+E,负偏差为-E\r\n      let _width = row.realRibbonWidth - row.ribbonWidth;\r\n      _width = _width.toFixed(1);\r\n      if (row.ribbonWidth < 50) {\r\n        if (\r\n          Math.abs(_width) > 0.2 &&\r\n          [\"A\", \"B\", \"C\"].includes(row.ribbonToughnessLevel)\r\n        ) {\r\n          if (_width < -0.2) {\r\n            ribbonTotalLevel = ribbonTotalLevel + \"-E\";\r\n          } else if (_width > 0.2) {\r\n            ribbonTotalLevel = ribbonTotalLevel + \"+E\";\r\n          }\r\n        }\r\n      } else if (row.ribbonWidth >= 50) {\r\n        if (\r\n          Math.abs(_width) > 0.3 &&\r\n          [\"A\", \"B\", \"C\"].includes(row.ribbonToughnessLevel)\r\n        ) {\r\n          if (_width < -0.3) {\r\n            ribbonTotalLevel = ribbonTotalLevel + \"-E\";\r\n          } else if (_width > 0.3) {\r\n            ribbonTotalLevel = ribbonTotalLevel + \"+E\";\r\n          }\r\n        }\r\n      }\r\n\r\n      return ribbonTotalLevel;\r\n    },\r\n    calcThinRibbonWeight(row) {\r\n      if (row.ribbonThickness > 23) {\r\n        return;\r\n      }\r\n      // 高叠片薄带重量 ≤23, >=0.78\r\n      if (row.laminationFactor >= 0.78) {\r\n        return (row.highFactorThinRibbonWeight = row.coilNetWeight);\r\n      }\r\n      // 薄带重量 ≤23, >=0.75\r\n      if (row.laminationFactor >= 0.75) {\r\n        row.thinRibbonWeight = row.coilNetWeight;\r\n      }\r\n    },\r\n    calcQualityOfABCDE(row) {\r\n      // 计算各质量等级的重量\r\n      // A: 32**,42**,52**,62**,72**,82**,33**,43**,53**,63**,73**,83**,34**,44**,54**,64**,74**,84**\r\n      const requireMentOfA = /^[3-8][2-4][A-E][A-C]G?([+-]E)?F?$/;\r\n      // B: 31**,41**,51**,61**,71**,81**\r\n      const requireMentOfB = /^[3-8]1[A-E][A-C]G?([+-]E)?F?$/;\r\n      // C: 30**,40**,50**,60**,70**,80**\r\n      const requireMentOfC = /^[3-8]0[A-E][A-C]G?([+-]E)?F?$/;\r\n      // D: 21**,22**,23**,24**\r\n      const requireMentOfD = /^2[1-4][A-E][A-C]L?([+-]E)?F?$/;\r\n      // E: 11**,12**,13**,14**\r\n      const requireMentOfE = /^1[1-4][A-E][A-C]([+-]E)?F?$/;\r\n      const ribbonTotalLevel = row.ribbonTotalLevel;\r\n      if (requireMentOfA.test(ribbonTotalLevel)) {\r\n        row.qualityOfA = row.coilNetWeight;\r\n      } else if (requireMentOfB.test(ribbonTotalLevel)) {\r\n        row.qualityOfB = row.coilNetWeight;\r\n      } else if (requireMentOfC.test(ribbonTotalLevel)) {\r\n        row.qualityOfC = row.coilNetWeight;\r\n      } else if (requireMentOfD.test(ribbonTotalLevel)) {\r\n        row.qualityOfD = row.coilNetWeight;\r\n      } else if (requireMentOfE.test(ribbonTotalLevel)) {\r\n        row.qualityOfE = row.coilNetWeight;\r\n      }\r\n    },\r\n    calcLaminationFactor(coilWeight, diameter, realRibbonWidth) {\r\n      return (\r\n        (\r\n          (((coilWeight - 0.09) /\r\n            (Math.PI * ((diameter * diameter) / 4 - (95 * 95) / 4) * 7.2)) *\r\n            Math.pow(10, 6)) /\r\n          realRibbonWidth\r\n        ).toFixed(2) || 0\r\n      );\r\n    },\r\n    calcLaminationLevel(factor) {\r\n      if (!factor) return \"\";\r\n      if (factor >= 0.84) {\r\n        return \"4\";\r\n      } else if (factor >= 0.82 && factor < 0.84) {\r\n        return \"3\";\r\n      } else if (factor >= 0.8 && factor < 0.82) {\r\n        return \"2\";\r\n      } else if (factor >= 0.78 && factor < 0.8) {\r\n        return \"1\";\r\n      } else if (factor >= 0.75 && factor < 0.78) {\r\n        return \"0\";\r\n      } else if (factor >= 0.72 && factor < 0.75) {\r\n        return \"8\";\r\n      } else {\r\n        return \"不合格\";\r\n      }\r\n    },\r\n    calcMaxDeviation(arr) {\r\n      arr.sort((a, b) => {\r\n        return a - b;\r\n      });\r\n      const _len = arr.length;\r\n      return arr[_len - 1] - arr[0];\r\n    },\r\n    calcribbonThicknessLevel(thickness) {\r\n      if (!thickness) {\r\n        return;\r\n      }\r\n      if (thickness > 26) {\r\n        return 1;\r\n      } else if (thickness > 23 && thickness <= 26) {\r\n        return 2;\r\n      } else if (thickness > 20 && thickness <= 23) {\r\n        return 3;\r\n      } else if (thickness > 18 && thickness <= 20) {\r\n        return 4;\r\n      } else if (thickness > 16 && thickness <= 18) {\r\n        return 5;\r\n      } else if (thickness > 14 && thickness <= 16) {\r\n        return 6;\r\n      } else if (thickness > 12 && thickness <= 14) {\r\n        return 7;\r\n      } else if (thickness <= 12) {\r\n        return 8;\r\n      }\r\n    },\r\n    setStoredType(row) {\r\n      let inPlanFlag = true;\r\n      // let outPlanFlag = true;\r\n      // 计划内：厚度\r\n      const ribbonThickness = row.ribbonThickness;\r\n      const orderThickness = row.orderThickness;\r\n      if (orderThickness.indexOf(\"≤\") > -1) {\r\n        // ≤23\r\n        const maxThickness = parseInt(orderThickness.substr(1));\r\n        if (ribbonThickness > maxThickness) {\r\n          // 厚度不符合符合计划内入库的要求\r\n          inPlanFlag = false;\r\n        }\r\n      } else if (orderThickness.indexOf(\"-\") > -1) {\r\n        const maxThickness = orderThickness.split(\"-\")[1];\r\n        const minThickness = orderThickness.split(\"-\")[0];\r\n        if (ribbonThickness < minThickness || ribbonThickness > maxThickness) {\r\n          inPlanFlag = false;\r\n        }\r\n      }\r\n      // 计划内：叠片\r\n      const laminationFactor = row.laminationFactor;\r\n      const orderLaminationFactor = row.orderLaminationFactor;\r\n      if (orderLaminationFactor.indexOf(\"≥\") > -1) {\r\n        // ≥0.78\r\n        const minLaminationFactor = parseInt(orderLaminationFactor.substr(1));\r\n        if (laminationFactor < minLaminationFactor) {\r\n          // 叠片不符合符合计划内入库的要求\r\n          inPlanFlag = false;\r\n        }\r\n      } else if (orderLaminationFactor.indexOf(\"-\") > -1) {\r\n        const maxLaminationFactor = orderLaminationFactor.split(\"-\")[1];\r\n        const minLaminationFactor = orderLaminationFactor.split(\"-\")[0];\r\n        if (\r\n          laminationFactor < minLaminationFactor ||\r\n          laminationFactor > maxLaminationFactor\r\n        ) {\r\n          inPlanFlag = false;\r\n        }\r\n      }\r\n      // 计划内：韧性\r\n      const ribbonToughnessLevel = row.ribbonToughnessLevel;\r\n      const orderRibbonToughnessLevels = row.orderRibbonToughnessLevels.split(\r\n        \",\"\r\n      );\r\n      if (!orderRibbonToughnessLevels.includes(ribbonToughnessLevel)) {\r\n        inPlanFlag = false;\r\n      }\r\n      // 计划内：外观\r\n      const appearenceLevel = row.appearenceLevel;\r\n      const orderAppearenceLevels = row.orderAppearenceLevels.split(\",\");\r\n      if (!orderAppearenceLevels.includes(appearenceLevel)) {\r\n        inPlanFlag = false;\r\n      }\r\n\r\n      if (inPlanFlag) {\r\n        return 1;\r\n      }\r\n\r\n      // // 计划外：厚度\r\n      // const qualifiedThickness = row.qualifiedThickness;\r\n      // if (qualifiedThickness.indexOf('≤') > -1) { // ≤23\r\n      //   const maxThickness = parseInt(qualifiedThickness.substr(1));\r\n      //   if (ribbonThickness > maxThickness) {\r\n      //     // 厚度不符合符合计划外入库的要求\r\n      //     outPlanFlag = false;\r\n      //   }\r\n      // } else if (qualifiedThickness.indexOf('-') > -1) {\r\n      //   const maxThickness = qualifiedThickness.split('-')[1];\r\n      //   const minThickness = qualifiedThickness.split('-')[0];\r\n      //   if (ribbonThickness < minThickness || ribbonThickness > maxThickness) {\r\n      //     outPlanFlag = false;\r\n      //   }\r\n      // }\r\n      // // 计划外：叠片\r\n      // const qualifiedLaminationFactor = row.qualifiedLaminationFactor;\r\n      // if (qualifiedLaminationFactor.indexOf('≥') > -1) { // ≥0.78\r\n      //   const minLaminationFactor = parseInt(qualifiedLaminationFactor.substr(1));\r\n      //   if (laminationFactor < minLaminationFactor) {\r\n      //     // 叠片不符合符合计划外入库的要求\r\n      //     outPlanFlag = false;\r\n      //   }\r\n      // } else if (qualifiedLaminationFactor.indexOf('-') > -1) {\r\n      //   const maxLaminationFactor = qualifiedLaminationFactor.split('-')[1];\r\n      //   const minLaminationFactor = qualifiedLaminationFactor.split('-')[0];\r\n      //   if (laminationFactor < minLaminationFactor || laminationFactor > maxLaminationFactor) {\r\n      //     outPlanFlag = false;\r\n      //   }\r\n      // }\r\n      // // 计划外：韧性\r\n      // const qualifiedRibbonToughnessLevels = row.qualifiedRibbonToughnessLevels.split(',');\r\n      // if (!qualifiedRibbonToughnessLevels.includes(ribbonToughnessLevel)) {\r\n      //   outPlanFlag = false;\r\n      // }\r\n      // // 计划外：外观\r\n      // const qualifiedAppearenceLevels = row.qualifiedAppearenceLevels.split(',');\r\n      // if (!qualifiedAppearenceLevels.includes(appearenceLevel)) {\r\n      //   outPlanFlag = false;\r\n      // }\r\n\r\n      const qualifiedDemands = JSON.parse(row.qualifiedDemands) || [];\r\n      for (const item of qualifiedDemands) {\r\n        let outPlanFlag = true;\r\n        // 计划外：厚度\r\n        const qualifiedThickness = item.qualifiedThickness;\r\n        if (qualifiedThickness.indexOf(\"≤\") > -1) {\r\n          // ≤23\r\n          const maxThickness = parseInt(qualifiedThickness.substr(1));\r\n          if (ribbonThickness > maxThickness) {\r\n            // 厚度不符合符合计划外入库的要求\r\n            outPlanFlag = false;\r\n          }\r\n        } else if (qualifiedThickness.indexOf(\"-\") > -1) {\r\n          const maxThickness = qualifiedThickness.split(\"-\")[1];\r\n          const minThickness = qualifiedThickness.split(\"-\")[0];\r\n          if (\r\n            ribbonThickness < minThickness ||\r\n            ribbonThickness > maxThickness\r\n          ) {\r\n            // 厚度不符合符合计划外入库的要求\r\n            outPlanFlag = false;\r\n          }\r\n        }\r\n        // 计划外：叠片\r\n        const qualifiedLaminationFactor = item.qualifiedLaminationFactor;\r\n        if (qualifiedLaminationFactor.indexOf(\"≥\") > -1) {\r\n          // ≥0.78\r\n          const minLaminationFactor = parseInt(\r\n            qualifiedLaminationFactor.substr(1)\r\n          );\r\n          if (laminationFactor < minLaminationFactor) {\r\n            // 叠片不符合符合计划外入库的要求\r\n            outPlanFlag = false;\r\n          }\r\n        } else if (qualifiedLaminationFactor.indexOf(\"-\") > -1) {\r\n          const maxLaminationFactor = qualifiedLaminationFactor.split(\"-\")[1];\r\n          const minLaminationFactor = qualifiedLaminationFactor.split(\"-\")[0];\r\n          if (\r\n            laminationFactor < minLaminationFactor ||\r\n            laminationFactor > maxLaminationFactor\r\n          ) {\r\n            // 叠片不符合符合计划外入库的要求\r\n            outPlanFlag = false;\r\n          }\r\n        }\r\n        // 计划外：韧性\r\n        const qualifiedRibbonToughnessLevels =\r\n          item.qualifiedRibbonToughnessLevels;\r\n        if (!qualifiedRibbonToughnessLevels.includes(ribbonToughnessLevel)) {\r\n          // 韧性不符合符合计划外入库的要求\r\n          outPlanFlag = false;\r\n        }\r\n        // 计划外：外观\r\n        const qualifiedAppearenceLevels = item.qualifiedAppearenceLevels;\r\n        if (!qualifiedAppearenceLevels.includes(appearenceLevel)) {\r\n          // 外观不符合符合计划外入库的要求\r\n          outPlanFlag = false;\r\n        }\r\n\r\n        if (outPlanFlag) {\r\n          return 2;\r\n        }\r\n      }\r\n\r\n      return 3;\r\n    },\r\n    exportExcel() {\r\n      const params = {\r\n        castId: this.castId,\r\n        startTime: this.searchForm.date[0],\r\n        endTime: this.searchForm.date[1],\r\n        // caster: this.searchForm.caster,\r\n        // furnace: this.searchForm.furnace,\r\n        // ribbonTypeNameJson: JSON.stringify(this.searchForm.ribbonTypeNames),\r\n        // ribbonWidthJson: JSON.stringify(this.searchForm.ribbonWidths),\r\n        // ribbonThicknessLevelJson: JSON.stringify(\r\n        //   this.searchForm.ribbonThicknessLevels\r\n        // ),\r\n        // laminationLevelJson: JSON.stringify(this.searchForm.laminationLevels),\r\n        // ribbonToughnessLevelJson: JSON.stringify(\r\n        //   this.searchForm.ribbonToughnessLevels\r\n        // ),\r\n        // appearenceLevelJson: JSON.stringify(this.searchForm.appearenceLevels)\r\n      };\r\n      if (!params.startTime || !params.endTime) {\r\n        return this.$message({\r\n          message: \"请选择生产日期\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n      const url = `${urlmap.exportMeasure}?${qs.stringify(params)}`;\r\n      window.open(url);\r\n    },\r\n    setSelectable(row, index) {\r\n      // 合格并且已经检测过了的，才可以被选中来入库\r\n      if ([1, 2].includes(row.isStored) && !row.isMeasureConfirmed) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    measureConfirm() {\r\n      const selectionList = cloneDeep(this.multipleSelection);\r\n      if (selectionList.length === 0) {\r\n        return this.$alert(\"请选择要入库的带材\", \"提示\", { type: \"warning\" });\r\n      }\r\n      if (\r\n        selectionList.some((item) => !item.clients || item.clients.length === 0)\r\n      ) {\r\n        return this.$alert(\r\n          \"申请入库的带材没有填写检测去向，请检查后再提交\",\r\n          \"提示\",\r\n          { type: \"warning\" }\r\n        );\r\n      }\r\n      selectionList.forEach((row) => {\r\n        row.isMeasureConfirmed = 1; // 1-检测确认入库，0-还没有确认\r\n        row.clients = row.clients.join();\r\n        row.appearence = row.appearence.join();\r\n      });\r\n      // 发送请求，更新当前的数据\r\n      this.$http(\"POST\", urlmap.measureConfirm, {\r\n        dataJson: JSON.stringify(selectionList),\r\n      })\r\n        .then((data) => {\r\n          this.getTableData();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.popover_table {\r\n  text-align: center;\r\n  th,\r\n  td {\r\n    border-bottom: 1px solid #dcdfe6;\r\n  }\r\n  td {\r\n    padding: 5px 8px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/measure/measure.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{staticClass:\"crumb\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"检测记录\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.castId)+\"号机组\")])],1),_vm._v(\" \"),_c('Collapse',[_c('el-form',{staticClass:\"search_bar\",attrs:{\"model\":_vm.searchForm,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"生产日期：\"}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"default-time\":['00:00:00', '23:59:59'],\"clearable\":false,\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.searchForm.date),callback:function ($$v) {_vm.$set(_vm.searchForm, \"date\", $$v)},expression:\"searchForm.date\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"喷带手：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入喷带手姓名\"},model:{value:(_vm.searchForm.caster),callback:function ($$v) {_vm.$set(_vm.searchForm, \"caster\", $$v)},expression:\"searchForm.caster\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"炉号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入炉号\"},model:{value:(_vm.searchForm.furnace),callback:function ($$v) {_vm.$set(_vm.searchForm, \"furnace\", $$v)},expression:\"searchForm.furnace\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"材质：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.ribbonTypeNames),callback:function ($$v) {_vm.$set(_vm.searchForm, \"ribbonTypeNames\", $$v)},expression:\"searchForm.ribbonTypeNames\"}},_vm._l((_vm.ribbonTypeList),function(item){return _c('el-option',{key:item.ribbonTypeId,attrs:{\"value\":item.ribbonTypeName,\"label\":item.ribbonTypeName}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.ribbonWidths),callback:function ($$v) {_vm.$set(_vm.searchForm, \"ribbonWidths\", $$v)},expression:\"searchForm.ribbonWidths\"}},_vm._l((_vm.ribbonWidthList),function(item){return _c('el-option',{key:item.ribbonWidthId,attrs:{\"label\":item.ribbonWidth,\"value\":item.ribbonWidth}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"厚度级别：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.ribbonThicknessLevels),callback:function ($$v) {_vm.$set(_vm.searchForm, \"ribbonThicknessLevels\", $$v)},expression:\"searchForm.ribbonThicknessLevels\"}},_vm._l((_vm.ribbonThicknessLevelList),function(item){return _c('el-option',{key:item.ribbonThicknessLevelId,attrs:{\"label\":item.ribbonThicknessLevel,\"value\":item.ribbonThicknessLevel}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"叠片级别：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.laminationLevels),callback:function ($$v) {_vm.$set(_vm.searchForm, \"laminationLevels\", $$v)},expression:\"searchForm.laminationLevels\"}},_vm._l((_vm.laminationLevelList),function(item){return _c('el-option',{key:item.laminationLevelId,attrs:{\"label\":item.laminationLevel,\"value\":item.laminationLevel}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"韧性级别：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.ribbonToughnessLevels),callback:function ($$v) {_vm.$set(_vm.searchForm, \"ribbonToughnessLevels\", $$v)},expression:\"searchForm.ribbonToughnessLevels\"}},_vm._l((_vm.ribbonToughnessLevelList),function(item){return _c('el-option',{key:item.ribbonToughnessLevelId,attrs:{\"label\":item.ribbonToughnessLevel,\"value\":item.ribbonToughnessLevel}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"外观级别：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.appearenceLevels),callback:function ($$v) {_vm.$set(_vm.searchForm, \"appearenceLevels\", $$v)},expression:\"searchForm.appearenceLevels\"}},_vm._l((_vm.uniqueAppearenceLevelList),function(appearenceLevel,index){return _c('el-option',{key:index,attrs:{\"label\":appearenceLevel,\"value\":appearenceLevel}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"厚度偏差：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.searchForm.thicknessDivation),callback:function ($$v) {_vm.$set(_vm.searchForm, \"thicknessDivation\", $$v)},expression:\"searchForm.thicknessDivation\"}},[_c('el-option',{attrs:{\"label\":\"<=1\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"<=2\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"<=3\",\"value\":3}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"<=4\",\"value\":4}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"<=5\",\"value\":5}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.clickSearch}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"main_bd\"},[_c('el-col',{staticClass:\"table_hd\"},[([1, 2, 3, 5].includes(_vm.userinfo.roleId))?_c('el-button',{attrs:{\"type\":_vm.autoQueryConfig.type,\"icon\":_vm.autoQueryConfig.icon},on:{\"click\":_vm.handleAutoQuery}},[_vm._v(_vm._s(_vm.autoQueryConfig.text))]):_vm._e(),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"content\":\"点击后会计算下表中带材的综合级别\",\"placement\":\"top-end\"}},[([1, 2, 3, 5].includes(_vm.userinfo.roleId))?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-info\"},on:{\"click\":_vm.batchCalcRibbonTotalData}},[_vm._v(\"计算综合级别\")]):_vm._e()],1),_vm._v(\" \"),([1, 2, 3, 5].includes(_vm.userinfo.roleId))?_c('el-button',{staticClass:\"pull_right\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-download\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出\")]):_vm._e(),_vm._v(\" \"),([1, 2, 3, 5].includes(_vm.userinfo.roleId))?_c('el-button',{staticClass:\"pull_right\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-check\"},on:{\"click\":_vm.measureConfirm}},[_vm._v(\"申请入库\")]):_vm._e()],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\",\"highlight-current-row\":\"\",\"height\":_vm.tableHeight},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"20\",\"selectable\":_vm.setSelectable}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"furnace\",\"label\":\"炉号\",\"align\":\"center\",\"width\":\"130px\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"coilNumber\",\"label\":\"盘号\",\"align\":\"center\",\"width\":\"35px\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonTypeName\",\"label\":\"材质\",\"align\":\"center\",\"min-width\":\"50px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonWidth\",\"label\":\"规格\",\"align\":\"center\",\"width\":\"40px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"castDate\",\"label\":\"生产日期\",\"align\":\"center\",\"formatter\":_vm.dateFormat,\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"caster\",\"label\":\"喷带手\",\"align\":\"center\",\"width\":\"50px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"diameter\",\"label\":\"外径(mm)\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"coilWeight\",\"label\":\"重量(kg)\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"laminationFactor\",\"label\":\"叠片系数\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"laminationLevel\",\"label\":\"叠片等级\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"realRibbonWidth\",\"label\":\"实际带宽\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.realRibbonWidth)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(scope.row.realRibbonWidth),callback:function ($$v) {_vm.$set(scope.row, \"realRibbonWidth\", $$v)},expression:\"scope.row.realRibbonWidth\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness1\",\"label\":\"带厚1(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness1)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness1),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness1\", $$v)},expression:\"scope.row.ribbonThickness1\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness2\",\"label\":\"带厚2(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness2)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness2),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness2\", $$v)},expression:\"scope.row.ribbonThickness2\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness3\",\"label\":\"带厚3(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness3)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness3),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness3\", $$v)},expression:\"scope.row.ribbonThickness3\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness4\",\"label\":\"带厚4(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness4)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness4),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness4\", $$v)},expression:\"scope.row.ribbonThickness4\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness5\",\"label\":\"带厚5(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness5)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness5),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness5\", $$v)},expression:\"scope.row.ribbonThickness5\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness6\",\"label\":\"带厚6(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness6)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness6),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness6\", $$v)},expression:\"scope.row.ribbonThickness6\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness7\",\"label\":\"带厚7(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness7)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness7),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness7\", $$v)},expression:\"scope.row.ribbonThickness7\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness8\",\"label\":\"带厚8(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness8)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness8),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness8\", $$v)},expression:\"scope.row.ribbonThickness8\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness9\",\"label\":\"带厚9(μm)\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonThickness9)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},nativeOn:{\"keyup\":function($event){return (function ($event) { return _vm.thicknessChangeHandler($event, scope.row); })($event)}},model:{value:(scope.row.ribbonThickness9),callback:function ($$v) {_vm.$set(scope.row, \"ribbonThickness9\", $$v)},expression:\"scope.row.ribbonThickness9\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThicknessDeviation\",\"label\":\"厚度偏差(μm)\",\"align\":\"center\",\"width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThickness\",\"label\":\"平均厚度(μm)\",\"align\":\"center\",\"width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonThicknessLevel\",\"label\":\"厚度级别\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonToughness\",\"label\":\"韧性\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonToughnessLevel\",\"label\":\"韧性等级\",\"align\":\"center\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.ribbonToughnessLevel)+\"\\n          \")]):_c('div',[_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"\"},model:{value:(scope.row.ribbonToughnessLevel),callback:function ($$v) {_vm.$set(scope.row, \"ribbonToughnessLevel\", $$v)},expression:\"scope.row.ribbonToughnessLevel\"}},_vm._l((_vm.ribbonToughnessLevelList),function(item){return _c('el-option',{key:item.ribbonToughnessLevelId,attrs:{\"label\":item.ribbonToughnessLevel,\"value\":item.ribbonToughnessLevel}})}),1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"appearence\",\"label\":\"外观\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.appearence ? scope.row.appearence.toString() : \"\")+\"\\n          \")]):_c('div',[_c('el-select',{attrs:{\"size\":\"mini\",\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"\"},model:{value:(scope.row.appearence),callback:function ($$v) {_vm.$set(scope.row, \"appearence\", $$v)},expression:\"scope.row.appearence\"}},_vm._l((_vm.appearenceList),function(item){return _c('el-option',{key:item.appearenceLevelId,attrs:{\"label\":item.appearence,\"value\":item.appearence}})}),1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"appearenceLevel\",\"label\":\"外观等级\",\"align\":\"center\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.appearenceLevel)+\"\\n          \")]):_c('div',[_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"\"},model:{value:(scope.row.appearenceLevel),callback:function ($$v) {_vm.$set(scope.row, \"appearenceLevel\", $$v)},expression:\"scope.row.appearenceLevel\"}},_vm._l((_vm.uniqueAppearenceLevelList),function(appearenceLevel,index){return _c('el-option',{key:index,attrs:{\"label\":appearenceLevel,\"value\":appearenceLevel}})}),1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonTotalLevel\",\"label\":\"综合级别\",\"align\":\"center\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.ribbonTotalLevel === '不合格' ? 'text_danger' : ''},[_vm._v(_vm._s(scope.row.ribbonTotalLevel))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"入库规则\",\"align\":\"center\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"trigger\":\"hover\"}},[_c('table',{staticClass:\"popover_table\",attrs:{\"cellpadding\":\"0\",\"cellspacing\":\"0\"}},[_c('thead',[_c('th',[_vm._v(\"类别\")]),_vm._v(\" \"),_c('th',[_vm._v(\"带厚\")]),_vm._v(\" \"),_c('th',[_vm._v(\"叠片\")]),_vm._v(\" \"),_c('th',[_vm._v(\"韧性\")]),_vm._v(\" \"),_c('th',[_vm._v(\"外观\")])]),_vm._v(\" \"),_c('tbody',[_c('tr',[_c('td',[_vm._v(\"计划内入库要求\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(scope.row.storageRule.orderThickness))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(scope.row.storageRule.orderLaminationFactor))]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                    \"+_vm._s(scope.row.storageRule.orderRibbonToughnessLevels)+\"\\n                  \")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(scope.row.storageRule.orderAppearenceLevels))])]),_vm._v(\" \"),_vm._l((scope.row.storageRule\n                    .qualifiedDemands),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(\"计划外入库要求\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.qualifiedThickness))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.qualifiedLaminationFactor))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.qualifiedRibbonToughnessLevels.join()))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.qualifiedAppearenceLevels.join()))])])})],2)]),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"详情\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isStorageConfirmed\",\"label\":\"是否入库\",\"align\":\"center\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.isStorageConfirmed === 1)?_c('span',[_vm._v(\"是\")]):_c('span',{staticClass:\"text_danger\"},[_vm._v(\"否\")])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"isStored\",\"label\":\"入库类别\",\"align\":\"center\",\"width\":\"60px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isStorageConfirmed === 1)?_c('div',[(scope.row.isStored === 1)?_c('span',[_vm._v(\"计划内\")]):_vm._e(),_vm._v(\" \"),(scope.row.isStored === 2)?_c('span',[_vm._v(\"计划外\")]):_vm._e(),_vm._v(\" \"),(scope.row.isStored === 3)?_c('span',{staticClass:\"text_danger\"},[_vm._v(\"否\")]):_vm._e()]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"unStoreReason\",\"label\":\"不入库原因\",\"align\":\"center\",\"min-width\":\"70px\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',{staticClass:\"text_danger\"},[_vm._v(\"\\n            \"+_vm._s(scope.row.unStoreReason)+\"\\n          \")]):_c('div',[_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(scope.row.unStoreReason),callback:function ($$v) {_vm.$set(scope.row, \"unStoreReason\", $$v)},expression:\"scope.row.unStoreReason\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"clients\",\"label\":\"判定去向\",\"align\":\"center\",\"width\":\"80px\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed === 1 || _vm.userinfo.roleId != 5)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.clients ? scope.row.clients.toString() : \"\")+\"\\n          \")]):_c('div',[_c('el-select',{attrs:{\"size\":\"mini\",\"placeholder\":\"\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(scope.row.clients),callback:function ($$v) {_vm.$set(scope.row, \"clients\", $$v)},expression:\"scope.row.clients\"}},_vm._l((_vm.clientsList),function(item){return _c('el-option',{key:item.clientsId,attrs:{\"label\":item.client,\"value\":item.client,\"disabled\":item.isFlat === 0 && scope.row.isFlat === 1}})}),1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"measureDate\",\"label\":\"检测时间\",\"align\":\"center\",\"width\":\"100px\",\"formatter\":_vm.dateTimeFormat,\"show-overflow-tooltip\":true}}),_vm._v(\" \"),(_vm.userinfo.roleId == 5 || _vm.userinfo.roleId == 1)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isMeasureConfirmed !== 1)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\",\"disabled\":!_vm.isEditable},on:{\"click\":function($event){return _vm.save(scope.row)}}},[_vm._v(\"保存\")]):_vm._e()]}}],null,false,2588052046)}):_vm._e()],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total,prev,pager,next\",\"total\":_vm.pageConfig.total,\"current-page\":_vm.pageConfig.current,\"page-size\":_vm.pageConfig.pageSize},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pageConfig, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pageConfig, \"current\", $event)},\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ff79073\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/measure/measure.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ff79073\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./measure.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./measure.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./measure.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ff79073\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./measure.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2ff79073\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/measure/measure.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = Cdx3\n// module chunks = 1 2","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = fZjL\n// module chunks = 1 2","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 1","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = jFbC\n// module chunks = 1 2","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 1 2"],"sourceRoot":""}