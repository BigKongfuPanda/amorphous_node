{"version":3,"sources":["webpack:///src/pages/statistics/statisticsQuality.vue","webpack:///./src/pages/statistics/statisticsQuality.vue?afd2","webpack:///./src/pages/statistics/statisticsQuality.vue"],"names":["statisticsQuality","data","searchForm","castIds","caster","furnace","ribbonTypeNames","ribbonWidths","loading","tableData","pageConfig","total","current","pageSize","computed","extends_default","Object","vuex_esm","created","this","getTableData","getRibbonTypeList","getRibbonWidthList","methods","clickSearch","reset","_this","params","arguments","length","undefined","_params","castIdJson","stringify_default","ribbonTypeNameJson","ribbonWidthJson","assign_default","$http","urlmap","queryStatisticsQuality","then","count","limit","list","catch","err","console","log","finally","handleCurrentChange","val","calcSum","arr","name","reduce","sum","item","toFixed","statistics_statisticsQuality","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","_v","model","inline","label","placeholder","multiple","collapse-tags","value","callback","$$v","$set","expression","_l","key","ribbonTypeId","ribbonTypeName","ribbonWidthId","ribbonWidth","type","icon","on","click","directives","rawName","staticStyle","width","stripe","border","prop","align","background","layout","current-page","page-size","update:currentPage","$event","update:current-page","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/statisticsQuality.c80a256b2e0c955bf957.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\" class=\"crumb\">\r\n      <el-breadcrumb-item>数据统计</el-breadcrumb-item>\r\n      <el-breadcrumb-item>带材质量统计</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-form class=\"search_bar\" :model=\"searchForm\" :inline=\"true\">\r\n      <el-form-item label=\"机组：\">\r\n        <el-select v-model=\"searchForm.castIds\" placeholder=\"请选择机组\" multiple collapse-tags>\r\n          <el-option :value=\"6\" label=\"6号机组\"></el-option>\r\n          <el-option :value=\"7\" label=\"7号机组\"></el-option>\r\n          <el-option :value=\"8\" label=\"8号机组\"></el-option>\r\n          <el-option :value=\"9\" label=\"9号机组\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"喷带手：\">\r\n        <el-input v-model=\"searchForm.caster\" placeholder=\"请输入喷带手姓名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"炉号：\">\r\n        <el-input v-model=\"searchForm.furnace\" placeholder=\"请输入炉号\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"材质：\">\r\n        <el-select v-model=\"searchForm.ribbonTypeNames\" placeholder=\"请选择\" multiple collapse-tags>\r\n          <el-option v-for=\"item in ribbonTypeList\" :key=\"item.ribbonTypeId\" :value=\"item.ribbonTypeName\" :label=\"item.ribbonTypeName\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"规格：\">\r\n        <el-select v-model=\"searchForm.ribbonWidths\" placeholder=\"请选择\" multiple collapse-tags>\r\n          <el-option v-for=\"item in ribbonWidthList\" :key=\"item.ribbonWidthId\" :label=\"item.ribbonWidth\" :value=\"item.ribbonWidth\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"clickSearch\">搜索</el-button>\r\n        <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"reset\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"main_bd\">\r\n      <el-table :data=\"tableData\" stripe border style=\"width:100%\" v-loading=\"loading\">\r\n        <el-table-column prop=\"castId\" label=\"机组\" align=\"center\" width=\"50px\"></el-table-column>\r\n        <el-table-column prop=\"furnace\" label=\"炉号\" align=\"center\" width=\"170px\"></el-table-column>\r\n        <el-table-column prop=\"ribbonTypeName\" label=\"材质\" align=\"center\" width=\"80px\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"ribbonWidth\" label=\"规格\" align=\"center\" width=\"50px\"></el-table-column>\r\n        <el-table-column prop=\"caster\" label=\"喷带手\" align=\"center\" width=\"70px\"></el-table-column>\r\n        <el-table-column prop=\"rawWeight\" label=\"大盘毛重(kg)\" align=\"center\" width=\"110px\"></el-table-column>\r\n        <el-table-column prop=\"coilNetWeight\" label=\"倒卷净重(kg)\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"unqualifiedWeight\" label=\"不合格重量(kg)\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"totalStoredWeight\" label=\"入库重量(kg)\" align=\"center\" width=\"110px\"></el-table-column>\r\n        <el-table-column prop=\"uselessRibbonWeight\" label=\"废带(kg)\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"alloyTotalWeight\" label=\"投入母合金(kg)\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column label=\"质量等级分布\" align=\"center\" width=\"110px\">\r\n          <el-table-column label=\"A\" prop=\"qualityOfA\"></el-table-column>\r\n          <el-table-column label=\"B\" prop=\"qualityOfB\"></el-table-column>\r\n          <el-table-column label=\"C\" prop=\"qualityOfC\"></el-table-column>\r\n          <el-table-column label=\"D\" prop=\"qualityOfD\"></el-table-column>\r\n          <el-table-column label=\"E\" prop=\"qualityOfE\"></el-table-column>\r\n        </el-table-column>\r\n        <el-table-column prop=\"thinRibbonWeight\" label=\"薄带(kg)\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"highFactorThinRibbonWeight\" label=\"高叠片薄带(kg)\" align=\"center\" width=\"80px\"></el-table-column>\r\n        <el-table-column prop=\"inPlanStoredWeight\" label=\"计划内入库(kg)\" align=\"center\" width=\"90px\"></el-table-column>\r\n        <el-table-column prop=\"outPlanStoredWeight\" label=\"计划外入库(kg)\" align=\"center\" width=\"90px\"></el-table-column>\r\n        <el-table-column prop=\"inPlanThickRibbonWeight\" label=\"符合订单非薄带(kg)\" align=\"center\" width=\"100px\"></el-table-column>\r\n        <el-table-column prop=\"qualityOfGood\" label=\"好(kg)\" align=\"center\" width=\"70px\"></el-table-column>\r\n        <el-table-column prop=\"qualityOfFine\" label=\"良(kg)\" align=\"center\" width=\"70px\"></el-table-column>\r\n        <el-table-column prop=\"qualityOfNormal\" label=\"中(kg)\" align=\"center\" width=\"70px\"></el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        layout=\"total,prev,pager,next\"\r\n        :total=\"pageConfig.total\"\r\n        :current-page.sync=\"pageConfig.current\"\r\n        :page-size=\"pageConfig.pageSize\"\r\n        @current-change=\"handleCurrentChange\"></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport urlmap from '@/utils/urlmap';\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        castIds: [],\r\n        caster: '',\r\n        furnace: '',\r\n        ribbonTypeNames: [],\r\n        ribbonWidths: []\r\n      },\r\n      loading: false,\r\n      tableData: [],\r\n      pageConfig: {\r\n        total: 1,\r\n        current: 1,\r\n        pageSize: 10\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'ribbonTypeList', 'ribbonWidthList'\r\n    ])\r\n  },\r\n  created () {\r\n    this.getTableData();\r\n    this.getRibbonTypeList();\r\n    this.getRibbonWidthList();\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'getRibbonTypeList', 'getRibbonWidthList'\r\n    ]),\r\n    clickSearch() {\r\n      // 重置当前页码为1\r\n      const params = {\r\n        current: 1\r\n      };\r\n      this.pageConfig.current = 1;\r\n      this.getTableData(params);\r\n    },\r\n    reset() {\r\n      this.searchForm = { castIds: [], caster: '', furnace: '', ribbonTypeNames: [], ribbonWidths: [] };\r\n      const params = {\r\n        current: 1\r\n      };\r\n      this.pageConfig.current = 1;\r\n      this.getTableData(params);\r\n    },\r\n    getTableData(params = {}) {\r\n      const _params = {\r\n        castIdJson: JSON.stringify(this.searchForm.castIds),\r\n        caster: this.searchForm.caster,\r\n        furnace: this.searchForm.furnace,\r\n        ribbonTypeNameJson: JSON.stringify(this.searchForm.ribbonTypeNames),\r\n        ribbonWidthJson: JSON.stringify(this.searchForm.ribbonWidths)\r\n      };\r\n      Object.assign(params, _params);\r\n      this.$http('get', urlmap.queryStatisticsQuality, params).then(data => {\r\n        this.pageConfig.total = data.count;\r\n        this.pageConfig.pageSize = data.limit;\r\n        // data.list.forEach(item => {\r\n        //   const fromMeasure = item.fromMeasure;\r\n        //   item.totalStoredWeight = this.calcSum(fromMeasure, 'totalStoredWeight');\r\n        //   item.inPlanStoredWeight = this.calcSum(fromMeasure, 'inPlanStoredWeight');\r\n        //   item.outPlanStoredWeight = this.calcSum(fromMeasure, 'outPlanStoredWeight');\r\n        //   item.qualityOfA = this.calcSum(fromMeasure, 'qualityOfA');\r\n        //   item.qualityOfB = this.calcSum(fromMeasure, 'qualityOfB');\r\n        //   item.qualityOfC = this.calcSum(fromMeasure, 'qualityOfC');\r\n        //   item.qualityOfD = this.calcSum(fromMeasure, 'qualityOfD');\r\n        //   item.qualityOfE = this.calcSum(fromMeasure, 'qualityOfE');\r\n        //   item.thinRibbonWeight = this.calcSum(fromMeasure, 'thinRibbonWeight');\r\n        //   item.highFactorThinRibbonWeight = this.calcSum(fromMeasure, 'highFactorThinRibbonWeight');\r\n        //   item.inPlanThickRibbonWeight = this.calcSum(fromMeasure, 'inPlanThickRibbonWeight');\r\n        //   item.qualityOfGood = this.calcSum(fromMeasure, 'qualityOfGood');\r\n        //   item.qualityOfFine = this.calcSum(fromMeasure, 'qualityOfFine');\r\n        //   item.qualityOfNormal = this.calcSum(fromMeasure, 'qualityOfNormal');\r\n        //   item.netWeight = this.calcSum(fromMeasure, 'coilNetWeight');\r\n        //   item.unqualifiedWeight = item.netWeight - item.totalStoredWeight;\r\n        //   item.alloyTotalWeight = item.fromMelt[0] && item.fromMelt[0].alloyTotalWeight ? item.fromMelt[0].alloyTotalWeight : 0;\r\n        // });\r\n        this.tableData = data.list;\r\n      }).catch((err) => {\r\n        console.log(err);\r\n      }).finally(() => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n    handleCurrentChange(val) {\r\n      const params = {\r\n        current: val\r\n      };\r\n      this.getTableData(params);\r\n    },\r\n    calcSum(arr, name) {\r\n      return arr.reduce((sum, item) => {\r\n        if (item[name] === undefined || item[name] === null) {\r\n          item[name] = 0;\r\n        }\r\n        return sum + item[name];\r\n      }, 0).toFixed(2);\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/statistics/statisticsQuality.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{staticClass:\"crumb\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"数据统计\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"带材质量统计\")])],1),_vm._v(\" \"),_c('el-form',{staticClass:\"search_bar\",attrs:{\"model\":_vm.searchForm,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"机组：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择机组\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.castIds),callback:function ($$v) {_vm.$set(_vm.searchForm, \"castIds\", $$v)},expression:\"searchForm.castIds\"}},[_c('el-option',{attrs:{\"value\":6,\"label\":\"6号机组\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"value\":7,\"label\":\"7号机组\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"value\":8,\"label\":\"8号机组\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"value\":9,\"label\":\"9号机组\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"喷带手：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入喷带手姓名\"},model:{value:(_vm.searchForm.caster),callback:function ($$v) {_vm.$set(_vm.searchForm, \"caster\", $$v)},expression:\"searchForm.caster\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"炉号：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入炉号\"},model:{value:(_vm.searchForm.furnace),callback:function ($$v) {_vm.$set(_vm.searchForm, \"furnace\", $$v)},expression:\"searchForm.furnace\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"材质：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.ribbonTypeNames),callback:function ($$v) {_vm.$set(_vm.searchForm, \"ribbonTypeNames\", $$v)},expression:\"searchForm.ribbonTypeNames\"}},_vm._l((_vm.ribbonTypeList),function(item){return _c('el-option',{key:item.ribbonTypeId,attrs:{\"value\":item.ribbonTypeName,\"label\":item.ribbonTypeName}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.searchForm.ribbonWidths),callback:function ($$v) {_vm.$set(_vm.searchForm, \"ribbonWidths\", $$v)},expression:\"searchForm.ribbonWidths\"}},_vm._l((_vm.ribbonWidthList),function(item){return _c('el-option',{key:item.ribbonWidthId,attrs:{\"label\":item.ribbonWidth,\"value\":item.ribbonWidth}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.clickSearch}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"main_bd\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"castId\",\"label\":\"机组\",\"align\":\"center\",\"width\":\"50px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"furnace\",\"label\":\"炉号\",\"align\":\"center\",\"width\":\"170px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonTypeName\",\"label\":\"材质\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ribbonWidth\",\"label\":\"规格\",\"align\":\"center\",\"width\":\"50px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"caster\",\"label\":\"喷带手\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"rawWeight\",\"label\":\"大盘毛重(kg)\",\"align\":\"center\",\"width\":\"110px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"coilNetWeight\",\"label\":\"倒卷净重(kg)\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"unqualifiedWeight\",\"label\":\"不合格重量(kg)\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalStoredWeight\",\"label\":\"入库重量(kg)\",\"align\":\"center\",\"width\":\"110px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"uselessRibbonWeight\",\"label\":\"废带(kg)\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"alloyTotalWeight\",\"label\":\"投入母合金(kg)\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"质量等级分布\",\"align\":\"center\",\"width\":\"110px\"}},[_c('el-table-column',{attrs:{\"label\":\"A\",\"prop\":\"qualityOfA\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"B\",\"prop\":\"qualityOfB\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"C\",\"prop\":\"qualityOfC\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"D\",\"prop\":\"qualityOfD\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"E\",\"prop\":\"qualityOfE\"}})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"thinRibbonWeight\",\"label\":\"薄带(kg)\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"highFactorThinRibbonWeight\",\"label\":\"高叠片薄带(kg)\",\"align\":\"center\",\"width\":\"80px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"inPlanStoredWeight\",\"label\":\"计划内入库(kg)\",\"align\":\"center\",\"width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"outPlanStoredWeight\",\"label\":\"计划外入库(kg)\",\"align\":\"center\",\"width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"inPlanThickRibbonWeight\",\"label\":\"符合订单非薄带(kg)\",\"align\":\"center\",\"width\":\"100px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"qualityOfGood\",\"label\":\"好(kg)\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"qualityOfFine\",\"label\":\"良(kg)\",\"align\":\"center\",\"width\":\"70px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"qualityOfNormal\",\"label\":\"中(kg)\",\"align\":\"center\",\"width\":\"70px\"}})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total,prev,pager,next\",\"total\":_vm.pageConfig.total,\"current-page\":_vm.pageConfig.current,\"page-size\":_vm.pageConfig.pageSize},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.pageConfig, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.pageConfig, \"current\", $event)},\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-206d2eb4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/statistics/statisticsQuality.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-206d2eb4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./statisticsQuality.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./statisticsQuality.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./statisticsQuality.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-206d2eb4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./statisticsQuality.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-206d2eb4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/statistics/statisticsQuality.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}