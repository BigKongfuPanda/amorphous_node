[2019-07-14T20:46:45.764] [ERROR] melt - string violation: furnace cannot be an array or an object { SequelizeValidationError: string violation: furnace cannot be an array or an object
    at Promise.all.then (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\instance-validator.js:74:15)
From previous event:
    at InstanceValidator._validate (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\instance-validator.js:72:8)
    at runHooks.then (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\instance-validator.js:107:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at InstanceValidator._validateAndRunHooks (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\instance-validator.js:106:8)
    at InstanceValidator.validate (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\instance-validator.js:90:38)
    at model.validate (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\model.js:3963:49)
    at Promise.try (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\model.js:2936:22)
From previous event:
    at Function.update (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\model.js:2923:23)
    at updateData (E:\学习资料\前端开发\amorphous_node\controller\melt.js:191:25)
  name: 'SequelizeValidationError',
  errors:
   [ ValidationErrorItem {
       message: 'furnace cannot be an array or an object',
       type: 'string violation',
       path: 'furnace',
       value: [melt],
       origin: 'CORE',
       instance: [cast],
       validatorKey: 'not_a_string',
       validatorName: null,
       validatorArgs: [] } ] }
[2019-07-17T09:27:47.984] [ERROR] user - 用户不存在 Error: 用户不存在
    at login (E:\学习资料\前端开发\amorphous_node\controller\user.js:245:15)
[2019-07-17T23:25:10.474] [ERROR] user - 密码错误 Error: 密码错误
    at login (E:\学习资料\前端开发\amorphous_node\controller\user.js:247:15)
[2019-07-17T23:25:26.849] [ERROR] user - 密码错误 Error: 密码错误
    at login (E:\学习资料\前端开发\amorphous_node\controller\user.js:247:15)
[2019-07-17T23:25:55.137] [ERROR] measure - 新增重卷记录失败 ReferenceError: ribbonWidth is not defined
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:239:7)
[2019-07-17T23:26:20.211] [ERROR] measure - 新增重卷记录失败 ReferenceError: ribbonWidth is not defined
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:239:7)
[2019-07-18T23:21:49.350] [ERROR] measure - 新增重卷记录失败 ReferenceError: coilNetWeight is not defined
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:276:43)
[2019-07-18T23:54:40.598] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:215:15)
[2019-07-18T23:54:58.274] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:215:15)
[2019-07-18T23:55:01.198] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:215:15)
[2019-07-18T23:55:03.958] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:215:15)
[2019-07-18T23:55:07.587] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:215:15)
[2019-07-20T11:39:39.555] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at updateData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:401:17)
[2019-07-20T11:51:31.411] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at updateData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:403:17)
[2019-07-20T16:19:25.113] [ERROR] user - 密码错误 Error: 密码错误
    at login (E:\学习资料\前端开发\amorphous_node\controller\user.js:247:15)
[2019-07-20T18:36:15.101] [ERROR] measure - read ECONNRESET { SequelizeDatabaseError: read ECONNRESET
    at Query.formatError (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\dialects\mysql\query.js:239:16)
    at handler (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\dialects\mysql\query.js:46:23)
    at Prepare.Commands.Prepare [as onResult] (E:\学习资料\前端开发\amorphous_node\node_modules\mysql2\lib\connection.js:636:11)
    at Connection._notifyError (E:\学习资料\前端开发\amorphous_node\node_modules\mysql2\lib\connection.js:190:21)
    at Connection._handleFatalError (E:\学习资料\前端开发\amorphous_node\node_modules\mysql2\lib\connection.js:153:10)
    at Connection._handleNetworkError (E:\学习资料\前端开发\amorphous_node\node_modules\mysql2\lib\connection.js:162:10)
    at Socket.emit (events.js:189:13)
    at emitErrorNT (internal/streams/destroy.js:82:8)
    at emitErrorAndCloseNT (internal/streams/destroy.js:50:3)
    at process._tickCallback (internal/process/next_tick.js:63:19)
From previous event:
    at Query.run (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\dialects\mysql\query.js:39:12)
    at runHooks.then (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\sequelize.js:635:12)
From previous event:
    at Promise.resolve.retry (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\sequelize.js:632:10)
    at E:\学习资料\前端开发\amorphous_node\node_modules\retry-as-promised\index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (E:\学习资料\前端开发\amorphous_node\node_modules\retry-as-promised\index.js:60:10)
    at Promise.try (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\sequelize.js:619:30)
From previous event:
    at Sequelize.query (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\sequelize.js:576:23)
    at QueryInterface.bulkUpdate (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\query-interface.js:1043:27)
    at Promise.try.then.then.then.results (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\model.js:3052:34)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Function.update (E:\学习资料\前端开发\amorphous_node\node_modules\sequelize\lib\model.js:3033:8)
    at updateData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:430:40)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\route.js:137:13)
    at Route.dispatch (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\route.js:112:3)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:281:22
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at Function.handle (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:174:3)
    at router (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:317:13)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:284:7
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at checkLogin (E:\学习资料\前端开发\amorphous_node\middleware\checkLogin.js:9:5)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:317:13)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:284:7
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express-session\index.js:489:7
  name: 'SequelizeDatabaseError',
  parent:
   { Error: read ECONNRESET
       at TCP.onStreamRead (internal/stream_base_commons.js:111:27)
     errno: 'ECONNRESET',
     code: 'ECONNRESET',
     syscall: 'read',
     fatal: true,
     sql:
      'UPDATE `measure` SET `castId`=?,`furnace`=?,`coilNumber`=?,`diameter`=?,`coilWeight`=?,`coilNetWeight`=?,`ribbonTypeName`=?,`ribbonWidth`=?,`castDate`=?,`caster`=?,`roller`=?,`rollMachine`=?,`isFlat`=?,`laminationFactor`=?,`laminationLevel`=?,`realRibbonWidth`=?,`ribbonThickness1`=?,`ribbonThickness2`=?,`ribbonThickness3`=?,`ribbonThickness4`=?,`ribbonThickness5`=?,`ribbonThickness6`=?,`ribbonThickness7`=?,`ribbonThickness8`=?,`ribbonThickness9`=?,`ribbonThicknessDeviation`=?,`ribbonThickness`=?,`ribbonThicknessLevel`=?,`ribbonToughness`=?,`ribbonToughnessLevel`=?,`appearence`=?,`appearenceLevel`=?,`ribbonTotalLevel`=?,`isMeasureConfirmed`=?,`isStored`=?,`clients`=?,`remainWeight`=?,`totalStoredWeight`=?,`inPlanStoredWeight`=?,`outPlanStoredWeight`=?,`qualityOfA`=?,`qualityOfB`=?,`qualityOfC`=?,`qualityOfD`=?,`qualityOfE`=?,`highFactorThinRibbonWeight`=?,`thinRibbonWeight`=?,`inPlanThickRibbonWeight`=?,`qualityOfGood`=?,`qualityOfFine`=?,`qualityOfNormal`=?,`updatedAt`=? WHERE `measureId` = ?' },
  original:
   { Error: read ECONNRESET
       at TCP.onStreamRead (internal/stream_base_commons.js:111:27)
     errno: 'ECONNRESET',
     code: 'ECONNRESET',
     syscall: 'read',
     fatal: true,
     sql:
      'UPDATE `measure` SET `castId`=?,`furnace`=?,`coilNumber`=?,`diameter`=?,`coilWeight`=?,`coilNetWeight`=?,`ribbonTypeName`=?,`ribbonWidth`=?,`castDate`=?,`caster`=?,`roller`=?,`rollMachine`=?,`isFlat`=?,`laminationFactor`=?,`laminationLevel`=?,`realRibbonWidth`=?,`ribbonThickness1`=?,`ribbonThickness2`=?,`ribbonThickness3`=?,`ribbonThickness4`=?,`ribbonThickness5`=?,`ribbonThickness6`=?,`ribbonThickness7`=?,`ribbonThickness8`=?,`ribbonThickness9`=?,`ribbonThicknessDeviation`=?,`ribbonThickness`=?,`ribbonThicknessLevel`=?,`ribbonToughness`=?,`ribbonToughnessLevel`=?,`appearence`=?,`appearenceLevel`=?,`ribbonTotalLevel`=?,`isMeasureConfirmed`=?,`isStored`=?,`clients`=?,`remainWeight`=?,`totalStoredWeight`=?,`inPlanStoredWeight`=?,`outPlanStoredWeight`=?,`qualityOfA`=?,`qualityOfB`=?,`qualityOfC`=?,`qualityOfD`=?,`qualityOfE`=?,`highFactorThinRibbonWeight`=?,`thinRibbonWeight`=?,`inPlanThickRibbonWeight`=?,`qualityOfGood`=?,`qualityOfFine`=?,`qualityOfNormal`=?,`updatedAt`=? WHERE `measureId` = ?' },
  sql:
   'UPDATE `measure` SET `castId`=?,`furnace`=?,`coilNumber`=?,`diameter`=?,`coilWeight`=?,`coilNetWeight`=?,`ribbonTypeName`=?,`ribbonWidth`=?,`castDate`=?,`caster`=?,`roller`=?,`rollMachine`=?,`isFlat`=?,`laminationFactor`=?,`laminationLevel`=?,`realRibbonWidth`=?,`ribbonThickness1`=?,`ribbonThickness2`=?,`ribbonThickness3`=?,`ribbonThickness4`=?,`ribbonThickness5`=?,`ribbonThickness6`=?,`ribbonThickness7`=?,`ribbonThickness8`=?,`ribbonThickness9`=?,`ribbonThicknessDeviation`=?,`ribbonThickness`=?,`ribbonThicknessLevel`=?,`ribbonToughness`=?,`ribbonToughnessLevel`=?,`appearence`=?,`appearenceLevel`=?,`ribbonTotalLevel`=?,`isMeasureConfirmed`=?,`isStored`=?,`clients`=?,`remainWeight`=?,`totalStoredWeight`=?,`inPlanStoredWeight`=?,`outPlanStoredWeight`=?,`qualityOfA`=?,`qualityOfB`=?,`qualityOfC`=?,`qualityOfD`=?,`qualityOfE`=?,`highFactorThinRibbonWeight`=?,`thinRibbonWeight`=?,`inPlanThickRibbonWeight`=?,`qualityOfGood`=?,`qualityOfFine`=?,`qualityOfNormal`=?,`updatedAt`=? WHERE `measureId` = ?' }
[2019-07-20T22:26:16.198] [ERROR] measure - 重卷总重不能大于当前炉次的大盘毛重 Error: 重卷总重不能大于当前炉次的大盘毛重
    at createData (E:\学习资料\前端开发\amorphous_node\controller\measure.js:215:15)
[2019-07-21T12:24:59.839] [ERROR] storage - 参数错误 Error: 参数错误
    at StorageService.batchOutStore (E:\学习资料\前端开发\amorphous_node\service\storage.js:71:15)
    at updateData (E:\学习资料\前端开发\amorphous_node\controller\storage.js:183:29)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\route.js:137:13)
    at Route.dispatch (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\route.js:112:3)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:281:22
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at Function.handle (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:174:3)
    at router (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:317:13)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:284:7
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at checkLogin (E:\学习资料\前端开发\amorphous_node\middleware\checkLogin.js:9:5)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:317:13)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:284:7
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express-session\index.js:489:7
    at tryCatcher (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\util.js:16:23)
    at Promise.successAdapter [as _fulfillmentHandler0] (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\nodeify.js:23:30)
    at Promise._settlePromise (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\promise.js:566:21)
    at Promise._settlePromise0 (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\promise.js:693:18)
[2019-07-21T12:33:11.029] [ERROR] storage - 参数错误 Error: 参数错误
    at StorageService.batchOutStore (E:\学习资料\前端开发\amorphous_node\service\storage.js:71:15)
    at updateData (E:\学习资料\前端开发\amorphous_node\controller\storage.js:183:29)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\route.js:137:13)
    at Route.dispatch (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\route.js:112:3)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:281:22
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at Function.handle (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:174:3)
    at router (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:317:13)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:284:7
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at checkLogin (E:\学习资料\前端开发\amorphous_node\middleware\checkLogin.js:9:5)
    at Layer.handle [as handle_request] (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:317:13)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:284:7
    at Function.process_params (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:335:12)
    at next (E:\学习资料\前端开发\amorphous_node\node_modules\express\lib\router\index.js:275:10)
    at E:\学习资料\前端开发\amorphous_node\node_modules\express-session\index.js:489:7
    at tryCatcher (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\util.js:16:23)
    at Promise.successAdapter [as _fulfillmentHandler0] (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\nodeify.js:23:30)
    at Promise._settlePromise (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\promise.js:566:21)
    at Promise._settlePromise0 (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\promise.js:614:10)
    at Promise._settlePromises (E:\学习资料\前端开发\amorphous_node\node_modules\bluebird\js\release\promise.js:693:18)
