[2019-08-26T10:48:03.568] [ERROR] statistics - 查询直通率统计失败 { SequelizeDatabaseError: Table 'daicai.c' doesn't exist
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryDataOfRatio (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/statistics.js:230:32)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Table 'daicai.c' doesn't exist
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NO_SUCH_TABLE',
     errno: 1146,
     sqlState: '42S02',
     sqlMessage: 'Table \'daicai.c\' doesn\'t exist',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.lowHeatNum) AS lowHeatNum,\n            SUM(c.zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM c\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM c\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast c\n            JOIN melt t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  original:
   { Error: Table 'daicai.c' doesn't exist
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NO_SUCH_TABLE',
     errno: 1146,
     sqlState: '42S02',
     sqlMessage: 'Table \'daicai.c\' doesn\'t exist',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.lowHeatNum) AS lowHeatNum,\n            SUM(c.zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM c\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM c\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast c\n            JOIN melt t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  sql:
   'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.lowHeatNum) AS lowHeatNum,\n            SUM(c.zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM c\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM c\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast c\n            JOIN melt t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' }
[2019-08-26T10:58:07.752] [ERROR] statistics - 查询直通率统计失败 { SequelizeDatabaseError: Unknown column 'c.lowHeatNum' in 'field list'
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryDataOfRatio (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/statistics.js:230:32)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Unknown column 'c.lowHeatNum' in 'field list'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'c.lowHeatNum\' in \'field list\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.lowHeatNum) AS lowHeatNum,\n            SUM(c.zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  original:
   { Error: Unknown column 'c.lowHeatNum' in 'field list'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'c.lowHeatNum\' in \'field list\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.lowHeatNum) AS lowHeatNum,\n            SUM(c.zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  sql:
   'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.lowHeatNum) AS lowHeatNum,\n            SUM(c.zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' }
[2019-08-26T10:59:31.806] [ERROR] statistics - 查询直通率统计失败 { SequelizeDatabaseError: Unknown column 'lowHeatNum' in 'field list'
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryDataOfRatio (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/statistics.js:230:32)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Unknown column 'lowHeatNum' in 'field list'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'lowHeatNum\' in \'field list\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(lowHeatNum) AS lowHeatNum,\n            SUM(zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  original:
   { Error: Unknown column 'lowHeatNum' in 'field list'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'lowHeatNum\' in \'field list\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(lowHeatNum) AS lowHeatNum,\n            SUM(zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  sql:
   'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(lowHeatNum) AS lowHeatNum,\n            SUM(zeroHeatNum) AS zeroHeatNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' }
[2019-08-26T11:08:14.626] [ERROR] statistics - 查询直通率统计失败 { SequelizeDatabaseError: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT COUNT(*)
                FROM cast
                WHERE rawWeight <= 50 ' at line 52
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryDataOfRatio (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/statistics.js:228:32)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT COUNT(*)
                   FROM cast
                   WHERE rawWeight <= 50 ' at line 52
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     sqlMessage:
      'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 \' at line 52',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            SUM(\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            SUM(\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  original:
   { Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT COUNT(*)
                   FROM cast
                   WHERE rawWeight <= 50 ' at line 52
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     sqlMessage:
      'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 \' at line 52',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            SUM(\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            SUM(\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  sql:
   'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            SUM(\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            SUM(\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' }
[2019-08-26T11:08:55.024] [ERROR] statistics - 查询直通率统计失败 { SequelizeDatabaseError: Unknown column 'c.alloyTotalWeight' in 'field list'
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryDataOfRatio (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/statistics.js:228:32)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Unknown column 'c.alloyTotalWeight' in 'field list'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'c.alloyTotalWeight\' in \'field list\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  original:
   { Error: Unknown column 'c.alloyTotalWeight' in 'field list'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'c.alloyTotalWeight\' in \'field list\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  sql:
   'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(c.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' }
[2019-08-26T11:09:50.119] [ERROR] statistics - 查询直通率统计失败 { SequelizeDatabaseError: Unknown column 't.caster' in 'on clause'
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryDataOfRatio (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/statistics.js:227:32)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Unknown column 't.caster' in 'on clause'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'t.caster\' in \'on clause\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(t.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  original:
   { Error: Unknown column 't.caster' in 'on clause'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'t.caster\' in \'on clause\'',
     sql:
      'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(t.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' },
  sql:
   'SELECT\n          j.caster,\n          m.totalHeatNum,\n          j.nozzleNum,\n          j.lowHeatNum,\n          j.zeroHeatNum,\n          j.alloyTotalWeight,\n          j.rawWeight,\n          m.coilNetWeight,\n          m.inPlanStoredWeight,\n          m.outPlanStoredWeight,\n          m.totalStoredWeight,\n          (m.coilNetWeight-m.totalStoredWeight) AS unqualifiedWeight,\n          j.uselessRibbonWeight,\n          j.meltOutWeight,\n          (j.rawWeight+j.uselessRibbonWeight)/j.alloyTotalWeight AS effectiveMeltRatio,\n          j.rawWeight/(j.rawWeight+j.uselessRibbonWeight) AS rollRatio,\n          m.totalStoredWeight/j.rawWeight AS qualifiedRatio,\n          m.qualityOfA,\n          m.qualityOfB,\n          m.qualityOfC,\n          m.qualityOfD,\n          m.qualityOfE,\n          m.qualityOfGood,\n          m.qualityOfFine,\n          m.qualityOfNormal\n        FROM\n          (\n            SELECT\n            caster,\n            COUNT(DISTINCT furnace) AS totalHeatNum,\n            SUM(coilNetWeight) AS coilNetWeight,\n            SUM(inPlanStoredWeight) AS inPlanStoredWeight,\n            SUM(outPlanStoredWeight) AS outPlanStoredWeight,\n            SUM(totalStoredWeight) AS totalStoredWeight,\n            SUM(coilNetWeight-totalStoredWeight) AS unqualifiedWeight,\n            SUM(qualityOfA) AS qualityOfA,\n            SUM(qualityOfB) AS qualityOfB,\n            SUM(qualityOfC) AS qualityOfC,\n            SUM(qualityOfD) AS qualityOfD,\n            SUM(qualityOfE) AS qualityOfE,\n            SUM(qualityOfGood) AS qualityOfGood,\n            SUM(qualityOfFine) AS qualityOfFine,\n            SUM(qualityOfNormal) AS qualityOfNormal\n            FROM measure\n            GROUP BY caster\n          ) AS m\n          LEFT JOIN\n          (\n            SELECT\n            c.caster,\n            SUM(t.alloyTotalWeight) AS alloyTotalWeight,\n            SUM(c.nozzleNum) AS nozzleNum,\n            SUM(c.rawWeight) AS rawWeight,\n            SUM(c.uselessRibbonWeight) AS uselessRibbonWeight,\n            SUM(c.meltOutWeight) AS meltOutWeight,\n            SUM(c.rawWeight+c.uselessRibbonWeight)/SUM(t.alloyTotalWeight) AS effectiveMeltRatio,\n            SUM(c.rawWeight)/SUM(c.rawWeight+c.uselessRibbonWeight) AS rollRatio,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight <= 50 AND castId = 7 OR rawWeight <= 80 AND castId IN (6,8,9)\n            ) AS lowHeatNum,\n            (\n                SELECT COUNT(*)\n                FROM cast\n                WHERE rawWeight = 0\n            ) AS zeroHeatNumj\n            FROM cast AS c\n            JOIN melt AS t\n            ON c.caster = t.caster\n            GROUP BY c.caster\n          ) AS j\n          ON m.caster = j.caster;' }
[2019-09-02T20:28:40.457] [ERROR] measure - 查询检测记录失败 { SequelizeDatabaseError: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY furnace DESC, coilNumber ASC, castDate DESC' at line 4
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryData (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/measure.js:173:34)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY furnace DESC, coilNumber ASC, castDate DESC' at line 4
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     sqlMessage:
      'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'ORDER BY furnace DESC, coilNumber ASC, castDate DESC\' at line 4',
     sql:
      'SELECT m.*, c.* FROM measure m LEFT JOIN cast c ON m.furnace=c.furnace\n      WHERE  castId=6\n      LIMIT 30 OFFSET 0\n      ORDER BY furnace DESC, coilNumber ASC, castDate DESC' },
  original:
   { Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY furnace DESC, coilNumber ASC, castDate DESC' at line 4
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     sqlMessage:
      'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'ORDER BY furnace DESC, coilNumber ASC, castDate DESC\' at line 4',
     sql:
      'SELECT m.*, c.* FROM measure m LEFT JOIN cast c ON m.furnace=c.furnace\n      WHERE  castId=6\n      LIMIT 30 OFFSET 0\n      ORDER BY furnace DESC, coilNumber ASC, castDate DESC' },
  sql:
   'SELECT m.*, c.* FROM measure m LEFT JOIN cast c ON m.furnace=c.furnace\n      WHERE  castId=6\n      LIMIT 30 OFFSET 0\n      ORDER BY furnace DESC, coilNumber ASC, castDate DESC' }
[2019-09-02T20:30:53.431] [ERROR] measure - 查询检测记录失败 { SequelizeDatabaseError: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC' at line 4
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryData (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/measure.js:173:34)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC' at line 4
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     sqlMessage:
      'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\' at line 4',
     sql:
      'SELECT m.*, c.* FROM measure m LEFT JOIN cast c ON m.furnace=c.furnace\n      WHERE  castId=6\n      LIMIT 30 OFFSET 0\n      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC' },
  original:
   { Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC' at line 4
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_PARSE_ERROR',
     errno: 1064,
     sqlState: '42000',
     sqlMessage:
      'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\' at line 4',
     sql:
      'SELECT m.*, c.* FROM measure m LEFT JOIN cast c ON m.furnace=c.furnace\n      WHERE  castId=6\n      LIMIT 30 OFFSET 0\n      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC' },
  sql:
   'SELECT m.*, c.* FROM measure m LEFT JOIN cast c ON m.furnace=c.furnace\n      WHERE  castId=6\n      LIMIT 30 OFFSET 0\n      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC' }
[2019-09-02T20:36:48.089] [ERROR] measure - 查询检测记录失败 { SequelizeDatabaseError: Column 'castId' in where clause is ambiguous
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryData (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/measure.js:180:34)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Column 'castId' in where clause is ambiguous
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NON_UNIQ_ERROR',
     errno: 1052,
     sqlState: '23000',
     sqlMessage: 'Column \'castId\' in where clause is ambiguous',
     sql:
      'SELECT \n                        m.*, c.* \n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  original:
   { Error: Column 'castId' in where clause is ambiguous
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NON_UNIQ_ERROR',
     errno: 1052,
     sqlState: '23000',
     sqlMessage: 'Column \'castId\' in where clause is ambiguous',
     sql:
      'SELECT \n                        m.*, c.* \n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  sql:
   'SELECT \n                        m.*, c.* \n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' }
[2019-09-02T20:42:01.987] [ERROR] measure - 查询检测记录失败 { SequelizeDatabaseError: Column 'castId' in where clause is ambiguous
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryData (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/measure.js:180:34)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Column 'castId' in where clause is ambiguous
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NON_UNIQ_ERROR',
     errno: 1052,
     sqlState: '23000',
     sqlMessage: 'Column \'castId\' in where clause is ambiguous',
     sql:
      'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  original:
   { Error: Column 'castId' in where clause is ambiguous
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NON_UNIQ_ERROR',
     errno: 1052,
     sqlState: '23000',
     sqlMessage: 'Column \'castId\' in where clause is ambiguous',
     sql:
      'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  sql:
   'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' }
[2019-09-02T20:42:42.212] [ERROR] measure - 查询检测记录失败 { SequelizeDatabaseError: Column 'castId' in where clause is ambiguous
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryData (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/measure.js:180:34)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Column 'castId' in where clause is ambiguous
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NON_UNIQ_ERROR',
     errno: 1052,
     sqlState: '23000',
     sqlMessage: 'Column \'castId\' in where clause is ambiguous',
     sql:
      'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster, c.castId\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  original:
   { Error: Column 'castId' in where clause is ambiguous
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_NON_UNIQ_ERROR',
     errno: 1052,
     sqlState: '23000',
     sqlMessage: 'Column \'castId\' in where clause is ambiguous',
     sql:
      'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster, c.castId\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  sql:
   'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster, c.castId\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      WHERE  castId=6\n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' }
[2019-09-02T20:47:47.180] [ERROR] measure - 查询检测记录失败 { SequelizeDatabaseError: Unknown column 'c.castDate' in 'order clause'
    at Query.formatError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:239:16)
    at Query.handler [as onResult] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:46:23)
    at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:30:14)
    at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
    at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
    at Socket.emit (events.js:189:13)
    at addChunk (_stream_readable.js:284:12)
    at readableAddChunk (_stream_readable.js:265:11)
    at Socket.Readable.push (_stream_readable.js:220:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/dialects/mysql/query.js:39:12)
    at runHooks.then (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:29)
From previous event:
    at Promise.try.then.connection (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:635:12)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Promise.resolve.retry (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:632:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:70:21
    at new Promise (<anonymous>)
    at retryAsPromised (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/retry-as-promised/index.js:60:10)
    at Promise.try (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:619:30)
From previous event:
    at Sequelize.query (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/sequelize/lib/sequelize.js:576:23)
    at queryData (/Users/zhanghaiquan/Documents/my/amorphous_node/controller/measure.js:180:34)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:174:3)
    at router (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at checkLogin (/Users/zhanghaiquan/Documents/my/amorphous_node/middleware/checkLogin.js:9:5)
    at Layer.handle [as handle_request] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:317:13)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express/lib/router/index.js:275:10)
    at /Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/express-session/index.js:489:7
    at runCallback (timers.js:705:18)
  name: 'SequelizeDatabaseError',
  parent:
   { Error: Unknown column 'c.castDate' in 'order clause'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'c.castDate\' in \'order clause\'',
     sql:
      'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster, c.castId\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      \n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  original:
   { Error: Unknown column 'c.castDate' in 'order clause'
       at Packet.asError (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packets/packet.js:684:17)
       at Query.execute (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/commands/command.js:28:26)
       at Connection.handlePacket (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:449:32)
       at PacketParser.Connection.packetParser.p [as onPacket] (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:72:12)
       at PacketParser.executeStart (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/packet_parser.js:75:16)
       at Socket.Connection.stream.on.data (/Users/zhanghaiquan/Documents/my/amorphous_node/node_modules/mysql2/lib/connection.js:79:25)
       at Socket.emit (events.js:189:13)
       at addChunk (_stream_readable.js:284:12)
       at readableAddChunk (_stream_readable.js:265:11)
       at Socket.Readable.push (_stream_readable.js:220:10)
       at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
     code: 'ER_BAD_FIELD_ERROR',
     errno: 1054,
     sqlState: '42S22',
     sqlMessage: 'Unknown column \'c.castDate\' in \'order clause\'',
     sql:
      'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster, c.castId\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      \n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' },
  sql:
   'SELECT \n                        m.*, c.ribbonTypeName, c.ribbonWidth, c.createTime, c.caster, c.castId\n                      FROM measure m \n                      LEFT JOIN cast c \n                      ON m.furnace=c.furnace\n                      \n                      ORDER BY m.furnace DESC, m.coilNumber ASC, c.castDate DESC\n                      LIMIT 30 OFFSET 0' }
